(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1046:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(21)),r=s(a(5)),o=s(a(7)),l=s(a(4)),i=s(a(6)),u=a(1),f=s(u);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return(0,r.default)(this,t),(0,l.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"customize-page "+(this.props.className?this.props.className:"")},f.default.createElement("div",{className:"customize-content"},this.props.children))}}]),t}(u.Component);t.default=c},1071:function(e,t,a){e.exports=a.p+"images/placeholderNew.png"},1264:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=D(a(930)),r=D(a(230)),o=D(a(171)),l=D(a(112)),i=D(a(2)),u=D(a(170)),f=D(a(77)),s=D(a(21)),c=D(a(5)),d=D(a(7)),m=D(a(4)),p=D(a(6));a(931);var g=a(1),h=D(g),v=a(37),C=a(19),k=D(a(1046)),y=D(a(1265)),b=D(a(1266)),I=D(a(1268)),E=D(a(35)),T=D(a(68)),_=D(a(1071));function D(e){return e&&e.__esModule?e:{default:e}}var N=D(a(26)).default.base,P=N.NCDiv,z=N.NCButton,U=function(e){function t(e){(0,c.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.handdleRefChange=function(e,t){var n=a.props.json,r=(0,C.deepClone)(a.state),o={};if("itemTypeInfo"==t){0==r.submitDate.filter((function(t){return t.itemTypeInfo.refname==e.refname})).length?(o.submitDate=r.submitDate.concat({itemTypeInfo:{refname:e.refcode,showname:e.refname},agentInfo:[]}),o.curItemType=e.refcode):(0,T.default)({status:"warning",msg:(0,C.langCheck)("Customize-000000","pages",n)})}else{var l=r.submitDate;l.map((function(t,r){if(t.itemTypeInfo.refname==a.state.curItemType){var o=[],l=!0,i=!1,s=void 0;try{for(var c,d=(0,u.default)(e);!(l=(c=d.next()).done);l=!0){var m=c.value,p={refcode:m.refcode,refpk:m.refpk,refname:m.refname};o.push(p)}}catch(e){i=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw s}}t.agentInfo=t.agentInfo.concat(o),(0,f.default)(t.agentInfo)!==(0,f.default)((0,C.arrayUnique)(t.agentInfo,"refcode"))&&((0,T.default)({status:"warning",msg:(0,C.langCheck)("Customize-000001","pages",n)}),t.agentInfo=(0,C.arrayUnique)(t.agentInfo,"refcode"))}})),o.submitDate=l}a.setState((0,i.default)({},o),(function(){return a.DataCheck()}))},a.DataCheck=function(e){var t=(0,f.default)(a.historyData)==(0,f.default)(a.state.submitDate),n=(0,C.deepClone)(a.state.realSubmit);t||e||(n=n.concat(a.state.curItemType)),a.setState({disabled:t,realSubmit:n})},a.deleteEvent=function(e,t){var n=(0,C.deepClone)(a.state),r={};if("itemTypeInfo"==t)r.submitDate=n.submitDate.filter((function(t,a){return e.itemTypeInfo.refname!=t.itemTypeInfo.refname||(console.log(n.submitDate[a-1].itemTypeInfo.refname),r.curItemType=n.submitDate[a-1].itemTypeInfo.refname,r.realSubmit=n.realSubmit,r.realSubmit=r.realSubmit.concat(t.itemTypeInfo.refname),!1)}));else{var o=n.submitDate;o.map((function(t,n){t.itemTypeInfo.refname==a.state.curItemType&&(t.agentInfo=t.agentInfo.filter((function(t){return e.refcode!=t.refcode})))})),r.submitDate=o}a.setState((0,i.default)({},r),(function(){"itemTypeInfo"==t?a.DataCheck(!0):a.DataCheck()}))},a.toggleEvent=function(e){a.setState({curItemType:e})},a.getAllData=function(){for(var e=(0,l.default)(new o.default(a.state.realSubmit)),t=[],n=a.props.json,i=0;i<e.length;i++){var f=!0,s=!0,c=!1,d=void 0;try{for(var m,p=(0,u.default)(a.state.submitDate);!(s=(m=p.next()).done);s=!0){var g=m.value;if(e[i]==g.itemTypeInfo.refname){var h,v=[];if(g.agentInfo){var k=!0,y=!1,b=void 0;try{for(var I,_=(0,u.default)(g.agentInfo.entries());!(k=(I=_.next()).done);k=!0){var D=I.value,N=(0,r.default)(D,2),P=N[0],z=N[1],U={pk_cuserid:a.props.userId,userCode:z.refcode,pk_workflow:z.refpk,userName:z.refname,billtypes:g.itemTypeInfo.refname,sysindex:P+1};v.push(U)}}catch(e){y=!0,b=e}finally{try{!k&&_.return&&_.return()}finally{if(y)throw b}}}h={billname:g.itemTypeInfo.refname,workflowagentVOs:v},t.push(h),f=!1;break}}}catch(e){c=!0,d=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw d}}f&&t.push({billname:e[i],workflowagentVOs:[]})}(0,E.default)({url:"/nccloud/platform/agent/saveagentinfo.do",data:{userAgentsVOs:t},info:{name:(0,C.langCheck)("Customize-000002","pages",n),action:(0,C.langCheck)("Customize-000003","pages",n)},success:function(e){e.data.data&&((0,T.default)({status:"success",msg:(0,C.langCheck)("Customize-000044","pages",n)}),a.setState({disabled:!0}))}})},a.state={submitDate:[{itemTypeInfo:{refname:"ALL"},agentInfo:[]}],curItemType:"ALL",disabled:!0,realSubmit:[]},a.historyData=(0,C.deepClone)(a.state.submitDate),a}return(0,p.default)(t,e),(0,d.default)(t,[{key:"getRealDate",value:function(e,t){for(var a=[{itemTypeInfo:{refname:"ALL"},agentInfo:[]}],n=function(n){var r=a.filter((function(a){return a.itemTypeInfo.refname==(e[n].vo&&e[n].vo[t])}));if(r.length>0){var o={refcode:e[n].vo&&e[n].vo.userCode,refpk:e[n].vo&&e[n].vo.pk_workflow,refname:e[n].vo&&e[n].vo.userName};r[0].agentInfo.push(o)}else if(e[n].vo&&e[n].vo.billtypes){var l={itemTypeInfo:{refname:e[n].vo&&e[n].vo.billtypes,showname:e[n].name},agentInfo:[{refcode:e[n].vo&&e[n].vo.userCode,refpk:e[n].vo&&e[n].vo.pk_workflow,refname:e[n].vo&&e[n].vo.userName}]};a.push(l)}},r=0;r<e.length;r++)n(r);return a}},{key:"componentDidMount",value:function(){var e=this,t=this.props.json;(0,E.default)({url:"/nccloud/platform/agent/queryagentsofuser.do",info:{name:(0,C.langCheck)("Customize-000004","pages",t),action:(0,C.langCheck)("Customize-000005","pages",t)},success:function(t){var a=t.data.data;if(a.length>0){var n=e.getRealDate(a,"billtypes");console.log(a),e.setState({submitDate:n,curItemType:n[0].itemTypeInfo.refname},(function(){e.historyData=(0,C.deepClone)(e.state.submitDate)}))}}})}},{key:"render",value:function(){var e=this,t=this.state.disabled,a=this.props.json,r=[],o=!0,l=!1,i=void 0;try{for(var f,s=(0,u.default)(this.state.submitDate);!(o=(f=s.next()).done);o=!0){var c=f.value;c.itemTypeInfo.refname==this.state.curItemType&&(r=c.agentInfo)}}catch(e){l=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(l)throw i}}return h.default.createElement(k.default,{title:this.props.title},h.default.createElement("div",{className:"agentSetting workbench-auto-scroll"},h.default.createElement("div",{className:"customizeContent"},h.default.createElement(P,{className:"agent-container",fieldid:"container",areaCode:P.config.Area},h.default.createElement(P,{className:"agent-container-left",fieldid:"left",areaCode:P.config.Area},h.default.createElement("div",{className:"agent-container-top"},h.default.createElement("div",{className:"agent-container-div"},(0,C.langCheck)("Customize-000011","pages",a)),h.default.createElement("div",{className:"agent-container-div"},h.default.createElement(y.default,{value:"",placeholder:(0,C.langCheck)("Customize-000006","pages",a),onChange:function(t){e.handdleRefChange(t,"itemTypeInfo")},clickContainer:h.default.createElement(z,{className:"ant-btn ant-btn-primary",colors:"primary",fieldid:"add"},(0,C.langCheck)("Customize-000012","pages",a))}))),h.default.createElement("div",{onClick:function(){e.toggleEvent("ALL")},className:"ALL"==this.state.curItemType?"agent-container-All activeList":"agent-container-All"},"ALL"),h.default.createElement("div",{className:"agent-container-itemType"},this.state.submitDate.map((function(t,r){return"ALL"==t.itemTypeInfo.refname?void 0:h.default.createElement("ul",{onClick:function(){e.toggleEvent(t.itemTypeInfo.refname)},className:t.itemTypeInfo.refname==e.state.curItemType?"activeList":""},h.default.createElement("li",{className:"agent-container-div"},t.itemTypeInfo.showname),h.default.createElement("li",{className:"agent-container-div"},h.default.createElement(n.default,{title:(0,C.langCheck)("Customize-000007","pages",a),cancelText:(0,C.langCheck)("Customize-000008","pages",a),okText:(0,C.langCheck)("Customize-000009","pages",a),onConfirm:function(a){a.stopPropagation(),e.deleteEvent(t,"itemTypeInfo")}},h.default.createElement("a",{className:"agent-container-button"},(0,C.langCheck)("Customize-000013","pages",a)))))})))),h.default.createElement(P,{className:"agent-container-right",fieldid:"right",areaCode:P.config.Area},h.default.createElement("div",{className:"agent-container-top"},h.default.createElement("div",{className:"agent-container-div"},(0,C.langCheck)("Customize-000014","pages",a)),h.default.createElement("div",{className:"agent-container-div"},h.default.createElement(b.default,{value:"",placeholder:(0,C.langCheck)("Customize-000010","pages",a),onChange:function(t){e.handdleRefChange(t,"agentInfo")},clickContainer:h.default.createElement(z,{className:"agent-container-button",fieldid:"agentAdd"},(0,C.langCheck)("Customize-000010","pages",a))}))),h.default.createElement("ul",{className:"agent-info-top"},h.default.createElement("li",null,(0,C.langCheck)("Customize-000015","pages",a)),h.default.createElement("li",null,(0,C.langCheck)("Customize-000016","pages",a)),h.default.createElement("li",null,(0,C.langCheck)("Customize-000017","pages",a)),h.default.createElement("li",null,(0,C.langCheck)("Customize-000018","pages",a))),h.default.createElement("div",{className:"agent-info-content"},r.length>0?h.default.createElement(I.default,{json:a,items:r,deleteEvent:this.deleteEvent,DataCheck:this.DataCheck}):h.default.createElement("div",{className:"CoverPosition-content-treeCardTable"},h.default.createElement("img",{src:_.default,className:"commondataPlaceholder"}),h.default.createElement("p",null,(0,C.langCheck)("Customize-000019","pages",a))))))),h.default.createElement(P,{className:"default-footer",areaCode:P.config.BOTTOM},h.default.createElement(z,{colors:"primary",disabled:t,onClick:this.getAllData,fieldid:"apply"},(0,C.langCheck)("Customize-000020","pages",a)))))}}]),t}(g.Component);t.default=(0,v.connect)((function(e){return{userId:e.appData.userId,userName:e.appData.userName}}))(U)},1265:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(169));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={refType:"grid",refName:(0,l.langCheck)("0000PUB-000051"),placeholder:(0,l.langCheck)("0000PUB-000051"),refCode:"riart.refer.pub.allBillTypeGridRef",queryGridUrl:"/nccloud/riart/ref/allBillRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:[(0,l.langCheck)("0000PUB-000032"),(0,l.langCheck)("0000PUB-000033")],code:["refcode","refname"]}]};return r.default.createElement(u,(0,n.default)(t,e))};var r=i(a(1)),o=a(919),l=a(19);function i(e){return e&&e.__esModule?e:{default:e}}var u=o.high.Refer},1266:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(169)),r=m(a(2)),o=m(a(21)),l=m(a(5)),i=m(a(7)),u=m(a(4)),f=m(a(6));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={queryTreeUrl:"/nccloud/riart/ref/userRefTreeAction.do",queryGridUrl:"/nccloud/riart/ref/userRefTableAction.do",rootNode:{refname:(0,d.langCheck)("0000PUB-000065"),refpk:"root"},columnConfig:[{name:[(0,d.langCheck)("0000PUB-000032"),(0,d.langCheck)("0000PUB-000033"),(0,d.langCheck)("0000PUB-000066"),(0,d.langCheck)("0000PUB-000067")],code:["refcode","refname","groupname","name"]}],queryCondition:{roleRefClassType:"pk_usergroup",group_pk:"firstGroup"},treeConfig:{name:[(0,d.langCheck)("0000PUB-000032"),(0,d.langCheck)("0000PUB-000033")],code:["refcode","refname"]},isMultiSelectedEnabled:!0,refType:"gridTree",refName:(0,d.langCheck)("0000PUB-000068"),unitProps:{rootNode:{refname:(0,d.langCheck)("0000PUB-000054"),refpk:"root"},refName:(0,d.langCheck)("0000PUB-000054"),refCode:"pk_group",queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",pageSize:50,isCacheable:!0,placeholder:(0,d.langCheck)("0000PUB-000054"),treeConfig:{name:[(0,d.langCheck)("0000PUB-000032"),(0,d.langCheck)("0000PUB-000033")],code:["refcode","refname"]}},isShowUnit:!1},a=function(e){function t(e){(0,l.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.rRadioOnChange=function(e){var t=a,n={};n="pk_usergroup"==e?{refname:(0,d.langCheck)("0000PUB-000069"),refpk:"root"}:"pk_dept"==e?{refname:(0,d.langCheck)("0000PUB-000070"),refpk:"root"}:{refname:(0,d.langCheck)("0000PUB-000067"),refpk:"root"},t.setState({value:n},(function(){t.render()}))},a.state={value:{refname:(0,d.langCheck)("0000PUB-000069"),refpk:"root"}},a}return(0,f.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return React.createElement(c.default,(0,r.default)({},this.props,{rootNode:this.state.value,rRadioOnChange:this.rRadioOnChange}))}}]),t}(s.Component);return React.createElement(a,(0,n.default)(t,e))};var s=a(1),c=m(a(1267)),d=a(19);function m(e){return e&&e.__esModule?e:{default:e}}},1267:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),r=c(a(28)),o=c(a(21)),l=c(a(5)),i=c(a(4)),u=c(a(6)),f=a(919),s=a(19);function c(e){return e&&e.__esModule?e:{default:e}}var d=f.base.NCRadio,m=(f.high.Refer,function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.getParam=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.props,n=t.queryCondition,o=t.pageSize,l=t.refType,i=e.keyword,u=void 0===i?"":i,f=e.pid,s=void 0===f?"":f,c=e.pageInfo,d=void 0===c?{}:c;d={pageSize:d.pageSize||o,pageIndex:d.pageIndex||("tree"===l?-1:0)};var m={pid:s,keyword:u,queryCondition:n?"function"==typeof n?n():"object"===(void 0===n?"undefined":(0,r.default)(n))?n:{}:{},pageInfo:d};return m.queryCondition.queryUserType=a.state.radioValue,m.queryCondition.queryUserCode=s,m.queryCondition.group_pk=a.state.unit.refpk,m},a.handleGroupChange=function(e){a.setState({group_pk:e.refpk,expandedKeys:[],currentReffer:e},(function(){a.getTreeData()}))},a.handleRadioChange=function(e){a.props.rRadioOnChange(e),a.setState({treeSearchVal:"",radioValue:e,unitPks:a.state.unit.refpk},(function(){a.getTreeData()}))},a.getTreeData=function(){var e=a.props,t=e.queryTreeUrl,n=e.isCacheable,r=e.rootNode,o=a.getParam({pid:"",pageInfo:{pageSize:10,pageIndex:-1},queryCondition:{queryUserType:a.state.radioValue,group_pk:a.state.unit.refpk}}),l=a.hasCache(t,o);a.state.tableData=[{rows:[],page:{pageIndex:0,pageSize:a.props.pageSize,totalPage:1}}],n&&l?a.setTreeData("treeData",r,l):a.loadTreeData(o).then((function(e){a.setTreeData("treeData",r,e)})),a.setState({tableData:a.state.tableData})},a.renderPopoverLeftHeader=function(){return React.createElement("div",{id:"radioGroup",style:{"margin-bottom":"5px","margin-left":"10px"}},React.createElement(d.NCRadioGroup,{name:"role",radioValue:a.state.radioValue,selectedValue:a.state.radioValue,onChange:a.handleRadioChange.bind(a)},React.createElement(d,{value:"pk_usergroup"},(0,s.langCheck)("0000PUB-000069")),React.createElement(d,{value:"pk_dept"},(0,s.langCheck)("0000PUB-000070")),React.createElement(d,{value:"pk_org"},(0,s.langCheck)("0000PUB-000067"))))},a.state=(0,n.default)({},a.state,{radioValue:"pk_usergroup",group_pk:"firstGroup",currentReffer:[]}),a}return(0,u.default)(t,e),t}(f.high.Refer.ReferWithUnit));t.default=m},1268:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(930)),r=d(a(21)),o=d(a(5)),l=d(a(7)),i=d(a(4)),u=d(a(6));a(931);var f=d(a(1)),s=a(963),c=a(19);function d(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.json;return f.default.createElement("ul",this.props,f.default.createElement("li",null,this.props["data-id"]+1),f.default.createElement("li",null,this.props.children.refcode),f.default.createElement("li",null,this.props.children.refname),f.default.createElement("li",null,f.default.createElement(n.default,{title:(0,c.langCheck)("Customize-000007","pages",t),cancelText:(0,c.langCheck)("Customize-000008","pages",t),okText:(0,c.langCheck)("Customize-000009","pages",t),onConfirm:function(){e.props.deleteEvent(e.props.children,"agentInfo")}},f.default.createElement("a",{className:"agent-container-button"},(0,c.langCheck)("Customize-000013","pages",t))),f.default.createElement("a",null,f.default.createElement("i",{className:"iconfont icon-tuodong"}))))}}]),t}(f.default.Component),p=(0,s.sortable)(m),g=function(e){function t(){var e,a,n,l;(0,o.default)(this,t);for(var u=arguments.length,f=Array(u),s=0;s<u;s++)f[s]=arguments[s];return a=n=(0,i.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(f))),n.onSortItems=function(e){n.setState({items:e},(function(){return n.props.DataCheck()}))},l=a,(0,i.default)(n,l)}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.items,a=t.map((function(a,n){return f.default.createElement(p,{key:n,onSortItems:e.onSortItems,items:t,sortId:n,deleteEvent:e.props.deleteEvent,json:e.props.json},a)}));return f.default.createElement("div",{className:"sortable-list"},a)}}]),t}(f.default.Component);t.default=g}}]);
//# sourceMappingURL=AgentSetting.js.map