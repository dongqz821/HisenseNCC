(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1028:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactLayoutHorizontal=t.compactLayout=void 0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(1047),u=n(981);var c=function(e){return[].concat(e).sort((function(e,t){return e.gridy>t.gridy||e.gridy===t.gridy&&e.gridx>t.gridx?1:e.gridy===t.gridy&&e.gridx===t.gridx?0:-1}))},l=function(e,t){var n=(0,r.default)({},t);if(0===e.length)return(0,r.default)({},n,{gridy:0});for(;;){var o=(0,i.getFirstCollision)(e,n);if(o)return n.gridy=o.gridy+o.height,n;if(n.gridy--,n.gridy<0)return(0,r.default)({},n,{gridy:0})}},d=(t.compactLayout=function(e,t){for(var n=c(e),o=[],a=Array(e.length),r=0,i=n.length;r<i;r++){var u=l(o,n[r]);o.push(u),a[r]=u}return a},function e(t,n,o){var a=(0,r.default)({},n);return 0===t.length?a:(0,i.getFirstCollision)(t,a)?(a.gridx++,a.gridx+n.width>o&&(a.gridx=0,a.gridy++),e(t,a,o)):a});t.compactLayoutHorizontal=function(e,t,n){for(var o=c(e),a=[],r=Array(e.length),i=[],l=void 0,s=0;s<o.length;s++)n!==o[s].cardid?i.push(o[s]):l=o[s];l&&(l.gridy=Math.min((0,u.layoutBottom)(i),l.gridy));for(var p=0;p<o.length;p++)n!==o[p].cardid&&(o[p].gridy=0,o[p].gridx=0);for(var f=0,h=o.length;f<h;f++){var m=void 0;m=n===o[f].cardid?o[f]:d(a,o[f],t),a.push(m),r[f]=m}return r}},1047:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.layoutCheck=t.getFirstCollision=t.collision=void 0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o};var i=t.collision=function(e,t){return e.gridx===t.gridx&&e.gridy===t.gridy&&e.width===t.width&&e.height===t.height||!(e.gridx+e.width<=t.gridx)&&(!(e.gridx>=t.gridx+t.width)&&(!(e.gridy+e.height<=t.gridy)&&!(e.gridy>=t.gridy+t.height)))};t.getFirstCollision=function(e,t){for(var n=0,o=e.length;n<o;n++)if(i(e[n],t))return e[n];return null},t.layoutCheck=function e(t,n,o,a,u){var c=[],l=[];u=u||"gridx";for(var d=t.map((function(e,t){if(e.cardid!==o){if(i(e,n)){c.push(e.cardid);var d=e[u]+1,s=0;s="gridx"===u?e.width:e.height,n[u]>e[u]&&n[u]<e[u]+s&&(d=e[u]);var p=(0,r.default)({},e);return p[u]=d,l.push(p),p}}else if(a===o)return(0,r.default)({},e,n);return e})),s=0,p=l.length;s<p;s++)d=e(d,l[s],c[s],a,u);return d}},1072:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleDeduplicateModal=t.setEmpty=t.setUpdateHomePageFun=t.updateGroupList=t.clearData=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(387));t.clearData=function(){return{type:o.CLEARDATA}},t.updateGroupList=function(e){return{type:o.UPDATEGROUPLIST,groups:e}},t.setUpdateHomePageFun=function(e){return{type:o.UPDATEHOMEPAGE,updateHomePage:e}},t.setEmpty=function(e){return{type:o.SETEMPTY,showEmpty:e}},t.toggleDeduplicateModal=function(e){return{type:o.TOGGLEDEDUPLICATEMODAL,deduplicateModalVisible:e}}},1083:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=g(n(21)),a=g(n(5)),r=g(n(7)),i=g(n(4)),u=g(n(6)),c=n(1),l=g(c),d=n(172),s=g(n(1084)),p=g(n(1090)),f=n(981),h=n(32),m=g(n(89));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.createWidgetMountPoint=function(e){return e.map((function(e){if(e){var t=e.gridx,o=e.gridy,a=e.width,r=e.height,i=e.haspower?1:.6,u=n.props.layout,c=u.margin,d=u.rowHeight,p=u.calWidth,h=(0,f.calGridItemPosition)(t,o,c,d,p),m=h.x,g=h.y,v=(0,f.calWHtoPx)(a,r,c,d,p),w={width:v.wPx,height:v.hPx,opacity:i,transform:"translate("+m+"px, "+g+"px)"};switch(Number(e.apptype)){case 1:return l.default.createElement(y,{appOption:e,style:w});case 2:return l.default.createElement(s.default,{appOption:e,style:w})}}}))},n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.groupData,n=e.layout,o=e.len,a=t.pk_app_group,r=t.groupname,i=t.apps,u=t.position,c=n.rowHeight,s=n.margin,p=(0,f.getContainerMaxHeight)(i,c,s),h=0==m.default.find(i,(function(e){return e.apptype&&2==e.apptype}));return l.default.createElement(d.Element,{name:a,className:"nc-workbench-app-container padding-left-70 padding-right-60"},l.default.createElement("div",{className:"title"},r),l.default.createElement("div",{className:"grid",style:{height:h&&(p<=195||u==o-1)?220:p}},this.createWidgetMountPoint(i)))}}]),t}(c.Component),y=function(e){var t=e.appOption,n=e.style,o=t.image_src,a=t.name,r=t.cardid;return l.default.createElement(p.default,{key:r,style:n,onClick:function(){window.openNew(t),function(e){e={code:e.menuitemcode,value:e.cardid,label:e.name,width:e.width,height:e.height,appid:e.appid,appcode:e.appcode,is_cloud_app:e.is_cloud_app},(0,h.setStore)("knowledgeApp",{appcode:e.appcode,appid:e.appid})}(t)},name:a,image_src:o})};t.default=v},1084:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(1)),a=u(n(1085)),r=u(n(1086)),i=u(n(1087));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.cardid,n=e.name,r=e.target_path,u=e.pk_app_group,c=e.appcode,l=r.split("?")[0];return new RegExp(/js$/).test(l)?o.default.createElement(i.default,{name:n,groupId:u,cardId:t,src:r,appcode:c}):o.default.createElement(a.default,{name:n,groupId:u,cardId:t,src:r,appcode:c})};t.default=function(e){var t=e.appOption,n=e.style,a=t.cardid,i=t.ownlicense_load,u=t.license_check_msg,l=t.uselicense_load,d=i?c(t):o.default.createElement(r.default,{msg:u});return l||(d=c(t)),o.default.createElement("div",{className:"grid-item",key:a,style:n},d)}},1085:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(21)),a=d(n(5)),r=d(n(7)),i=d(n(4)),u=d(n(6)),c=n(1),l=d(c);function d(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.createWidgetDom=function(){var e=n.props,t=e.name,o=e.cardId,a=e.groupId,r=e.src,i=e.appcode,u=document.createElement("iframe"),c=r+"?appcode="+i;u.setAttribute("fieldid",t+"_app-item"),u.setAttribute("cid",o),u.style.width="100%",u.style.height="100%",u.frameBorder="0",u.scrolling="no",document.getElementById(a+"_"+o).appendChild(u);var l=u.contentWindow.document;l.open().write("<body onload=\"window.location.href='"+c+"';\">"),l.close()},n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.cardId,n=e.groupId;document.getElementById(n+"_"+t).hasChildNodes()||this.createWidgetDom()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.cardId,n=e.groupId;document.getElementById(n+"_"+t).hasChildNodes()||this.createWidgetDom()}},{key:"render",value:function(){var e=this.props,t=e.cardId,n=e.groupId;return l.default.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden"},id:n+"_"+t,className:"app-item"})}}]),t}(c.PureComponent);t.default=s},1086:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.msg,n=t&&t.split(";"),o=n&&n[1]&&n[1].length>0?React.createElement("div",{className:"msg_content"},React.createElement("p",null,n[1]),React.createElement("p",null,n[2])):null;return React.createElement("div",{className:"license-msg"},React.createElement("div",{className:"license-msg_container"},React.createElement("i",{className:"iconfont icon-zhuyi1"}),React.createElement("div",{className:"license-msg_content"},React.createElement("div",{className:"msg_title"},n&&n[0]),o)))}},1087:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(21)),a=p(n(5)),r=p(n(7)),i=p(n(4)),u=p(n(6)),c=n(1),l=p(n(1088)),d=p(n(237)),s=p(n(1089));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={widget:null},n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,l.default)(this.props.src,(function(t){e.setState({widget:window[t].default})}))}},{key:"render",value:function(){var e=this.state.widget,t="function"==typeof e?React.createElement(e,{appcode:this.props.appcode}):React.createElement(d.default,{style:{width:"100%",height:"100%"}}),n=this.props,o=n.cardId,a=n.groupId,r=n.name;return React.createElement(s.default,null,React.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden",position:"relative"},id:a+"_"+o,className:"app-item",fieldid:r+"_app-item"},t))}}]),t}(c.PureComponent);t.default=f},1088:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=e.match(/resources(\S*).js/)[1];if(!n)return!1;if(n=n.substr(1),window[n])t(n);else{var o=document.createElement("script");o.src=e,o.type="text/javascript",document.body.appendChild(o),o.onload=function(){return t(n)},o.onerror=o.onerror}}},1089:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(21)),a=l(n(5)),r=l(n(7)),i=l(n(4)),u=l(n(6)),c=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){var e,n,r,u;(0,a.default)(this,t);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return n=r=(0,i.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),r.state={error:!1},u=n,(0,i.default)(r,u)}return(0,u.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return this.state.error?c.default.createElement("div",null,this.state.error.toString()):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(c.default.Component);t.default=d},1090:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(21)),a=h(n(5)),r=h(n(7)),i=h(n(4)),u=h(n(6)),c=n(1),l=h(c),d=h(n(1091)),s=n(32),p=h(n(26)),f=h(n(367));function h(e){return e&&e.__esModule?e:{default:e}}var m=p.default.appIcons,g=function(e){switch(e){case"youth_":return 46;case"business_":case"industry_":return 40;case"simple_":return 36;default:return 40}},v=function(e){var t=e.src,n=(0,s.getStore)("nccIcon")||"";return n=n.length?n+"_":n,l.default.createElement("div",{className:"app-icon",style:{background:"url("+(m&&m[n+t]?m[n+t]:f.default[n]?f.default[n]:f.default.defaultIcon)+") no-repeat center center",backgroundSize:"contain",width:g(n),height:g(n)}})},y=function(e){var t=e.src;return l.default.createElement("div",{className:"icon-image",style:{background:"url("+t+") no-repeat 0px 0px",backgroundSize:"contain"}})},w=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.createrFun=function(){var e=n.props.src;return e?-1===e.indexOf("/")?l.default.createElement(v,{src:e}):l.default.createElement(y,{src:e}):null},n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.name,t="industry"==(0,s.getStore)("nccIcon");return l.default.createElement("div",{fieldid:e+"_app-item",className:"app-item"},l.default.createElement("span",{className:"app-item_title"},e),l.default.createElement("div",{className:"app-content",style:{background:t?"":"url("+d.default+") no-repeat bottom right",backgroundSize:"contain"}},this.createrFun()))}}]),t}(c.PureComponent);t.default=function(e){var t=e.style,n=e.onClick,o=e.name,a=e.image_src;return l.default.createElement("div",{className:"grid-item",style:t,onClick:n},l.default.createElement(w,{name:o,src:a}))}},1091:function(e,t,n){e.exports=n.p+"images/backgroundforappicon.png"},1092:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(21)),a=f(n(5)),r=f(n(7)),i=f(n(4)),u=f(n(6)),c=n(1),l=f(c),d=n(113),s=n(19),p=f(n(1093));function f(e){return e&&e.__esModule?e:{default:e}}var h=f(n(26)).default.base.NCButton,m=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.pageToHome=function(){(0,d.openPage)("/ds",!1,{n:(0,s.langCheck)("home-000006",!0,n.props.multiData)},["b1","b2","b3"])},n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.multiData;return l.default.createElement("div",{className:"nc-workbench-home-empty"},l.default.createElement("div",{className:"empty-content"},l.default.createElement("h1",null,(0,s.langCheck)("home-000003",!0,e)),l.default.createElement("p",null,(0,s.langCheck)("home-000004",!0,e)),l.default.createElement("div",{className:"empty-img",style:{width:"264px",height:"214px",background:"url("+p.default+") no-repeat 0px 0px",backgroundSize:"contain"}}),l.default.createElement("div",{className:"empty-btn"},l.default.createElement(h,{className:"empty-button",fieldid:"addApp",onClick:this.pageToHome},"+",(0,s.langCheck)("home-000005",!0,e)))))}}]),t}(c.Component);t.default=m},1093:function(e,t,n){e.exports=n.p+"images/emptycontent.png"},1094:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a,r,i=I(n(55)),u=I(n(370)),c=I(n(374)),l=I(n(939)),d=I(n(110)),s=I(n(21)),p=I(n(5)),f=I(n(7)),h=I(n(4)),m=I(n(6)),g=I(n(102));n(131),n(371),n(375),n(940),n(238);var v=n(1),y=I(v),w=I(n(0)),b=I(n(89)),k=I(n(35)),x=n(19),_=n(37),E=I(n(364)),C=I(n(26)),P=n(1072),M=(n(386),n(32));function I(e){return e&&e.__esModule?e:{default:e}}var N=C.default.base,L=(N.NCCheckbox,N.NCButton),G=g.default.Group,D=(a=o=function(e){function t(e){(0,p.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));r.call(n);var o="boolean"!=typeof(0,M.getStore)("popupUtilLogout")||(0,M.getStore)("popupUtilLogout");return n.state={workbenchList:[],curWorkbenchSettings:[],popupUtilLogout:o},n}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.toggleDeduplicateModal;this.queryDistinctWorkBench().then((function(n){var o=n.isdisplay,a=n.workbenchList,r=void 0===a?[]:a,i=r.map((function(e){var t=e.pk_menuitem,n=e.name,o=e.groups;return{pk_menuitem:t,name:n,groups:[b.default.result(o,"[0].pk_app_group")]}}));e.setState({workbenchList:r,curWorkbenchSettings:i}),t(o)}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state.popupUtilLogout,t=this.props.deduplicateModalVisible;return y.default.createElement(E.default,{maskClosable:!1,title:this.i18n("home-000007"),className:"deduplicate-modal",visible:t&&!0===e,onCancel:this.onModalClose,destroyOnClose:!0,width:"520px",fieldid:"deduplicate",titleFieldid:this.i18n("home-000007"),footer:this.renderModalFooter()},this.renderContent())}}]),t}(v.Component),o.propTypes={json:w.default.object,pk_workbenchs:w.default.array},o.defaultProps={pk_workbenchs:[]},r=function(){var e=this;this.i18n=function(t){var n=e.props.json;return(0,x.langCheck)(t,"pages",n)},this.setPopupUtilLogout=function(t){(0,M.setStore)("popupUtilLogout",t),e.setState({popupUtilLogout:t})},this.queryDistinctWorkBench=function(){var t=e.props.pk_workbenches;return new d.default((function(n,o){(0,k.default)({url:"/nccloud/platform/appregister/querydistinctworkbench.do",info:{name:e.i18n("home-000001"),action:e.i18n("home-000011")},data:{pk_workbenches:t},success:function(e){var t=e.data,a=t.data,r=t.success,i=a.isdisplay,u=a.workbenchList;e&&r?r&&a&&n({isdisplay:i,workbenchList:u}):o()}})}))},this.deduplicateWorkBench=function(t){return new d.default((function(n,o){(0,k.default)({url:"/nccloud/platform/appregister/disworkbench.do",info:{name:e.i18n("home-000001"),action:e.i18n("home-000012")},data:t,success:function(e){var t=e.data.success;n(1!=t)}})}))},this.onDeduplicateCardSubmit=function(){var t=e.state.curWorkbenchSettings,n=e.props.toggleDeduplicateModal,o=t.map((function(e){e.groups;var t=e.name,n=e.pk_menuitem;return{groups:e.groups.map((function(e){return{pk_app_group:e}})),name:t,pk_menuitem:n}}));console.log(t,o),e.deduplicateWorkBench({isdisplay:!1,workbenchList:o}).then((function(e){n(e),window.location.reload()}))},this.onModalClose=function(){e.props.toggleDeduplicateModal(!1),e.setPopupUtilLogout(!1)},this.onNoPopup=function(){var t=e.props.toggleDeduplicateModal;e.deduplicateWorkBench({isdisplay:!1}).then((function(n){t(n),e.setPopupUtilLogout(!1)}))},this.onCheckboxGroupChange=function(t,n,o){console.log(t,n,o);var a=e.state.curWorkbenchSettings,r={pk_menuitem:n,name:o,groups:t},i=b.default.findIndex(a,(function(e){return e.pk_menuitem===n&&e.name===o}));a=a.slice(0,i).concat(a.slice(i+1)).concat([r]),e.setState({curWorkbenchSettings:a})},this.renderContent=function(){var t=e.state,n=t.workbenchList,o=t.curWorkbenchSettings,a=n.map((function(t,n){var a=t.pk_menuitem,r=t.name,i=t.groups,d=b.default.result(o.find((function(e){return e.pk_menuitem===a&&e.name===r})),"groups",[]);return y.default.createElement("div",{className:"group-item"},0!=n&&y.default.createElement(l.default,{className:"group-devider"}),y.default.createElement("div",{className:"title"},r),y.default.createElement("div",{className:"checkbox-group"},y.default.createElement(G,{defaultValue:d,style:{width:"100%"},name:a,onChange:function(t){e.onCheckboxGroupChange(t,a,r)}},y.default.createElement(u.default,null,i.map((function(e){var t=e.pk_app_group,n=e.groupname;return y.default.createElement(c.default,{span:"8"},y.default.createElement(g.default,{className:"item",value:t},n))}))))))}));return y.default.createElement("div",{className:"deduplicate-wrap"},y.default.createElement("div",{className:"deduplicate-info"},e.i18n("home-000010")),y.default.createElement("div",{className:"deduplicate-content"},a))},this.renderModalFooter=function(){return y.default.createElement("div",{className:"modal-footer"},y.default.createElement("div",{className:"nopopup",onClick:e.onNoPopup},e.i18n("home-000013")),y.default.createElement(i.default,{placement:"top",overlayClassName:"tootip-default",title:e.i18n("home-000008")+"(Alt + Y)"},y.default.createElement(L,{key:"submit",colors:"primary",onClick:e.onDeduplicateCardSubmit,fieldid:"ok"},e.i18n("home-000008"),"(",y.default.createElement("span",{className:"underline"},"Y"),")")),y.default.createElement(i.default,{placement:"top",overlayClassName:"tootip-default",title:e.i18n("home-000009")+"(Alt + N)"},y.default.createElement(L,{key:"back",onClick:e.onModalClose,style:{marginLeft:8},fieldid:"cancel"},e.i18n("home-000009"),"(",y.default.createElement("span",{className:"underline"},"N"),")")))}},a);t.default=(0,_.connect)((function(e){return{deduplicateModalVisible:e.homeData.deduplicateModalVisible}}),{toggleDeduplicateModal:P.toggleDeduplicateModal})(D)},1095:function(e,t,n){var o=n(1096);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(13)(o,a);o.locals&&(e.exports=o.locals)},1096:function(e,t,n){(e.exports=n(12)(!1)).push([e.i,".nc-workbench-home-page{overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.nc-workbench-home-container{margin-top:-30px}.nc-workbench-home-container .nc-workbench-app-container{position:relative}.nc-workbench-home-container .nc-workbench-app-container:last-child{padding-bottom:calc(100vh - 265px)}.nc-workbench-home-container .title{font-size:14px;height:40px;line-height:40px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 10px;color:#fff}.nc-workbench-home-container .widget-container{display:flex;align-items:center;justify-content:space-around}.nc-workbench-home-container .text{font-size:24px;text-align:center;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;height:24px}.nc-workbench-home-container .grid-item{position:absolute;background:#fff;transition:all .2s ease-out;border-radius:3px;box-shadow:0 1px 1px 0 rgba(74,81,93,.1)}.nc-workbench-home-container .grid-item .license-msg{width:100%;height:100%;padding:10px;display:flex;justify-content:center;align-items:center}.nc-workbench-home-container .grid-item .license-msg .license-msg_container{display:flex}.nc-workbench-home-container .grid-item .license-msg .license-msg_container .iconfont{color:#ef8718}.nc-workbench-home-container .grid-item .license-msg .license-msg_container .license-msg_content .msg_title{font-size:14px;color:#111;padding:4px 0;margin-left:5px}.nc-workbench-home-container .grid-item .license-msg .license-msg_container .license-msg_content .msg_content{padding:4px}.nc-workbench-home-container .grid-item .license-msg .license-msg_container .license-msg_content .msg_content p{margin:0;color:#888;font-size:14px}.nc-workbench-home-container .grid-item:hover{box-shadow:0 6px 18px 0 rgba(38,38,38,.14)}.nc-workbench-home-container .app-item{width:100%;height:100%;position:relative;overflow:hidden;transition:all .2s;display:flex;flex-direction:column;justify-content:space-between;border-radius:3px;background:#fff;cursor:pointer;z-index:99}.nc-workbench-home-container .app-item .app-item_title{font-size:16px;line-height:16px;padding:13px 10px 10px;color:#111;position:relative;font-weight:500;display:-webkit-box;-webkit-line-clamp:3;overflow:hidden}.nc-workbench-home-container .app-item .app-content{display:flex;justify-content:flex-end;padding:20px}.nc-workbench-home-container .app-item .app-icon{overflow:hidden;margin-right:0}.nc-workbench-home-container .app-item .icon-image{width:60px;height:60px}.nc-workbench-home-container .app-item:hover{z-index:100;-webkit-transform:scale(1.03);transform:scale(1.03)}.nc-workbench-home-empty{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#e8ebf0}.nc-workbench-home-empty .empty-content{text-align:center}.nc-workbench-home-empty .empty-content .empty-img{margin:51px auto 0}.nc-workbench-home-empty .empty-content h1{font-size:33px;font-weight:400;color:#0f0f0f;margin-bottom:6px;line-height:1}.nc-workbench-home-empty .empty-content p{font-size:15px;color:#555;line-height:1}.nc-workbench-home-empty .empty-content .empty-btn{margin-top:28px}.nc-workbench-home-empty .empty-content .empty-btn .empty-button{background:#e73d36;color:#fff;border:none;font-size:15px;height:38px;line-height:35px;min-width:150px}.nc-workbench-home-empty .empty-content ul{margin-top:34px}.nc-workbench-home-empty .empty-content ul li{color:#525252;font-size:15px;margin-top:16px}.nc-workbench-home-empty .empty-content ul li span{color:#525252;font-size:15px;background:#fff;padding:5px;cursor:pointer}.nc-workbench-home-empty .empty-content ul li span .iconfont{font-size:15px}.deduplicate-modal .u-modal-header{width:100%;height:40px;flex:0 0 auto;background:#f3f3f3;color:#111;font-weight:700;padding:13px 16px;border-radius:3px 3px 0 0}.deduplicate-modal .u-modal-header .modal-header-img{width:16px;height:16px;vertical-align:baseline}.deduplicate-modal .u-modal-header .u-modal-title{position:absolute;top:0;left:0;color:#111;font-family:PingFangHK-Regular;padding:0 0 0 40px;line-height:40px;font-size:14px;font-weight:700}.deduplicate-modal .u-modal-header .u-close{color:#555;opacity:1;text-shadow:0 1px 0 #fff;position:absolute;right:16px;top:9px;outline:none;height:26px;width:26px;font-weight:400;font-size:16px}.deduplicate-modal .u-modal-body{outline:0}.deduplicate-modal .u-modal-footer{height:44px;width:100%;background-color:#fff;padding:7px 20px;box-sizing:border-box;flex:0 0 auto;border-top:1px solid #d0d0d0;border-radius:0 0 3px 3px}.deduplicate-modal .deduplicate-wrap{padding:8px 24px}.deduplicate-modal .deduplicate-wrap .deduplicate-info{padding:6px 11px 5px;margin-bottom:15px;border:1px solid #ffd77a;font-size:12px;line-height:19px;background-color:#fff9e6;color:#555}.deduplicate-modal .deduplicate-wrap .ant-checkbox-checked .ant-checkbox-inner{background-color:#e14c46;border:1px solid #e14c46}.deduplicate-modal .deduplicate-wrap .ant-checkbox-inner{border:1px solid #999}.deduplicate-modal .deduplicate-wrap .group-item .title{padding:0;font-size:13px;font-weight:400;color:#111;line-height:18px}.deduplicate-modal .deduplicate-wrap .group-item .checkbox-group{margin-top:12px}.deduplicate-modal .deduplicate-wrap .group-item .checkbox-group .item-label{display:inline-block;max-width:105px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.deduplicate-modal .modal-footer{position:relative}.deduplicate-modal .modal-footer .nopopup{position:absolute;left:0;top:7px;color:#0073e1;cursor:pointer}",""])},938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=E(n(21)),a=E(n(5)),r=E(n(7)),i=E(n(4)),u=E(n(6)),c=n(1),l=E(c),d=n(37),s=E(n(0)),p=n(172),f=E(n(35)),h=E(n(89)),m=E(n(1083)),g=n(1072),v=n(1028),y=n(981),w=n(19),b=n(365),k=E(n(1092)),x=E(n(26)),_=n(32);E(n(1094));function E(e){return e&&e.__esModule?e:{default:e}}n(1095);var C=x.default.ajax,P=!1,M=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleHomeLoad=function(){P||(P=!0,setTimeout((function(){P=!1;var e=n.state,t=e.groups,o=e.layout,a=window.innerWidth-120,r=(0,y.calColCount)(o.calWidth,a,o.containerPadding,o.margin);h.default.forEach(t,(function(e){var t=(0,v.compactLayoutHorizontal)(e.apps,r);e.apps=t})),n.setState({groups:t,layout:o},(function(){p.scrollSpy.update()}))}),500))},n.getPkWorkbenchs=function(e){return e.map((function(e){return e.pk_workbench}))},n.updateHomePage=function(){(0,f.default)({url:"/nccloud/platform/appregister/queryworkbench.do",info:{name:(0,w.langCheck)("home-000000",!0,n.state.json),action:(0,w.langCheck)("home-000001",!0,n.state.json)},data:{relateid:"",isuser:"1"},loading:!0,success:function(e){var t=e.data,o=t.data,a=t.success;t.error;if(a&&o&&o.length>0){var r=n.getPkWorkbenchs(o);0===o[0].groups.length?n.setState({showEmpty:!0},(function(){n.props.setEmpty(!0)})):(n.setState({showEmpty:!1},(function(){n.props.setEmpty(!1)})),h.default.forEach(o[0].groups,(function(e){e.type="group",h.default.forEach(e.apps,(function(e){e.gridx=Number(e.gridx),e.gridy=Number(e.gridy),e.height=Number(e.height),e.width=Number(e.width),e.appparams&&!isNaN(e.appparams.refresh_time)&&(window.widgetRefreshTimeMap[e.appcode]=e.appparams.refresh_time)}))}))),n.setState({groups:o[0].groups,pk_workbenches:r}),n.props.updateGroupList(o[0].groups),n.handleHomeLoad()}else a&&o&&0===o.length?(n.setState({showEmpty:!0},(function(){n.props.setEmpty(!0)})),n.setState({groups:[],pk_workbenches:pk_workbenches}),n.props.updateGroupList([]),n.handleHomeLoad()):n.setState({showEmpty:!0},(function(){n.props.setEmpty(!0)}))}})},n.onScrollEvent=function(){var e=document.getElementsByClassName("n-tabs")[0].getElementsByClassName("active")&&document.getElementsByClassName("n-tabs")[0].getElementsByClassName("active")[0],t=document.getElementsByClassName("tabs-page")[0].clientWidth||1e3;e&&e.offsetLeft&&(+e.offsetLeft>0&&+e.offsetLeft>=t?window.nextPageGroup&&window.nextPageGroup():+e.offsetLeft<0&&window.previousPageGroup&&window.previousPageGroup()),n.headerClassList=document.querySelector(".nccwb-header-info").classList,n.homeContentScroll.scrollTop>20?n.headerClassList.contains("header-shadow")||n.headerClassList.add("header-shadow"):n.headerClassList.contains("header-shadow")&&n.headerClassList.remove("header-shadow")},n.getIntellivAutoRefreshFlag=function(){null==(0,_.getStore)("intellivAutoRefresh")&&C({url:"/nccloud/platform/intellivautorefresh/switch.do",sysAppcode:10228888,async:!1,success:function(e){var t=e.data;e.success&&(0,_.setStore)("intellivAutoRefresh",t)}})},n.state={layout:{margin:[10,10],containerPadding:[0,0],rowHeight:175,calWidth:175},pk_workbenches:[],groups:[],showEmpty:!1,json:{},loadable:!1},n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("%c workbench was built at: 2021/7/5 下午4:49:29 ","color:#03A9F4"),this.updateHomePage(),window.addEventListener("resize",this.handleHomeLoad);(0,b.getMulti)({moduleId:"home",domainName:"workbench",callback:function(t){document.title=(0,w.langCheck)("home-000000",!0,t),e.setState({json:t})}}),this.props.setUpdateHomePageFun(this.updateHomePage),void 0===window.widgetRefreshTimeMap&&(window.widgetRefreshTimeMap={}),this.getIntellivAutoRefreshFlag()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleHomeLoad),this.headerClassList=null}},{key:"render",value:function(){var e=this,t=this.state,n=t.groups,o=t.layout,a=t.showEmpty;t.pk_workbenches;return a?l.default.createElement("div",{className:"nc-workbench-home-page",id:"ncWorkbenchHomePage"},l.default.createElement(k.default,{multiData:this.state.json})):l.default.createElement("div",{className:"nc-workbench-home-page",id:"ncWorkbenchHomePage",ref:function(t){return e.homeContentScroll=t},onScrollCapture:function(){return e.onScrollEvent()}},this.props.allowPaint&&l.default.createElement("div",{className:"nc-workbench-home-container"},n.map((function(e,t){return l.default.createElement(m.default,{key:t,groupData:e,layout:o,len:n.length})}))),!1)}}]),t}(c.Component);M.propTypes={updateGroupList:s.default.func.isRequired,setUpdateHomePageFun:s.default.func.isRequired},t.default=(0,d.connect)((function(e){return{allowPaint:e.ifrData.allowPaint}}),{updateGroupList:g.updateGroupList,setUpdateHomePageFun:g.setUpdateHomePageFun,setEmpty:g.setEmpty})(M)},981:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCardList=t.hasCardContainInGroups=t.getRelateidObj=t.removeTargetCardsInGroup=t.hasExpiredCardInGroups=t.hasCheckedCardInGroups=t.hasScrolled=t.calWHtoPx=t.calGridXY=t.checkInContainer=t.calGridItemPosition=t.getContainerMaxHeight=t.layoutBottom=t.layoutHorizontalRowLength=t.calColCount=t.calColWidth=t.setGridXGridYMaxInCards=t.getNewGroupItemNum=t.checkCardContainInGroup=t.setPropertyValueForCardsInCards=t.setPropertyValueForCards=t.removeCardByGroupIndexAndCardID=t.removeCardInGroupByCardID=t.getCardByGroupIDAndCardID=t.getGroupIndexByGroupID=t.getGroupByGroupID=void 0;var o,a=n(89),r=(o=a)&&o.__esModule?o:{default:o};t.getGroupByGroupID=function(e,t){var n={};return r.default.forEach(e,(function(e){if(e.pk_app_group===t)return n=e,!1})),n},t.getGroupIndexByGroupID=function(e,t){var n=void 0;return r.default.forEach(e,(function(e,o){if(e.pk_app_group===t)return n=o,!1})),n},t.getCardByGroupIDAndCardID=function(e,t,n){var o={},a={};return r.default.forEach(e,(function(e){if(e.pk_app_group===t)return o=e,!1})),r.default.forEach(o.apps,(function(e){if(e.cardid===n)return a=e,!1})),a},t.removeCardInGroupByCardID=function(e,t){return r.default.remove(e.apps,(function(e){return e.cardid===t}))[0]},t.removeCardByGroupIndexAndCardID=function(e,t,n){var o=t;return r.default.remove(e[o].apps,(function(e){return e.cardid===n}))[0]},t.setPropertyValueForCards=function(e,t,n){r.default.forEach(e,(function(e,o){r.default.forEach(e.apps,(function(e){e[t]=n}))}))},t.setPropertyValueForCardsInCards=function(e,t,n){r.default.forEach(e,(function(e){e[t]=n}))},t.checkCardContainInGroup=function(e,t){var n=!1;return r.default.forEach(e.apps,(function(e){e.cardid===t&&!1===e.isShadow&&(n=!0)})),n},t.getNewGroupItemNum=function e(t,n,o){var a=o||1,i=!1;return r.default.forEach(n,(function(e){if(e.groupname===t+"("+a+")")return i=!0,!1})),i?e(t,n,++a):a},t.setGridXGridYMaxInCards=function(e){r.default.forEach(e,(function(e){e.gridy=999}))},t.calColWidth=function(e,t,n,o){return o?(e-2*n[0]-o[0]*(t+1))/t:(e-2*n[0]-0*(t+1))/t},t.calColCount=function(e,t,n,o){if(o)return Math.floor((t-2*n[0]-o[0])/(e+o[0]))},t.layoutHorizontalRowLength=function(e){for(var t=0,n=void 0,o=0,a=e.length;o<a;o++)(n=e[o].gridx+e[o].width)>t&&(t=n);return t};var i=t.layoutBottom=function(e){for(var t=0,n=void 0,o=0,a=e.length;o<a;o++)(n=e[o].gridy+e[o].height)>t&&(t=n);return t},u=(t.getContainerMaxHeight=function(e,t,n){var o=i(e);return o*t+(o-1)*n[1]+2*n[1]},t.calGridItemPosition=function(e,t,n,o,a){return{x:Math.round(e*a+n[0]*(e+1)),y:Math.round(t*o+n[1]*(t+1))}},t.checkInContainer=function(e,t,n,o){return e+o>n-1&&(e=n-o),e<0&&(e=0),t<0&&(t=0),{gridX:e,gridY:t}});t.calGridXY=function(e,t,n,o,a,r,i){var c=Math.floor(e/a*r),l=Math.floor(t/(i+(o?o[1]:0)));return u(c,l,r,n)},t.calWHtoPx=function(e,t,n,o,a){return{wPx:Math.round(e*a+(e-1)*n[0]),hPx:Math.round(t*o+(t-1)*n[1])}},t.hasScrolled=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vertical";return"vertical"===t?e.scrollHeight>e.clientHeight:"horizontal"===t?e.scrollWidth>e.clientWidth:void 0},t.hasCheckedCardInGroups=function(e){var t=!1;return r.default.forEach(e,(function(e){if(r.default.forEach(e.apps,(function(e){if(!0===e.isChecked)return t=!0,!1})),t)return!1})),t},t.hasExpiredCardInGroups=function(e){var t=!1;return r.default.forEach(e,(function(e){if(r.default.forEach(e.apps,(function(e){if(!1===e.haspower)return t=!0,!1})),t)return!1})),t},t.removeTargetCardsInGroup=function(e,t,n){r.default.forEach(e,(function(e){r.default.remove(e.apps,(function(e){return e[t]===n}))}))},t.getRelateidObj=function(e,t){return e?{data:e,code:"0",type:"responsibility"}:t?{data:Boolean(t),code:"2",type:"is_group"}:{data:"",code:"1",type:"userID"}},t.hasCardContainInGroups=function(e,t){var n=!1;return r.default.forEach(e,(function(e){if(r.default.forEach(e.apps,(function(e){if(e.cardid===t)return n=!0,!1})),n)return!1})),n},t.getCardList=function(e,t){var n=[];return r.default.forEach(e,(function(e,o){r.default.forEach(e.children,(function(e,a){(e.checked||e.value===t)&&n.push({cardid:e.value,width:e.width,height:e.height,name:e.label,isShadow:!1,isChecked:!1,gridx:666+100*o+a,gridy:999})}))})),n}}}]);
//# sourceMappingURL=Home.js.map