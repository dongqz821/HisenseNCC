(window.webpackJsonp=window.webpackJsonp||[]).push([[21,7],{1e3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(55)),l=p(a(2)),o=p(a(21)),r=p(a(5)),i=p(a(7)),s=p(a(4)),c=p(a(6));a(131);var d=a(1),u=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var f=a(919).high.Refer,g=function(e){function t(e){(0,r.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleChange=function(e){var t=a.props.onChange;t&&t(e)},a.handleMouseEnter=function(){a.setState({visible:!0})},a.handleMouseLeave=function(){a.setState({visible:!1})},a.state={visible:!1},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.form,o=e.options,r=a.getFieldError(this.props.id),i=!!r;return u.default.createElement(n.default,{placement:"top",overlayClassName:"tootip-white",visible:this.state.visible&&i,title:r&&r[r.length-1]},u.default.createElement("div",{style:{height:"30px"},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement(f,(0,l.default)({value:t,fieldid:this.props.fieldid,onChange:this.handleChange},o))))}}]),t}(d.Component);t.default=g},1001:function(e,t,a){var n=a(1002);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,l);n.locals&&(e.exports=n.locals)},1002:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".ant-form-item{display:flex!important}.ant-form-item-label{min-width:150px}.ant-form-item-control-wrapper{flex:1;width:0}.ant-form-item-control-wrapper .form-display-content{height:30px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ant-form-item-control-wrapper .u-checkbox-label{display:initial}.has-error .nc-select.u-select .u-select-selection.u-select-selection--single{border-color:red}",""])},1003:function(e,t,a){e.exports=a.p+"images/nodata.png"},1004:function(e,t,a){e.exports=a.p+"images/idea.png"},1005:function(e,t,a){var n=a(1006);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,l);n.locals&&(e.exports=n.locals)},1006:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".CoverPosition-container .CoverPosition-content,.CoverPosition-container .CoverPosition-content-treeCardTable{display:flex;flex-direction:column;justify-content:center;align-items:center}.CoverPosition-container .CoverPosition-content-treeCardTable img{width:25px;height:25px}.CoverPosition-container .CoverPosition-content-treeCardTable span{margin-left:8px;font-size:13px;color:#aeaeae}",""])},1007:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l,o=y(a(21)),r=y(a(5)),i=y(a(7)),s=y(a(4)),c=y(a(6)),d=a(1),u=y(d),p=a(974),f=y(a(1011)),g=y(a(1012)),h=y(a(1013)),m=y(a(1014)),v=y(a(1015));function y(e){return e&&e.__esModule?e:{default:e}}a(1016);var b=(n=function(e){function t(e){(0,r.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return l.call(a),a.state={cellEditable:!1},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.editable||this.setState({cellEditable:!1})}},{key:"render",value:function(){return u.default.createElement("div",{className:"table-editable-cell",ref:"tableEditableCell"},this.renderCell(this.props))}}]),t}(d.Component),l=function(){var e=this;this.handleCellEditableChange=function(t){e.setState({cellEditable:t})},this.switchCell=function(t){var a=t.type,n=t.cellKey,l=t.cellIndex,o=t.value,r=t.cellChange,i=t.cellRequired,s=t.cellCheck,c=t.options,d=t.cellErrorMsg,p=t.cellMark,f=t.selectRefNode,g=t.suffix;switch(a){case"string":return u.default.createElement(h.default,{cellKey:n,cellIndex:l,setCellEdit:e.handleCellEditableChange,value:o,cellChange:r,cellRequired:i,cellCheck:s,cellErrorMsg:d,suffix:g});case"select":return u.default.createElement(m.default,{cellKey:n,cellIndex:l,setCellEdit:e.handleCellEditableChange,value:o,cellChange:r,cellRequired:i,options:c,cellErrorMsg:d,refNode:f||e.refs.tableEditableCell});case"multiString":return u.default.createElement(v.default,{cellKey:n,cellIndex:l,setCellEdit:e.handleCellEditableChange,value:o,cellChange:r,cellRequired:i,options:c,cellErrorMsg:d,cellMark:p,cellCheck:s})}},this.renderCell=function(t){return t.editable?e.state.cellEditable?e.switchCell(t):u.default.createElement(g.default,{value:(0,p.cellValue)(t),setCellEdit:e.handleCellEditableChange}):u.default.createElement(f.default,{value:(0,p.cellValue)(t)})}},n);t.default=b},1008:function(e,t,a){"use strict";(function(e){var n,l,o,r=g(a(169)),i=g(a(377)),s=g(a(21)),c=g(a(378)),d=g(a(927)),u=g(a(234)),p=g(a(136)),f=g(a(28));function g(e){return e&&e.__esModule?e:{default:e}}!function(r,i){"object"==(0,f.default)(t)&&"object"==(0,f.default)(e)?e.exports=i(a(919),a(1),a(9)):(l=[a(919),a(1),a(9)],void 0===(o="function"==typeof(n=i)?n.apply(t,l):n)||(e.exports=o))}(window,(function(e,t,a){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||(0,p.default)(e,t,{enumerable:!0,get:n})},a.r=function(e){void 0!==u.default&&d.default&&(0,p.default)(e,d.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":(0,f.default)(e))&&e&&e.__esModule)return e;var n=(0,c.default)(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=1)}([function(t,a){t.exports=e},function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,p.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(2),o=g(l),r=(g(a(3)),a(0)),d=g(a(4)),u=a(5);function g(e){return e&&e.__esModule?e:{default:e}}var h=r.base.NCModal,m=r.base.NCButton,v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,f.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.callBack=function(){a.props.confirm(a.state.VaryID.refpk),a.props.close(a.state.VaryID.refpk)},a.onChange=function(e){a.setState({VaryID:e})},a.onClose=function(){a.props.close("close")},a.componentWillMount=function(){var e=a;(0,u.ctmsCheckClickCanUsed)(a.props.flag,null)?(0,r.ajax)({data:{code:a.props.flag},loading:!0,url:"/nccloud/riasm/change/ctmsconfig.do",success:function(t){t.data<0&&(e.props.confirm("undefined"),e.props.close("undefined")),e.setState({show:!0})},error:function(e){(0,r.toast)({color:"warning",content:e.message})}}):e.props.close("undefined")},a.state={VaryID:{},show:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,f.default)(t)));e.prototype=(0,c.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){return o.default.createElement("div",null,o.default.createElement(h,{show:this.state.show},o.default.createElement(h.Header,null,o.default.createElement(h.Title,null,"选择变更号")),o.default.createElement(h.Body,null,o.default.createElement(d.default,{value:this.state.VaryID,onChange:this.onChange})),o.default.createElement(h.Footer,null,o.default.createElement(m,{onClick:this.onClose},"关闭"),o.default.createElement(m,{onClick:this.callBack,color:"primary"},"确认"))))}}]),t}(l.Component);t.default=v},function(e,a){e.exports=t},function(e,t){e.exports=a},function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},refType:"grid",refName:"变更号",placeholder:"变更号",queryGridUrl:"/nccloud/riasm/change/varyidref.do",isHasDisabledData:!1,columnConfig:[{name:["1880000025-000002","1880000025-000003"],code:["refcode","refname"]}]};return React.createElement(l,n({},t,e))};var l=a(0).high.Refer},function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.ctmsCheckAppEnvIsProduct=t.ctmsCheckClickCanUsed=void 0;var n=a(0);t.ctmsCheckClickCanUsed=function(e,t){var a=!0;return(0,n.ajax)({loading:!0,url:"/nccloud/riasm/ctmsconfig/qrycurrentappcanused.do",data:e,async:!1,success:function(e){return 0==e.data.result&&(null==t||""==t?(0,n.toast)({color:"warning",content:e.data.msg}):(0,n.toast)({color:"warning",content:t}),a=!1),a},error:function(e){(0,n.toast)({color:"danger",content:e})}}),a},t.ctmsCheckAppEnvIsProduct=function(){var e=!1;return(0,n.ajax)({loading:!0,url:"/nccloud/riasm/ctmsconfig/systemtype.do",data:null,async:!1,success:function(t){return"product"==t.data&&(e=!0),e},error:function(e){(0,n.toast)({color:"danger",content:e.message})}}),e}}])}))}).call(this,a(235)(e))},1009:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l=a(920),o=a(926),r=(n=o)&&n.__esModule?n:{default:n};t.default=(0,l.DragDropContext)(r.default)},1011:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(21)),l=d(a(5)),o=d(a(7)),r=d(a(4)),i=d(a(6)),s=a(1),c=d(s);function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return(0,l.default)(this,t),(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.value;return e||c.default.createElement("span",null," ")}}]),t}(s.Component);t.default=u},1012:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(11)),l=u(a(21)),o=u(a(5)),r=u(a(7)),i=u(a(4)),s=u(a(6));a(923);var c=a(1),d=u(c);function u(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.setCellEdit;return d.default.createElement("div",{className:"editable-cell-container",onClick:function(){a(!0)}},t||"",d.default.createElement(n.default,{type:"edit",className:"editable-cell-icon",style:{display:"inline-block"}}))}}]),t}(c.Component);t.default=p},1013:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(55)),l=g(a(109)),o=g(a(21)),r=g(a(5)),i=g(a(7)),s=g(a(4)),c=g(a(6));a(131),a(130);var d=a(1),u=g(d),p=a(974),f=a(19);function g(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,r.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleChange=function(e){var t=e.target.value,n=a.props,l=n.cellChange,o=n.cellKey,r=n.cellIndex;if(n.cellRequired){var i=(0,p.cellNonempty)(t);a.setState({hasError:i})}l(o,r,t)},a.handlePressEnter=function(){var e=a.props,t=e.value,n=e.cellRequired,l=e.setCellEdit,o=e.cellCheck,r=e.cellKey,i=e.cellIndex;if(n)if(o){var s=o(r,i,t),c=s.cellErrorMsg,d=s.hasError;c?a.setState({hasError:d,cellErrorMsg:c}):a.setState({hasError:d}),l(d)}else{var u=(0,p.cellNonempty)(t);a.setState({hasError:u}),l(u)}else l(!1)},a.handleBlur=function(){var e=a.props,t=e.value,n=e.cellRequired,l=e.setCellEdit,o=e.cellKey,r=e.cellIndex,i=e.cellCheck;if(n)if(i){var s=i(o,r,t),c=s.cellErrorMsg,d=void 0===c?null:c,u=s.hasError;d?a.setState({hasError:u,cellErrorMsg:d}):a.setState({hasError:u}),l(u)}else{var f=(0,p.cellNonempty)(t);a.setState({hasError:f}),l(f)}else l(!1)},a.handleMouseOver=function(){a.setState({visible:!0})},a.handleMouseOut=function(){a.setState({visible:!1})},a.state={hasError:!1,visible:!1,cellErrorMsg:(0,f.langCheck)("0000PUB-000003")},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.cellKey,o=e.suffix;return u.default.createElement("div",{className:this.state.hasError?"has-error":"",onMouseOut:this.handleMouseOut,onMouseOver:this.handleMouseOver},u.default.createElement(n.default,{placement:"top",overlayClassName:"tootip-white",visible:this.state.hasError&&this.state.visible,title:this.state.cellErrorMsg},u.default.createElement(l.default,{autoFocus:!0,value:t,onChange:this.handleChange,onPressEnter:this.handlePressEnter,onBlur:this.handleBlur,fieldid:a,suffix:o})))}}]),t}(d.Component);t.default=h},1014:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(21)),l=u(a(5)),o=u(a(7)),r=u(a(4)),i=u(a(6)),s=a(1),c=u(s),d=a(974);function u(e){return e&&e.__esModule?e:{default:e}}var p=u(a(26)).default.base.NCSelect,f=p.NCOption,g=function(e){function t(e){(0,l.default)(this,t);var a=(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.handleSelect=function(e){var t=a.props,n=t.cellKey,l=t.cellIndex;(0,t.cellChange)(n,l,e)},a.handleFocus=function(){a.setState({hasError:!1})},a.handleBlur=function(e){a.props.cellRequired?(0,d.cellNonempty)(e)?a.props.setCellEdit(!1):(a.props.setCellEdit(!0),a.setState({hasError:!0})):a.props.setCellEdit(!1)},a.createOptions=function(e){return e.map((function(e){return c.default.createElement(f,{key:e.value,value:e.value},e.text)}))},a.state={hasError:!1},a}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this;return c.default.createElement(p,{value:this.props.value,showClear:!1,fieldid:this.props.cellKey,onFocus:this.handleFocus,onBlur:this.handleBlur,onSelect:this.handleSelect,getPopupContainer:function(){return e.props.refNode}},this.createOptions(this.props.options))}}]),t}(s.Component);t.default=g},1015:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(55)),l=g(a(21)),o=g(a(5)),r=g(a(7)),i=g(a(4)),s=g(a(6));a(131);var c=a(1),d=g(c),u=a(919),p=a(19),f=a(974);function g(e){return e&&e.__esModule?e:{default:e}}var h=u.base.NCMultiLangText,m=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.handleChange=function(e){var t=a.props,n=t.cellKey,l=t.cellMark,o=t.cellChange,r=t.cellRequired,i=t.cellIndex,s=t.setCellEdit,c=t.options;if(r){var d=void 0,u=void 0;c.map((function(e){e.languageCode==a.langMain&&(d=e.index),e.languageCode==a.locale&&(u=e.index)}));var p=!1;(0,f.cellNonempty)(e[""+l+d].value)&&((0,f.cellNonempty)(e[""+l+u].value)?p=!0:e[""+l+d].value=e[""+l+u].value),a.setState({hasError:p})}o(n,i,e),s(!0)},a.handleBlur=function(e){var t=a.props,n=t.cellKey,l=t.cellMark,o=(t.cellChange,t.cellIndex),r=t.cellCheck,i=t.cellRequired,s=t.options,c=t.setCellEdit;if(i)if(r){var d=r(n,o,e),u=d.cellErrorMsg,p=d.hasError;u?a.setState({hasError:p,cellErrorMsg:u}):a.setState({hasError:p}),c(p)}else{var g=void 0,h=void 0;s.map((function(e){e.languageCode==a.langMain&&(g=e.index),e.languageCode==a.locale&&(h=e.index)}));var m=!1;(0,f.cellNonempty)(e[""+l+g].value)&&((0,f.cellNonempty)(e[""+l+h].value)?m=!0:e[""+l+g].value=e[""+l+h].value),a.setState({hasError:m}),c(m)}else c(!1)},a.handleMouseOver=function(){a.setState({visible:!0})},a.handleMouseOut=function(){a.setState({visible:!1})},a.state={hasError:!1,visible:!1,cellErrorMsg:(0,p.langCheck)("0000PUB-000003")},a.locale=(0,u.getLangCode)("langCode"),a.langMain=e.options.find((function(e){return e.languageMain})).languageCode,a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.cellMark,a=e.value,l=e.options;return d.default.createElement("div",{className:this.state.hasError?"has-error":"",onMouseOut:this.handleMouseOut,onMouseOver:this.handleMouseOver},d.default.createElement(n.default,{placement:"top",overlayClassName:"tootip-white",visible:this.state.hasError&&this.state.visible,title:this.state.cellErrorMsg},d.default.createElement(h,{onChange:this.handleChange,onBlur:this.handleBlur,languageMeta:l,attrcode:t,value:a,fieldid:t})))}}]),t}(c.Component);t.default=m},1016:function(e,t,a){var n=a(1017);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,l);n.locals&&(e.exports=n.locals)},1017:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".table-editable-cell{position:relative}.table-editable-cell .editable-cell-container{display:inline-block;position:relative;padding-right:24px;width:100%;height:30px;line-height:30px}.table-editable-cell .editable-cell-container .editable-cell-icon{position:absolute;right:0;top:10px}",""])},1018:function(e,t,a){var n=a(1019);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,l);n.locals&&(e.exports=n.locals)},1019:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".table_resizable_column .react-resizable{position:relative}.table_resizable_column .react-resizable-handle{position:absolute;width:10px;height:100%;bottom:0;right:-5px;cursor:col-resize}",""])},1020:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var n=i(a(169));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.default.createElement(s,(0,n.default)(c,e))};var l=i(a(1)),o=a(919),r=a(19);function i(e){return e&&e.__esModule?e:{default:e}}var s=o.high.Refer,c=t.conf={placeholder:(0,r.langCheck)("0000PUB-000052"),rootNode:{refname:(0,r.langCheck)("0000PUB-000052"),refpk:"root"},refType:"tree",refName:(0,r.langCheck)("0000PUB-000053"),refCode:"uapbd.org.BusinessUnitAndGroupTreeRef",queryTreeUrl:"/nccloud/uapbd/ref/BusinessUnitAndGroupTreeRef.do",treeConfig:{name:[(0,r.langCheck)("0000PUB-000032"),(0,r.langCheck)("0000PUB-000033")],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:{queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",refName:(0,r.langCheck)("0000PUB-000054"),rootNode:{refname:(0,r.langCheck)("0000PUB-000054"),refpk:"root"}},isShowUnit:!1}},1021:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l=a(169),o=(n=l)&&n.__esModule?n:{default:n};t.generateData=function(e){var t=[],a={};return e.map((function(e){var n=e.pid,l=e.code,o=e.name;e.children&&delete e.children,e.text=l+" "+o,e.title=e.text,e.key=l,n?(a[n]||(a[n]=[]),a[n].push(e)):(e.children=[],t.push(e))})),{treeArray:t,treeObj:a}},t.generateTemData=function(e){var t=[],a={},n=[],l=[];return e.map((function(e){var t=e.templateId,a=e.name,o=e.code;e.children&&delete e.children,e.key=t,e.text=o+" "+a,e.pk=t,n.push(t),l.push(e)})),l.forEach((function(e){var l=e.templateId;n.includes(e.parentId)?(a[l]=[],a[l].push(e)):(e.children=[],t.push(e))})),{treeArray:t,treeObj:a}},t.generateRoData=function(e){var t=[];return e.map((function(e){var a=e.code,n=e.id,l=e.name;e.key=n,e.text=a+" "+l,e.title=e.text,t.push(e)})),t},t.generateTreeData=function e(t){return t.map((function(t){return(t=(0,o.default)({},t)).children?(t.isLeaf=!1,t.children=e(t.children)):t.isLeaf=!0,t}))}},1029:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BaoBiaoChaxunLei=[{value:"baobiaochaxunlei1",src:"baobiaochaxunlei1"},{value:"baobiaochaxunlei2",src:"baobiaochaxunlei2"},{value:"baobiaochaxunlei3",src:"baobiaochaxunlei3"},{value:"baobiaochaxunlei4",src:"baobiaochaxunlei4"},{value:"baobiaochaxunlei5",src:"baobiaochaxunlei5"},{value:"baobiaochaxunlei6",src:"baobiaochaxunlei6"},{value:"baobiaochaxunlei7",src:"baobiaochaxunlei7"},{value:"baobiaochaxunlei8",src:"baobiaochaxunlei8"}],t.YeWuSheZhiLei=[{value:"yewushezhilei1",src:"yewushezhilei1"},{value:"yewushezhilei2",src:"yewushezhilei2"},{value:"yewushezhilei3",src:"yewushezhilei3"},{value:"yewushezhilei4",src:"yewushezhilei4"},{value:"yewushezhilei5",src:"yewushezhilei5"},{value:"yewushezhilei6",src:"yewushezhilei6"},{value:"yewushezhilei7",src:"yewushezhilei7"},{value:"yewushezhilei8",src:"yewushezhilei8"}],t.JiChuDangAnLei=[{value:"jichudanganlei1",src:"jichudanganlei1"},{value:"jichudanganlei2",src:"jichudanganlei2"},{value:"jichudanganlei3",src:"jichudanganlei3"},{value:"jichudanganlei4",src:"jichudanganlei4"},{value:"jichudanganlei5",src:"jichudanganlei5"},{value:"jichudanganlei6",src:"jichudanganlei6"},{value:"jichudanganlei7",src:"jichudanganlei7"},{value:"jichudanganlei8",src:"jichudanganlei8"}],t.DanJuWeiHuLei=[{value:"danjuweihulei1",src:"danjuweihulei1"},{value:"danjuweihulei2",src:"danjuweihulei2"},{value:"danjuweihulei3",src:"danjuweihulei3"},{value:"danjuweihulei4",src:"danjuweihulei4"},{value:"danjuweihulei5",src:"danjuweihulei5"},{value:"danjuweihulei6",src:"danjuweihulei6"},{value:"danjuweihulei7",src:"danjuweihulei7"},{value:"danjuweihulei8",src:"danjuweihulei8"}],t.YeWuChuLiLei=[{value:"yewuchulilei1",src:"yewuchulilei1"},{value:"yewuchulilei2",src:"yewuchulilei2"},{value:"yewuchulilei3",src:"yewuchulilei3"},{value:"yewuchulilei4",src:"yewuchulilei4"},{value:"yewuchulilei5",src:"yewuchulilei5"},{value:"yewuchulilei6",src:"yewuchulilei6"},{value:"yewuchulilei7",src:"yewuchulilei7"},{value:"yewuchulilei8",src:"yewuchulilei8"}]},1034:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=D(a(17)),l=D(a(2)),o=D(a(21)),r=D(a(5)),i=D(a(7)),s=D(a(4)),c=D(a(6)),d=D(a(232)),u=D(a(109)),p=D(a(56));a(231),a(130),a(132);var f=a(1),g=D(f),h=D(a(0)),m=a(37),v=D(a(35)),y=a(19),b=D(a(68)),k=D(a(1020)),C=a(980),P=a(1021),w=a(1035),E=D(a(364));a(1036);var A=D(a(26));function D(e){return e&&e.__esModule?e:{default:e}}var x=A.default.base,_=x.NCDiv,T=x.NCButton,N=x.NCTree,R=x.NCCheckbox,S=A.default.metaCache,M=S.getMetaCache,O=S.removeMetaCache,I=p.default.Option,B=N.NCTreeNode,q=u.default.Search,K=d.default.TabPane,j=["abc1234567","abc2234567","abc3334567"],V=function(e){function t(e){(0,r.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.reqAllowTreeData=function(){var e=a.state,t=e.orgidObj,n=e.nodeKeyValue,o=a.props,r=o.templatePk,i=o.pageCode,s=o.appCode,c=o.def1,d=o.json,u={pageCode:i,orgId:t.refpk,templateId:r,appCode:s};"apppage"===c?u.templateType="bill":"menuitem"===c&&(u.templateType="print",u.pageCode&&delete u.pageCode,u.pageCode=n),a.props.mobileInfoData&&(u=(0,l.default)({orgId:t.refpk},a.props.mobileInfoData)),"mobile"===a.props.pageType&&(u=(0,l.default)({},u,{templateType:"mobile"})),(0,v.default)({url:"/nccloud/platform/template/listAssignmentsOfTemplate.do",info:{name:d["10180TM-000002"],action:d["10180TM-000003"]},data:u,success:function(e){var t=e.data;t.success&&a.setState({allowDataArray:t.data},a.restoreAllowedTree)}})},a.restoreAllowedTree=function(){var e=a.state,t=e.allowDataArray,n=e.treeAllowedData;t.map((function(e){e.text=e.code+"  "+e.name,e.key=e.id})),n=(0,P.generateTreeData)(t),a.setState({treeAllowedData:n})},a.reqRoTreeData=function(e){var t=a.state,n=t.orgidObj,l=t.tabActiveKey,o=a.props.json;if(n.refpk){var r=e?"/nccloud/platform/template/filterAllRoleUserAndResp.do":"/nccloud/platform/template/getAllRoleUserAndResp.do",i=e?{orgId:n.refpk,content:e}:{orgId:n.refpk};(0,v.default)({url:r,info:{name:(0,y.langCheck)("10180TM-000004","pages",o),action:(0,y.langCheck)("10180TM-000005","pages",o)},data:i,success:function(t){var n=t.data;n.success&&n.data&&((n.data.roles||n.data.users||n.data.resps)&&(e?("1"==l?a.restoreRoTreeData(n.data):a.restoreResTreeData(n.data.resps),a.handleExpanded(n.data,e)):(a.restoreRoTreeData(n.data),a.restoreResTreeData(n.data.resps))),a.props.setRoleUserDatas(n.data),a.reqAllowTreeData())}})}},a.restoreResTreeData=function(e){var t=a.state.treeResData,n=a.props.json;t=[],w.initAbiTreeData.text=(0,y.langCheck)("10180TM-000006","pages",n),w.initAbiTreeData2.text=(0,y.langCheck)("10180TM-000006","pages",n);var l=w.initAbiTreeData;e.map((function(e){var t=e.code,a=e.name;e.text=t+"  "+a,e.type="resp"})),l.children=e,t.push(l),t=(0,P.generateTreeData)(t),a.setState({treeResData:t})},a.restoreRoTreeData=function(e){var t=a.state.treeRoData,n=a.props.json;t=[],w.initRoTreeData.text=(0,y.langCheck)("10180TM-000007","pages",n),w.initUserTreeData.text=(0,y.langCheck)("10180TM-000008","pages",n),w.initRoTreeData2.text=(0,y.langCheck)("10180TM-000007","pages",n),w.initUserTreeData2.text=(0,y.langCheck)("10180TM-000008","pages",n);var l=w.initRoTreeData,o=w.initUserTreeData;e.roles.map((function(e){e.type="roles"})),e.users.map((function(e){e.type="users"})),l.children=(0,P.generateRoData)(e.roles),o.children=(0,P.generateRoData)(e.users),t.push(l),t.push(o),t=(0,P.generateTreeData)(t),a.setState({treeRoData:t})},a.selectRoFun=function(e){var t=a.state.roCheckedKeys,l=e.node.props.refData.id,o=t.indexOf(l);o>-1?t.splice(o,1):t.push(l),a.setState({roCheckedKeys:[].concat((0,n.default)(t))},a.lookCheckDataFun)},a.arrayUnique=function(e){for(var t=[],a=0,n=e.length;a<n;a++){for(var l=a+1;l<n;l++)e[a].id==e[l].id&&++a;t.push(e[a])}return t},a.allowClick=function(e){var t=a.state,n=t.allowDataArray,l=t.treeAllowedData,o=t.allowedCheckedKeys,r=a.props,i=r.roCheckedObjArray,s=r.json;switch(e){case"allowRole":if(i&&0===i.length)return void(0,b.default)({status:"warning",msg:(0,y.langCheck)("10180TM-000009","pages",s)});n=n.concat(i),n=a.arrayUnique(n),l=(0,P.generateTreeData)(n);break;case"allowRoleCancel":if(o&&0===o.length)return void(0,b.default)({status:"warning",msg:(0,y.langCheck)("10180TM-000009","pages",s)});Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)};for(var c=o.length-1;c>=0;c--)for(var d=0;d<n.length;d++)o[c]&&n[d].id===o[c]&&n.remove(n[d]);l=(0,P.generateTreeData)(n)}a.setState({treeAllowedData:l,allowDataArray:n,allowedCheckedKeys:o})},a.onSelectedAllow=function(e){var t=a.state.allowedCheckedKeys,l=e.node.props.refData.id,o=t.indexOf(l);o>-1?t.splice(o,1):t.push(l),a.setState({allowedCheckedKeys:[].concat((0,n.default)(t))})},a.onSelect=function(e,t){switch(e){case"resOnselect":a.selectRoFun(t);break;case"allowedOnselect":a.onSelectedAllow(t)}},a.hanldeDoubleClick=function(e,t){var n=void 0,l=[];"resOnselect"===e&&(n=t.props.refData.key,l=a.state.expandedKeys.concat([n]),a.setState({expandedKeys:l}))},a.onExpand=function(e){a.setState({expandedKeys:e,autoExpandParent:!1})},a.handleExpanded=function(e,t){var n=a.state.tabActiveKey,l=[];if("1"===n){for(var o in e)e.hasOwnProperty(o)&&("users"!==o&&"roles"!==o||e[o].map((function(e){e.text=e.code+"  "+e.name,e.text.indexOf(t)>-1&&l.push(e.key)})));l.push("abc1234567"),l.push("abc2234567"),a.setState({expandedKeys:l,roleSearchValue:t,autoExpandParent:!0})}else{for(var r in e)e.hasOwnProperty(r)&&"resps"===r&&e[r].map((function(e){e.text=e.code+"  "+e.name,e.text.indexOf(t)>-1&&l.push(e.key)}));l.push("abc3334567"),a.setState({expandedKeys:l,respSearchValue:t,autoExpandParent:!1})}},a.onSearch=function(){var e=a.state,t=e.tabActiveKey,n=e.roleSearchValue,l=e.respSearchValue;"1"===t?n?a.reqRoTreeData(n):(a.setState({expandedKeys:[]}),a.reqRoTreeData()):"2"===t&&(l?a.reqRoTreeData(l):(a.setState({expandedKeys:[]}),a.reqRoTreeData()))},a.onCheck=function(e,t){switch(e){case"resOnselect":a.onCheckRoFun(t);break;case"allowedOnselect":a.onCheckAllowedFun(t)}},a.onCheckRoFun=function(e){var t=e.filter((function(e){return!j.includes(e)}));a.setState({roCheckedKeys:t},a.lookCheckDataFun)},a.lookCheckDataFun=function(){var e=a.state.roCheckedKeys,t=a.props.roleUserDatas,n=e.filter((function(e){return"abc1234567"!==e&&"abc2234567"!==e&&"abc3334567"!==e})),l=[];n.map((function(e){var a={},n=function(n){t[n].map((function(t){t.id===e&&(a.key=t.id,a.id=t.id,a.pk=t.id,a.text=t.code+"  "+t.name,a.code=t.code,"users"===n?a.type="user":"roles"===n?a.type="role":"resps"===n&&(a.type="resp"))}))};for(var o in t)n(o);l.push(a)})),a.props.setRoCheckedObjArray(l)},a.onCheckAllowedFun=function(e){a.setState({allowedCheckedKeys:e})},a.handleSearchDel=function(){var e=a.state.tabActiveKey,t=a.props.roleUserDatas;switch(e){case"1":a.restoreRoTreeData(t),a.setState({roleSearchValue:"",expandedKeys:[]});break;case"2":a.restoreResTreeData(t.resps),a.setState({respSearchValue:"",expandedKeys:[]})}},a.treeResAndUser=function(e,t,n,l,o,r){var i=a.state,s=i.expandedKeys,c=i.autoExpandParent,d=i.treeAllowedData,u=i.tabActiveKey,p=a.props.json;return g.default.createElement("div",{className:o||""},n?"":g.default.createElement("div",{className:"fixed-search-input"},g.default.createElement(q,{style:{marginBottom:8},placeholder:(0,y.langCheck)("10180TM-000010","pages",p),onSearch:a.onSearch,onChange:function(e){"1"===u?a.setState({roleSearchValue:e.target.value}):a.setState({respSearchValue:e.target.value}),""===e.target.value&&(a.reqRoTreeData(),a.setState({expandedKeys:[]}))},value:l,suffix:l.length>0?g.default.createElement("i",{className:"iconfont icon-qingkong",onClick:function(){a.handleSearchDel()}}):"",fieldid:"search"})),e.length>0&&g.default.createElement(_,{fieldid:n?"allocationRight":"allocationLeft",areaCode:_.config.TreeCom,className:"allocationLeft_tree_content"},g.default.createElement(N,{showLine:!0,checkable:!0,onExpand:a.onExpand,expandedKeys:s,onSelect:function(e,n){a.onSelect(t,n)},autoExpandParent:c,onDoubleClick:function(e,n){a.hanldeDoubleClick(t,n)},onCheck:function(e){a.onCheck(t,e)},checkedKeys:r},function e(a){return a.map((function(a){var n=a.text,o=a.id,r=void 0,i=!1;if(d.map((function(e){e.key===o&&(i=!0)})),"resOnselect"===t){var c=n.indexOf(l),u=n.substr(0,c),p=n.substr(c+l.length);r=c>-1?g.default.createElement("span",null,a.children?g.default.createElement("span",{className:"tree-switch-icon iconfont "+(s.includes(o)?"icon-wenjianjiadakai":"icon-wenjianjia")}):g.default.createElement("span",{className:"tree-dot"}),u,g.default.createElement("span",{style:{color:"#f50"}},l),p):g.default.createElement("span",null,g.default.createElement("span",null," ",n," "))}else"allowedOnselect"===t&&(r=n);var f=a.children?"fieldid_"+n+"_node":"fieldid_"+a.code+"_node";return a.children&&a.children.length>0?g.default.createElement(B,{key:o,title:r,refData:a,className:f},e(a.children)):g.default.createElement(B,{key:o,title:r,refData:a,className:f,disabled:"resOnselect"===t&&i})}))}(e))))},a.handleAlloOk=function(){var e=a.state,t=e.treeAllowedData,n=e.orgidObj,o=e.nodeKeyValue,r=a.props,i=r.templatePk,s=r.appCode,c=r.pageCode,d=r.def1,u=r.json;if(n.refpk)if(t){for(var p={},f=0;f<t.length;f++){var g=t[f];for(var h in g)"id"===h&&(p[g[h]]=g.type)}var m="";for(var k in p)m=m+(k+":")+p[k]+",";var C=m.length;m=m.substr(0,C-1);var P={pageCode:c,templateId:i,orgId:n.refpk,appCode:s};P.targets=m,"apppage"===d?P.templateType="bill":"menuitem"===d&&(P.templateType="print",P.pageCode&&delete P.pageCode,o&&(P.pageCode=o)),a.props.mobileInfoData&&(P=(0,l.default)({},P,a.props.mobileInfoData)),"mobile"===a.props.pageType&&(P=(0,l.default)({},P,{templateType:"mobile"})),(0,v.default)({url:"/nccloud/platform/template/assignTemplate.do",data:P,loading:!0,info:{name:(0,y.langCheck)("10180TM-000012","pages",u),action:(0,y.langCheck)("10180TM-000013","pages",u)},success:function(e){var t=e.data;t.success&&((0,b.default)({status:"success",msg:t.msg}),M(s,c)&&O(s,c),a.props.setAssignModalVisible(!1))}})}else(0,b.default)({status:"warning",msg:(0,y.langCheck)("10180TM-000009","pages",u)});else(0,b.default)({status:"error",msg:(0,y.langCheck)("10180TM-000011","pages",u)})},a.handleOrlCancel=function(){a.props.setAssignModalVisible(!1)},a.handdleRefChange=function(e){var t=a.state.orgidObj,n=e.refname,l=e.refcode,o=e.refpk;t.refname=n,t.refcode=l,t.refpk=o,a.setState({orgidObj:t},a.reqRoTreeData)},a.handleCheckAllAllowed=function(e){var t=e?a.state.treeAllowedData.map((function(e){return e.key})):[];a.setState({allowedCheckedKeys:t})},a.state={expandedKeys:[],roleSearchValue:"",respSearchValue:"",autoExpandParent:!1,nodeKeyValue:a.props.nodeKey&&a.props.nodeKey.length>0?a.props.nodeKey[0]:"",treeRoData:[],treeResData:[],roCheckedKeys:[],allowedCheckedKeys:[],allowDataArray:[],treeAllowedData:[],orgidObj:{refcode:"",refname:window.GETBUSINESSINFO().groupName,refpk:window.GETBUSINESSINFO().groupId},tabActiveKey:"1",json:{}},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.state.orgidObj.refpk&&this.reqRoTreeData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.orgidObj,n=t.treeRoData,l=t.treeResData,o=t.treeAllowedData,r=t.tabActiveKey,i=t.roleSearchValue,s=t.respSearchValue,c=t.allowedCheckedKeys,u=t.roCheckedKeys,f=this.props,h=f.pageCode,m=f.def1,v=f.nodeKey,b=f.json,C=f.mobileInfoData;return g.default.createElement(E.default,{dialogClassName:"allocation-modal",title:(0,y.langCheck)("10180TM-000014","pages",b),visible:this.props.alloVisible,onOk:this.handleAlloOk,onCancel:this.handleOrlCancel,okText:(0,y.langCheck)("10180TM-000015","pages",b),cancelText:(0,y.langCheck)("10180TM-000016","pages",b),width:720,maskClosable:!1,keyboard:!0,fieldid:"allocation"},g.default.createElement("div",{className:"allocationPage"},g.default.createElement("div",{className:"pageCode-show"},g.default.createElement("p",{className:"pageCodeName"},(0,y.langCheck)("10180TM-000017","pages",b),g.default.createElement("span",null,h||C&&C.pageCode)),"menuitem"===m&&g.default.createElement("div",null,g.default.createElement("label",{htmlFor:""},(0,y.langCheck)("10180TM-000018","pages",b)),g.default.createElement(p.default,{notFoundContent:(0,y.langCheck)("10180TM-000075","pages",b),showSearch:!0,style:{width:200},placeholder:(0,y.langCheck)("10180TM-000019","pages",b),optionFilterProp:"children",onSelect:function(t){e.setState({nodeKeyValue:t},(function(){e.reqAllowTreeData()}))},defaultValue:null==v?"":v[0],filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},v&&v.length>0&&v.map((function(e,t){if(e)return g.default.createElement(I,{value:e},e)}))))),g.default.createElement("div",{className:"allocationPage-content"},g.default.createElement("div",{className:"allocationPage-content-tree"},g.default.createElement("div",{className:"allocation-treeCom"},g.default.createElement(d.default,{defaultActiveKey:"1",activeKey:r,renderTabBar:function(e,t){return g.default.createElement(_,{areaCode:_.config.TABS}," ",g.default.createElement(t,e))},onChange:function(t){e.setState({tabActiveKey:t})}},g.default.createElement(K,{tab:(0,y.langCheck)("10180TM-000020","pages",b),key:"1"},g.default.createElement(_,{className:"allocation-treeScrollName",fieldid:"allocationUser",areaCode:_.config.TREE},this.treeResAndUser(n,"resOnselect",null,i,"searchTree-assign",u))),g.default.createElement(K,{tab:(0,y.langCheck)("10180TM-000006","pages",b),key:"2"},g.default.createElement(_,{className:"allocation-treeScrollName",fieldid:"allocationDuty",areaCode:_.config.TREE},this.treeResAndUser(l,"resOnselect",null,s,"searchTree-assign",u))))),g.default.createElement("div",{className:"allocation-button"},g.default.createElement("div",null,g.default.createElement("div",null,g.default.createElement("p",null,g.default.createElement(T,{fieldid:"toRight",onClick:this.allowClick.bind(this,"allowRole")},g.default.createElement("i",{className:"icon iconfont icon-jiantouyou"}))),g.default.createElement("p",null,g.default.createElement(T,{fieldid:"toLeft",onClick:this.allowClick.bind(this,"allowRoleCancel")},g.default.createElement("i",{className:"icon iconfont icon-jiantouzuo"})))))),g.default.createElement("div",{className:"allocation-treeContainer"},g.default.createElement("div",{className:"allocation-select"},g.default.createElement("label",{htmlFor:""},(0,y.langCheck)("10180TM-000021","pages",b)),g.default.createElement(k.default,{value:a,placeholder:(0,y.langCheck)("10180TM-000022","pages",b),fieldid:"businessUnit",onChange:function(t){e.handdleRefChange(t)}})),g.default.createElement("div",{className:"allocation-tree"},g.default.createElement(R,{checked:0!==c.length&&c.length===o.length,indeterminate:0!==c.length&&c.length<o.length,onChange:this.handleCheckAllAllowed},(0,y.langCheck)("10180TM-000081","pages",b)," "),o.length>0&&this.treeResAndUser(o,"allowedOnselect","hideSearch","","",c)))))))}}]),t}(f.Component);V.propTypes={templatePk:h.default.string.isRequired,roCheckedObjArray:h.default.array.isRequired,setRoCheckedObjArray:h.default.func.isRequired,nodeKey:h.default.array.isRequired,roleUserDatas:h.default.object.isRequired,setRoleUserDatas:h.default.func.isRequired,json:h.default.object.isRequired},t.default=(0,m.connect)((function(e){return{templatePk:e.TemplateSettingData.templatePk,pageCode:e.TemplateSettingData.pageCode,appCode:e.TemplateSettingData.appCode,def1:e.TemplateSettingData.def1,nodeKey:e.TemplateSettingData.nodeKey,roCheckedObjArray:e.TemplateSettingData.roCheckedObjArray,roleUserDatas:e.TemplateSettingData.roleUserDatas}}),{setRoCheckedObjArray:C.setRoCheckedObjArray,setRoleUserDatas:C.setRoleUserDatas})(V)},1035:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.initRoTreeData={id:"abc1234567",text:"",children:[]},t.initUserTreeData={id:"abc2234567",text:"",children:[]},t.initRoTreeData2={id:"abc1234567",text:"",children:[]},t.initUserTreeData2={id:"abc2234567",text:"",children:[]},t.initAbiTreeData={id:"abc3334567",text:"",children:[]},t.initAbiTreeData2={id:"abc3334567",text:"",children:[]}},1036:function(e,t,a){var n=a(1037);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,l);n.locals&&(e.exports=n.locals)},1037:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".allocation-modal .u-modal-body{padding:15px 0 0}.allocationPage .pageCode-show{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;margin:0 15px;padding:10px 20px;background-color:#f3f3f3}.allocationPage .pageCode-show .pageCodeName{margin-bottom:0}.allocationPage .allocationPage-content .allocationPage-content-select{display:flex;justify-content:space-between;padding:15px 20px;border-top:1px solid #ccc;border-bottom:1px solid #ccc}.allocationPage .allocationPage-content .allocationPage-content-tree{display:flex;justify-content:space-between}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom{width:42%}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .ant-tabs-bar{margin:0;padding:0 5px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .allocation-treeScrollName{height:330px;border-right:1px solid #e8e8e8;position:relative;padding-top:50px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .allocation-treeScrollName .allocationLeft_tree_content{width:100%}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .allocation-treeScrollName .searchTree-assign{display:flex;padding:0 10px;overflow:auto;height:100%}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .allocation-treeScrollName .searchTree-assign .fixed-search-input{position:absolute;top:0;left:0;padding:0 15px;width:100%;display:flex;background-color:#fff;z-index:1}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .allocation-treeScrollName .searchTree-assign .tree-switch-icon{color:#f2b224;margin-right:5px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .allocation-treeScrollName .searchTree-assign .tree-dot{display:inline-block;width:5px;height:5px;background-color:#555;border-radius:100%;margin:0 7px 2px 0}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .ant-input-affix-wrapper{margin-bottom:8px;margin-top:8px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .ant-input-affix-wrapper .ant-input{width:100%}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button{padding-top:43px;width:16%}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button>div{border-top:1px solid #e8e8e8;display:flex;align-items:center;height:330px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button>div>div{width:100%;display:flex;flex-direction:column;justify-content:center}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button>div>div p{text-align:center;margin-bottom:30px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button>div>div .icon{color:rgba(85,85,85,.5)}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeContainer{width:42%;display:flex;flex-direction:column}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeContainer .allocation-select{padding:5px 0 8px;display:flex;align-items:center}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeContainer .allocation-select .refer-wrapper{width:200px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeContainer .allocation-tree{height:330px;border:1px solid #e8e8e8;border-right:0;border-bottom:0;overflow:auto}",""])},1040:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l=C(a(109)),o=C(a(2)),r=C(a(21)),i=C(a(5)),s=C(a(7)),c=C(a(4)),d=C(a(6));a(130);var u=a(1),p=C(u),f=C(a(0)),g=a(37),h=a(980),m=C(a(364)),v=a(19),y=C(a(35)),b=C(a(68)),k=C(a(975));function C(e){return e&&e.__esModule?e:{default:e}}a(1041);var P=(0,k.default)((function(e,t){t.copyTemplate(e)}))(n=function(e){function t(e){(0,i.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.trim=function(e){if(e)return e.trim()},a.checkCode=function(){var e=a.props,t=e.json,n=e.templateTitleVal;if(!a.trim(n))return document.getElementById("templateCode").classList.add("has-error"),void a.setState({codeErrorMsg:(0,v.langCheck)("10180TM-000024","pages",t)});document.getElementById("templateCode").classList.remove("has-error"),a.setState({codeErrorMsg:""})},a.checkName=function(){var e=a.props,t=e.json,n=e.templateNameVal;if(!a.trim(n))return document.getElementById("templateName").classList.add("has-error"),void a.setState({nameErrorMsg:(0,v.langCheck)("10180TM-000023","pages",t)});a.setState({nameErrorMsg:""}),document.getElementById("templateName").classList.remove("has-error")},a.copyTemplate=function(e){var t=a.props,n=t.def1,l=t.templatePk,r=t.pageCode,i=t.appCode,s=t.templateNameVal,c=t.templateTitleVal,d=t.setSelectedTemKeys,u=t.setParentIdcon,p=t.setTemplateNameVal,f=t.setTemplatePk,g=t.setTemplateTitleVal,h=t.setCopyId,m=t.setIsDefaultTem,k=t.json;if(a.trim(s)){var C={pageCode:r,templateId:l,name:s,appCode:i,varyId:e},P=void 0;if("apppage"===n)C.templateType="bill",P="/nccloud/platform/template/copyTemplate.do";else if("menuitem"===n){if(!a.trim(c))return;C.templateCode=c,P="/nccloud/platform/template/copyPrintTemplate.do"}a.props.mobileInfoData&&(P="/nccloud/platform/template/copyTemplate.do",C=(0,o.default)({},a.props.mobileInfoData,{name:s}));var w=a;(0,v.DeferFn)((function(){(0,y.default)({url:P,data:C,loading:!0,info:{name:(0,v.langCheck)("10180TM-000012","pages",k),action:(0,v.langCheck)("10180TM-000025","pages",k)},success:function(e){var t=e.data;t.success&&((0,b.default)({status:"success",msg:t.msg}),d([t.data.id]),u("apppage"===n?t.data.data.parentid:t.data.parentid),p(t.data.name),f(t.data.id),h(t.data.id),m("n"),"menuitem"===n&&g(t.data.code),w.props.onCopy(t.data),w.handleCancel())}})}))}},a.handleOk=function(){var e="menuitem"===a.props.def1?"printtemplate":void 0;a.props.showVaryModal(e)},a.handleCancel=function(){a.props.setCopyVisible(!1)},a.state={nameErrorMsg:"",codeErrorMsg:""},a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.nameErrorMsg,n=t.codeErrorMsg,o=this.props,r=o.def1,i=o.treeTemPrintData,s=o.templateTitleVal,c=o.templateNameVal,d=o.json;return p.default.createElement(m.default,{mask:!0,wrapClassName:"copyModal",title:(0,v.langCheck)("10180TM-000046","pages",d),visible:this.props.visible,onOk:this.handleOk,okText:(0,v.langCheck)("10180TM-000015","pages",d),cancelText:(0,v.langCheck)("10180TM-000016","pages",d),onCancel:this.handleCancel,maskClosable:!1,fieldid:"copy"},p.default.createElement("div",{className:"copyTemplate",style:"apppage"===r?{padding:"60px 20px"}:{}},"menuitem"==r&&i.length>0&&p.default.createElement("div",{className:"templateCode"},p.default.createElement("label",{htmlFor:""},(0,v.langCheck)("10180TM-000027","pages",d)),p.default.createElement(l.default,{style:{width:"80%"},id:"templateCode",onBlur:this.checkCode,value:s,placeholder:(0,v.langCheck)("10180TM-000028","pages",d),fieldid:"templateCode",onChange:function(t){var a=t.target.value;e.props.setTemplateTitleVal(a)}}),p.default.createElement("p",{className:"areaCode-errorMsg"},n)),p.default.createElement("div",{className:"templateName"},p.default.createElement("label",{htmlFor:""},(0,v.langCheck)("10180TM-000029","pages",d)),p.default.createElement(l.default,{value:c,style:{width:"80%"},id:"templateName",onBlur:this.checkName,placeholder:(0,v.langCheck)("10180TM-000030","pages",d),fieldid:"templateName",onChange:function(t){var a=t.target.value;e.props.setTemplateNameVal(a)}}),p.default.createElement("p",{className:"areaName-errorMsg"},a))))}}]),t}(u.Component))||n;P.propTypes={templatePk:f.default.string.isRequired,pageCode:f.default.string.isRequired,appCode:f.default.string.isRequired,def1:f.default.string.isRequired,templateTitleVal:f.default.string.isRequired,templateNameVal:f.default.string.isRequired,json:f.default.object.isRequired},t.default=(0,g.connect)((function(e){return{templatePk:e.TemplateSettingData.templatePk,pageCode:e.TemplateSettingData.pageCode,appCode:e.TemplateSettingData.appCode,def1:e.TemplateSettingData.def1,templateTitleVal:e.TemplateSettingData.templateTitleVal,templateNameVal:e.TemplateSettingData.templateNameVal,treeTemPrintData:e.TemplateSettingData.treeTemPrintData}}),{setSelectedTemKeys:h.setSelectedTemKeys,setParentIdcon:h.setParentIdcon,setTemplateNameVal:h.setTemplateNameVal,setTemplatePk:h.setTemplatePk,setTemplateTitleVal:h.setTemplateTitleVal,setCopyId:h.setCopyId,setIsDefaultTem:h.setIsDefaultTem})(P)},1041:function(e,t,a){var n=a(1042);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,l);n.locals&&(e.exports=n.locals)},1042:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".copyTemplate{padding:35px 20px}.copyTemplate .ant-input{margin-bottom:20px}.copyTemplate .templateCode,.copyTemplate .templateName{position:relative}.copyTemplate .areaCode-errorMsg,.copyTemplate .areaName-errorMsg{color:#f5222d;font-size:13px;position:absolute;top:30px;left:65px}.copyTemplate .has-error{border-color:#f5222d}",""])},1053:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(21)),l=y(a(5)),o=y(a(7)),r=y(a(4)),i=y(a(6)),s=y(a(109)),c=y(a(922));a(130),a(921);var d=a(1),u=y(d),p=a(37),f=y(a(0)),g=y(a(229)),h=a(972),m=a(982),v=a(19);function y(e){return e&&e.__esModule?e:{default:e}}var b=y(a(26)).default.base.NCDiv,k=c.default.TreeNode,C=(s.default.Search,function(e){function t(e){(0,l.default)(this,t);var a=(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.onExpand=function(e){a.props.setExpandedKeys(e),a.setState({autoExpandParent:!1})},a.onChange=function(e){var t=e.target.value;a.setState({searchValue:t},(function(){a.props.onSearch(t)}))},a.handleExpanded=function(e){var t=e.map((function(e){return e.code}));a.props.setExpandedKeys(t),a.setState({autoExpandParent:!0})},a.handleSearchDel=function(){a.setState({searchValue:""},(function(){a.props.onSearch("")}))},a.handleSelect=function(e,t){if(0!==e.length){var n=void 0;t.selectedNodes.length>0&&(n=t.selectedNodes[0].props.refData);var l="mobile"===a.props.pageType?"2":"1";a.props.setPageActiveKey(l),a.props.onSelect(n,e)}},a.hanldeDoubleClick=function(e,t){var n=t.props.refData.moduleid,l=a.props.expandedKeys.concat([n]);a.props.setExpandedKeys(l)},a.state={searchValue:"",autoExpandParent:!0},a}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.state,t=e.searchValue,a=e.autoExpandParent,n=this.props.expandedKeys,l=this.props.selectedKeys,o=this.props.langJson,r=[{systypename:(0,v.langCheck)("102202APP-000144","pages",o),moduleid:"00",children:(0,h.createTree)(this.props.treeData,"moduleid","parentcode")}];return u.default.createElement(b,{className:this.props.className,fieldid:"appRegister",areaCode:b.config.TREE},u.default.createElement("div",{className:"fixed-search-input"},u.default.createElement(s.default,{placeholder:(0,v.langCheck)("102202APP-000086","pages",o),value:t,onChange:this.onChange,suffix:t.length>0?u.default.createElement("span",{className:"fixed-search-icon-group"},u.default.createElement("i",{className:"iconfont icon-qingkong",onClick:this.handleSearchDel}),u.default.createElement("i",{className:"iconfont icon-sousuo"})):u.default.createElement("span",{className:"fixed-search-icon-group"},u.default.createElement("i",{className:"iconfont icon-sousuo"})),fieldid:"search"})),u.default.createElement(b,{className:"tree-content workbench-scroll",fieldid:"appManagement",areaCode:b.config.TreeCom},u.default.createElement(c.default,{showLine:!0,showIcon:!0,onExpand:this.onExpand,expandedKeys:n,onSelect:this.handleSelect,selectedKeys:l,autoExpandParent:a,onDoubleClick:this.hanldeDoubleClick},function e(a){return a.map((function(a){var n=a.flag,l=a.moduleid,o=a.systypename,r=a.systypecode,i=void 0,s=l;if(void 0===o&&void 0===l)return null;"00"===l?i=""+o:n-0==0||n-0==1?i=l+" "+o:(s=r,i=r+" "+o);var c=i.indexOf(t),d=i.substr(0,c),p=i.substr(c+t.length),f=c>-1?u.default.createElement("span",null,d,u.default.createElement("span",{style:{color:"#f50"}},t),p):u.default.createElement("span",null,i),h="00"===l?"fieldid_"+o+"_node":"fieldid_"+s+"_node";return a.children?u.default.createElement(k,{icon:function(e){var t=e.expanded;return u.default.createElement(g.default,{width:20,height:20,xlinkHref:t?"#icon-wenjianjiadakai":"#icon-wenjianjia"})},switcherIcon:function(e){var t=e.expanded;return u.default.createElement("i",{className:"font-size-18 iconfont "+(t?"icon-shu_zk":"icon-shushouqi")})},key:l,title:f,refData:a,className:h},e(a.children)):u.default.createElement(k,{icon:u.default.createElement("span",{className:"tree-dot"}),key:l,title:f,refData:a,className:h})}))}(r))))}}]),t}(d.Component));C.propTypes={treeData:f.default.array.isRequired,expandedKeys:f.default.array.isRequired,selectedKeys:f.default.array.isRequired,setExpandedKeys:f.default.func.isRequired,setPageActiveKey:f.default.func.isRequired},t.default=(0,p.connect)((function(e){return{treeData:e.AppRegisterData.treeData,expandedKeys:e.AppRegisterData.expandedKeys,selectedKeys:e.AppRegisterData.selectedKeys,langJson:e.AppRegisterData.langJson}}),{setExpandedKeys:m.setExpandedKeys,setPageActiveKey:m.setPageActiveKey,setAppActiveKey:m.setAppActiveKey})(C)},1054:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(21)),l=m(a(5)),o=m(a(7)),r=m(a(4)),i=m(a(6)),s=a(1),c=m(s),d=a(37),u=m(a(0)),p=a(973),f=a(982),g=m(a(35)),h=a(19);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){(0,l.default)(this,t);var a=(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.getOrgTypeCodeOptionsData=function(){a.state.orgtypecode.length>0||(0,g.default)({url:"/nccloud/platform/appregister/queryorgtype.do",info:{name:(0,h.langCheck)("102202APP-000023","pages",a.props.langJson),action:(0,h.langCheck)("102202APP-000022","pages",a.props.langJson)},success:function(e){var t=e.data;if(t.success&&t.data){var n=t.data.rows;n=n.map((function(e,t){return{value:e.refpk,text:e.refname}})),a.setState({orgtypecode:n})}}})},a.state={orgtypecode:[]},a}return(0,i.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.getOrgTypeCodeOptionsData()}},{key:"render",value:function(){var e=this.props.isEdit,t=this.props.isNew,a=this.props.optype,n=this.props.langJson,l=this.props.nodeData,o=l.systypecode,r=l.moduleid,i=l.systypename,s=l.devmodule,d=l.appscope,u=l.orgtypecode,f=l.resid,g=l.supportcloseaccbook,m=l.isaccount,v=[{label:(0,h.langCheck)("102202APP-000094","pages",n),type:"string",code:"systypecode",isRequired:!0,isedit:t,initialValue:o},{label:(0,h.langCheck)("102202APP-000095","pages",n),type:"string",code:"moduleid",isRequired:!0,len:"1"===a?2:4,isedit:t,initialValue:r},{label:(0,h.langCheck)("102202APP-000096","pages",n),type:"string",code:"systypename",isRequired:!0,isedit:e,initialValue:i},{label:(0,h.langCheck)("102202APP-000097","pages",n),type:"string",code:"devmodule",isRequired:!1,isedit:e,initialValue:s},{label:(0,h.langCheck)("102202APP-000098","pages",n),type:"select",code:"appscope",isRequired:!1,initialValue:d,options:[{value:"0",text:(0,h.langCheck)("102202APP-000099","pages",n)},{value:"1",text:(0,h.langCheck)("102202APP-000100","pages",n)}],isedit:e},{label:(0,h.langCheck)("102202APP-000023","pages",n),type:"select",code:"orgtypecode",isRequired:!1,options:this.state.orgtypecode,isedit:e,initialValue:u},{label:(0,h.langCheck)("102202APP-000047","pages",n),type:"string",code:"resid",isRequired:!1,isedit:e,initialValue:f},{label:(0,h.langCheck)("102202APP-000101","pages",n),type:"checkbox",code:"supportcloseaccbook",isRequired:!1,isedit:e,initialValue:g},{label:(0,h.langCheck)("102202APP-000102","pages",n),type:"checkbox",code:"isaccount",isRequired:!1,isedit:e,initialValue:m}];return c.default.createElement(p.FormContent,{datasources:(0,p.dataDefaults)(this.props.nodeData,v,"code"),form:this.props.form,formData:v,fieldid:"module"})}}]),t}(s.Component);v.propTypes={isEdit:u.default.bool.isRequired,isNew:u.default.bool.isRequired,optype:u.default.string.isRequired,nodeData:u.default.object.isRequired,setNodeData:u.default.func.isRequired},t.default=(0,d.connect)((function(e){return{nodeData:e.AppRegisterData.nodeData,isEdit:e.AppRegisterData.isEdit,isNew:e.AppRegisterData.isNew,optype:e.AppRegisterData.optype,langJson:e.AppRegisterData.langJson}}),{setNodeData:f.setNodeData})(v)},1055:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(21)),l=g(a(5)),o=g(a(7)),r=g(a(4)),i=g(a(6)),s=a(1),c=g(s),d=a(37),u=g(a(0)),p=a(973),f=a(19);function g(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,a){return(0,l.default)(this,t),(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e,a))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.isEdit,t=this.props.langJson,a=this.props.nodeData,n=a.code,l=a.name,o=a.resid,r=a.app_desc,i=a.help_name,s=(a.image_src,[{label:(0,f.langCheck)("102202APP-000024","pages",t),type:"string",code:"code",isRequired:!0,initialValue:n,isedit:e},{label:(0,f.langCheck)("102202APP-000025","pages",t),type:"string",code:"name",isRequired:!0,initialValue:l,isedit:e},{label:(0,f.langCheck)("102202APP-000047","pages",t),type:"string",code:"resid",isRequired:!1,initialValue:o,isedit:e},{label:(0,f.langCheck)("102202APP-000049","pages",t),type:"string",code:"app_desc",isRequired:!1,initialValue:r,isedit:e},{label:(0,f.langCheck)("102202APP-000048","pages",t),type:"string",code:"help_name",initialValue:i,isRequired:!1,isedit:e}]);return c.default.createElement(p.FormContent,{form:this.props.form,formData:s,datasources:(0,p.dataDefaults)(this.props.nodeData,s,"code"),fieldid:"class"})}}]),t}(s.Component);h.propTypes={isEdit:u.default.bool.isRequired,nodeData:u.default.object.isRequired},t.default=(0,d.connect)((function(e){return{nodeData:e.AppRegisterData.nodeData,isEdit:e.AppRegisterData.isEdit,langJson:e.AppRegisterData.langJson}}),{})(h)},1056:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(77)),l=y(a(21)),o=y(a(5)),r=y(a(7)),i=y(a(4)),s=y(a(6)),c=a(1),d=y(c),u=a(37),p=y(a(0)),f=a(973),g=a(1029),h=y(a(1057)),m=y(a(35)),v=a(19);function y(e){return e&&e.__esModule?e:{default:e}}var b=y(a(26)).default.base.NCDiv,k=function(e){function t(e,a){(0,o.default)(this,t);var r=(0,i.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,a));return r.getOptionsData=function(e,t){var a=void 0,l=void 0,o=void 0;if("{}"!=(0,n.default)(t)){if("target_path"===e)a="/nccloud/platform/appregister/querypagesel.do",l={pk_appregister:t.pk_appregister},o={name:(0,v.langCheck)("102202APP-000021","pages",r.props.langJson),action:(0,v.langCheck)("102202APP-000022","pages",r.props.langJson)};else{if(r.state.orgtypecode.length>0)return;a="/nccloud/platform/appregister/queryorgtype.do",o={name:(0,v.langCheck)("102202APP-000023","pages",r.props.langJson),action:(0,v.langCheck)("102202APP-000022","pages",r.props.langJson)}}(0,m.default)({url:a,data:l,info:o,success:function(t){var a=t.data,n=a.success,l=a.data;if(n&&l)if("target_path"===e)r.setState({target_path:l});else{var o=l.rows;o=o.map((function(e,t){return{value:e.refpk,text:e.refname}})),r.setState({orgtypecode:o})}}})}},r.imgsFun=function(){var e=r.props.langJson;return[{title:(0,v.langCheck)("102202APP-000001","pages",e),iconList:g.BaoBiaoChaxunLei},{title:(0,v.langCheck)("102202APP-000005","pages",e),iconList:g.YeWuSheZhiLei},{title:(0,v.langCheck)("102202APP-000003","pages",e),iconList:g.JiChuDangAnLei},{title:(0,v.langCheck)("102202APP-000002","pages",e),iconList:g.DanJuWeiHuLei},{title:(0,v.langCheck)("102202APP-000004","pages",e),iconList:g.YeWuChuLiLei}]},r.state={orgtypecode:[],target_path:[]},r}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentWillReceiveProps",value:function(e,t){e.nodeData&&this.props.nodeData.pk_appregister!==e.nodeData.pk_appregister&&this.getOptionsData("target_path",e.nodeData)}},{key:"componentDidMount",value:function(){this.getOptionsData("orgtypecode",this.props.nodeData)}},{key:"render",value:function(){var e=this.props.isEdit,t=this.props.form.getFieldsValue(),a="1";t&&(a=t.apptype);var n=this.props.langJson,l=this.props.nodeData,o=l.code,r=l.name,i=l.orgtypecode,s=l.fun_property,c=l.funtype,u=l.apptype,p=l.width,g=l.height,m=l.mdidRef,y=l.isenable,k=l.uselicense_load,C=l.iscauserusable,P=l.iscopypage,w=l.target_path,E=l.pk_groupRef,A=l.resid,D=l.help_name,x=l.app_desc,_=l.image_src,T=[{label:(0,v.langCheck)("102202APP-000024","pages",n),type:"string",code:"code",isRequired:!0,isedit:e,initialValue:o},{label:(0,v.langCheck)("102202APP-000025","pages",n),type:"string",code:"name",isRequired:!0,isedit:e,initialValue:r},{label:(0,v.langCheck)("102202APP-000023","pages",n),type:"select",code:"orgtypecode",isRequired:!0,options:this.state.orgtypecode,isedit:e,initialValue:i},{label:(0,v.langCheck)("102202APP-000026","pages",n),type:"select",code:"fun_property",isRequired:!0,initialValue:s,options:this.props.funNatureOption||[],isedit:e},{label:(0,v.langCheck)("102202APP-000030","pages",n),type:"select",code:"funtype",isRequired:!0,initialValue:c,options:[{value:"0",text:(0,v.langCheck)("102202APP-000031","pages",n)},{value:"1",text:(0,v.langCheck)("102202APP-000032","pages",n)},{value:"2",text:(0,v.langCheck)("102202APP-000033","pages",n)},{value:"3",text:(0,v.langCheck)("102202APP-000034","pages",n)}],isedit:e},{label:(0,v.langCheck)("102202APP-000035","pages",n),type:"select",code:"apptype",isRequired:!0,initialValue:u,options:[{value:"1",text:(0,v.langCheck)("102202APP-000036","pages",n)},{value:"2",text:(0,v.langCheck)("102202APP-000037","pages",n)}],isedit:e},{label:(0,v.langCheck)("102202APP-000038","pages",n),type:"string",code:"width",isRequired:!0,initialValue:p,isedit:"1"!==a&&e},{label:(0,v.langCheck)("102202APP-000039","pages",n),type:"string",code:"height",isRequired:!0,initialValue:g,isedit:"1"!==a&&e},{label:(0,v.langCheck)("102202APP-000040","pages",n),type:"refer",code:"mdidRef",isRequired:!1,initialValue:m,options:{queryTreeUrl:"/nccloud/riart/ref/mdClassDefaultEntityRefTreeAction.do",refType:"tree",isTreelazyLoad:!1,placeholder:""},isedit:e},{label:(0,v.langCheck)("102202APP-000041","pages",n),type:"checkbox",code:"isenable",isRequired:!1,isedit:e,initialValue:y},{label:(0,v.langCheck)("102202APP-000042","pages",n),type:"checkbox",code:"uselicense_load",isRequired:!1,isedit:e,initialValue:k},{label:(0,v.langCheck)("102202APP-000043","pages",n),type:"checkbox",code:"iscauserusable",isRequired:!1,isedit:e,initialValue:C},{label:(0,v.langCheck)("102202APP-000044","pages",n),type:"checkbox",code:"iscopypage",isRequired:!1,isedit:e,initialValue:P},{label:"1"===a?(0,v.langCheck)("102202APP-000021","pages",n):(0,v.langCheck)("102202APP-000045","pages",n),type:"1"===a?"select":"string",code:"target_path",isRequired:"2"===a,options:this.state.target_path,isedit:e,initialValue:w},{label:(0,v.langCheck)("102202APP-000046","pages",n),type:"refer",code:"pk_groupRef",isRequired:!1,isedit:!1,initialValue:E},{label:(0,v.langCheck)("102202APP-000047","pages",n),type:"string",code:"resid",isRequired:!1,isedit:e,initialValue:A},{label:(0,v.langCheck)("102202APP-000048","pages",n),type:"string",code:"help_name",isRequired:!1,isedit:e,initialValue:D},{label:(0,v.langCheck)("102202APP-000049","pages",n),type:"string",code:"app_desc",isRequired:!1,initialValue:x,md:24,lg:24,xl:24,isedit:e},{label:(0,v.langCheck)("102202APP-000050","pages",n),type:"chooseImage",code:"image_src",isRequired:"1"===a,options:this.imgsFun(),hidden:"2"===a,initialValue:_,md:24,lg:24,xl:24,isedit:e}];return d.default.createElement("div",null,d.default.createElement(f.FormContent,{form:this.props.form,formData:T,datasources:(0,f.dataDefaults)(this.props.nodeData,T.filter((function(e){return!1===e.hidden})),"code"),fieldid:"app"}),d.default.createElement(b,{fieldid:"paramsRegister",areaCode:b.config.TABLE,style:{marginTop:"30px",background:"#ffffff",borderRadius:"6px"}},d.default.createElement(h.default,{appcode:o})))}}]),t}(c.Component);k.propTypes={isEdit:p.default.bool.isRequired,nodeData:p.default.object.isRequired},t.default=(0,u.connect)((function(e){return{nodeData:e.AppRegisterData.nodeData,isEdit:e.AppRegisterData.isEdit,langJson:e.AppRegisterData.langJson}}),{})(k)},1057:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l,o=_(a(110)),r=_(a(17)),i=_(a(2)),s=_(a(21)),c=_(a(5)),d=_(a(7)),u=_(a(4)),p=_(a(6)),f=_(a(232));a(231);var g=a(1),h=_(g),m=a(37),v=a(919),y=a(1058),b=_(a(0)),k=_(a(89)),C=a(982),P=_(a(35)),w=_(a(68)),E=_(a(983)),A=_(a(1007)),D=_(a(987)),x=a(19);function _(e){return e&&e.__esModule?e:{default:e}}var T=_(a(26)).default.base,N=T.NCDiv,R=T.NCButton,S=T.NCPopconfirm,M=v.high.Transfer,O=f.default.TabPane,I=function(e){return h.default.createElement("span",null,h.default.createElement("span",{style:{color:"#e14c46"}},"*"),h.default.createElement("span",null,e))},B=(n=function(e){function t(e){(0,c.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return l.call(a),e.use.form("busiForm","busiFormModal"),e.use.table("busiTable"),a.cacheData,a.paramList=[{key:"paramname",name:(0,x.langCheck)("102202APP-000060","pages",e.langJson),required:!0},{key:"paramvalue",name:(0,x.langCheck)("102202APP-000061","pages",e.langJson),required:!0}],a.state={currentBusiActivity:{},activeTabKey:"1",busiActivityList:[],busiActivityBtnDataSource:[],targetKeys:[]},(0,y.initTemplate)(e).then((function(){a.disabledBusiActivityBtns(!0)})),a}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.initBusiActivity()}},{key:"componentDidUpdate",value:function(e,t){e.appcode!==this.props.appcode&&this.initBusiActivity()}},{key:"edit",value:function(e){var t=this.getNewData();if(t.filter((function(e){return!0===e.editable})).length>0)(0,w.default)({status:"warning",msg:(0,x.langCheck)("102202APP-000051","pages",this.props.langJson)});else{this.cacheData=k.default.cloneDeep(t);var a=t.filter((function(t){return e.num===t.num}))[0];a&&(a.editable=!0,this.props.setAppParamData(t))}}},{key:"del",value:function(e){var t=this;if(e.pk_param){var a=this.getNewData();(0,P.default)({url:"/nccloud/platform/appregister/deleteparam.do",data:{pk_param:e.pk_param},info:{name:(0,x.langCheck)("102202APP-000052","pages",this.props.langJson),action:(0,x.langCheck)("102202APP-000053","pages",this.props.langJson)},success:function(n){var l=n.data.data;l&&(k.default.remove(a,(function(t){return e.pk_param===t.pk_param})),t.props.setAppParamData(a),t.cacheData=k.default.cloneDeep(a),(0,w.default)({status:"success",msg:l.msg}))}})}}},{key:"save",value:function(e){var t=this,a=this.getNewData(),n=this.paramList.filter((function(t){return t.required&&!e[t.key]||t.required&&e[t.key]&&0===e[t.key].length})),l=a.find((function(e){return"refresh_time"===e.paramname}));if(n.length>0){var o=n.map((function(e){return e.name}));(0,w.default)({status:"error",msg:""+(0,x.langCheck)("102202APP-000054","pages",this.props.langJson)+o.toString()})}else if(l&&!isNaN(l.paramvalue)&&+l.paramvalue<30)(0,w.default)({status:"error",msg:""+l.paramname+(0,x.langCheck)("102202APP-000175","pages",this.props.langJson)});else if(l&&!isNaN(l.paramvalue)&&+l.paramvalue>1440)(0,w.default)({status:"error",msg:""+l.paramname+(0,x.langCheck)("102202APP-000176","pages",this.props.langJson)});else if(l&&isNaN(l.paramvalue))(0,w.default)({status:"error",msg:""+l.paramname+(0,x.langCheck)("102202APP-000177","pages",this.props.langJson)});else{var r=void 0,s=void 0,c=void 0,d=a.filter((function(t){return e.num===t.num}))[0];d&&(d.pk_param?(r="/nccloud/platform/appregister/editparam.do",c={name:(0,x.langCheck)("102202APP-000052","pages",this.props.langJson),action:(0,x.langCheck)("102202APP-000055","pages",this.props.langJson)}):(r="/nccloud/platform/appregister/insertparam.do",c={name:(0,x.langCheck)("102202APP-000052","pages",this.props.langJson),action:(0,x.langCheck)("102202APP-000056","pages",this.props.langJson)}),s=(0,i.default)({},d),(0,P.default)({url:r,info:c,data:s,success:function(e){var n=e.data.data;n&&(delete d.editable,s.pk_param?(a=a.map((function(e){return n.pk_param===e.pk_param?(0,i.default)({item:e},n):e})),t.props.setAppParamData(a)):(a[a.length-1]=n,t.props.setAppParamData(a)),t.cacheData=k.default.cloneDeep(a),(0,w.default)({status:"success",msg:n.msg}))}}))}}},{key:"cancel",value:function(e){var t=this.getNewData().filter((function(t){return e.num===t.num}))[0];t&&(delete t.editable,this.props.setAppParamData(this.cacheData))}},{key:"add",value:function(){if(this.props.isNew)(0,w.default)({status:"warning",msg:(0,x.langCheck)("102202APP-000057","pages",this.props.langJson)});else{var e=this.getNewData();e.filter((function(e){return!0===e.editable})).length>0?(0,w.default)({status:"warning",msg:(0,x.langCheck)("102202APP-000058","pages",this.props.langJson)}):(this.cacheData=k.default.cloneDeep(e),e.push({editable:!0,paramname:"",paramvalue:"",parentid:this.props.nodeInfo.id}),this.props.setAppParamData(e))}}},{key:"getNewData",value:function(){var e=this.props.appParamVOs;return k.default.cloneDeep(e)}},{key:"render",value:function(){var e=this,t=this.props.appParamVOs,a=t.find((function(e){return e.editable})),n=this.props.langJson,l=this.props.modal.createModal,o=[{title:(0,x.langCheck)("102202APP-000059","pages",n),dataIndex:"num",fieldid:"numberindex",width:50},{title:a?I((0,x.langCheck)("102202APP-000060","pages",n)):(0,x.langCheck)("102202APP-000060","pages",n),dataIndex:"paramname",width:300,render:function(t,a,n){return h.default.createElement(A.default,{type:"string",value:t,editable:a.editable,cellIndex:n,cellKey:"paramname",cellRequired:!0,cellChange:e.handleCellChange,cellCheck:e.handleCellCheck})}},{title:a?I((0,x.langCheck)("102202APP-000061","pages",n)):(0,x.langCheck)("102202APP-000061","pages",n),width:300,dataIndex:"paramvalue",render:function(t,a,l){var o="refresh_time"===a.paramname?(0,x.langCheck)("102202APP-000174","pages",n):"";return h.default.createElement(A.default,{type:"string",value:t,editable:a.editable,cellIndex:l,cellKey:"paramvalue",cellRequired:!0,cellChange:e.handleCellChange,cellCheck:e.handleCellCheck,suffix:o})}},{title:(0,x.langCheck)("102202APP-000062","pages",n),dataIndex:"opr",render:function(t,a){var l=a.editable;return h.default.createElement("div",{className:"editable-row-operations"},l?h.default.createElement("span",null,h.default.createElement("a",{className:"margin-right-15",onClick:function(){return e.save(a)}},(0,x.langCheck)("102202APP-000069","pages",n)),h.default.createElement(S,{content:(0,x.langCheck)("102202APP-000063","pages",n),placement:"top",onClose:function(){return e.cancel(a)}},h.default.createElement("a",{className:"margin-right-5"},(0,x.langCheck)("102202APP-000064","pages",n)))):h.default.createElement("span",null,h.default.createElement("a",{className:"margin-right-15",onClick:function(){return e.edit(a)}},(0,x.langCheck)("102202APP-000055","pages",n)),h.default.createElement(S,{content:(0,x.langCheck)("102202APP-000066","pages",n),placement:"top",onClose:function(){return e.del(a)}},h.default.createElement("a",{className:"margin-right-15"},(0,x.langCheck)("102202APP-000053","pages",n)))))}}];return h.default.createElement(f.default,{activeKey:this.state.activeTabKey,tabBarExtraContent:this.renderTabButtons(),onChange:function(t){return e.setState({activeTabKey:t})},renderTabBar:function(e,t){return h.default.createElement(N,{areaCode:N.config.TABS}," ",h.default.createElement(t,e))}},h.default.createElement(O,{tab:(0,x.langCheck)("102202APP-000164","pages",n),key:"1"},this.renderBusinessActivity(),l("busiActivityModal",{content:this.renderBusiActivityModalContent(),leftBtnName:(0,x.langCheck)("102202APP-000065","pages",n),rightBtnName:(0,x.langCheck)("102202APP-000064","pages",n),userControl:!0,beSureBtnClick:this.handleSaveBusiActivity,cancelBtnClick:this.closeBusiActivityModal})),h.default.createElement(O,{tab:(0,x.langCheck)("102202APP-000067","pages",n),key:"2"},h.default.createElement(D.default,{className:"param-table",bordered:!0,locale:{emptyText:h.default.createElement(E.default,{type:"treeCardTable"})},pagination:!1,rowKey:"num",dataSource:t.map((function(e,t){return e.num=t+1,e})),columns:o,size:"middle",fieldid:"paramsRegister"})))}}]),t}(g.Component),l=function(){var e=this;this.handleCellChange=function(t,a,n){var l=e.getNewData();l[a][t]=n,e.props.setAppParamData(l)},this.handleCellCheck=function(t,a,n){var l=e.getNewData();return n||0!==n.length?"paramvalue"==t?"refresh_time"===l[a].paramname&&!isNaN(n)&&+n>86400?{hasError:!0,cellErrorMsg:(0,x.langCheck)("102202APP-000176","pages",e.props.langJson)}:"refresh_time"===l[a].paramname&&!isNaN(n)&&+n<30?{hasError:!0,cellErrorMsg:(0,x.langCheck)("102202APP-000175","pages",e.props.langJson)}:isNaN(n)?{hasError:!0,cellErrorMsg:(0,x.langCheck)("102202APP-000177","pages",e.props.langJson)}:{hasError:!1,cellErrorMsg:null}:(l[a].hasError=!1,e.props.setAppParamData(l),{hasError:!1,cellErrorMsg:null}):(l[a].hasError=!0,e.props.setAppParamData(l),{hasError:!0,cellErrorMsg:(0,x.langCheck)("0000PUB-000003")})},this.creatAddLineBtn=function(){return h.default.createElement("div",null,h.default.createElement(R,{onClick:function(){return e.add()},style:{marginLeft:"8px"},fieldid:"addRow"},(0,x.langCheck)("102202APP-000068","pages",e.props.langJson)))},this.handleTableSelectChange=function(t,a,n,l){e.disabledBusiActivityBtns(0==n)},this.setCurrentBusiActivity=function(t){t&&(e.setState({currentBusiActivity:t}),e.getBusiActivityDetailData(t.pk_busiactive),e.disabledBusiActivityBtns(!0))},this.getBusiActivityDetailData=function(t){e.queryBusiActivityByPk(t).then((function(t){e.setBusiActivityFormData("busiForm",t)})),e.queryBusiActivityRelationBtns(t).then((function(t){var a=e.formatTableData(t);e.props.table.setAllTableData("busiTable",a)}))},this.handleShowBusiActivity=function(t,a){var n={add:(0,x.langCheck)("102202APP-000056","pages",e.props.langJson),edit:(0,x.langCheck)("102202APP-000093","pages",e.props.langJson)},l=a?a.pk_busiactive:void 0;e.setState({busiActivityBtnDataSource:[],targetKeys:[]}),e.props.modal.show("busiActivityModal",{title:n[t]+"业务活动"}),setTimeout((function(){e.props.form.EmptyAllFormValue("busiFormModal"),e.props.form.setFormItemsValue("busiFormModal",{parent_id:{value:e.props.nodeData.pk_appregister}}),e.props.form.setFormStatus("busiFormModal","edit")}),0),e.getTransferData(l),"edit"===t&&e.queryBusiActivityByPk(l).then((function(t){e.setBusiActivityFormData("busiFormModal",t)}))},this.getTransferData=function(t){e.queryTransferLeftData(t).then((function(a){e.queryBusiActivityRelationBtns(t).then((function(t){var n=[].concat((0,r.default)(a));t.forEach((function(e){n.find((function(t){return t.btncode===e.btncode}))||n.push(e)}));var l=n.map((function(e){return{key:e.btncode,title:(e.btnname||"")+"("+e.btncode+")"}})),o=t.map((function(e){return e.btncode}));e.setState({busiActivityBtnDataSource:l,targetKeys:o})}))}))},this.setBusiActivityFormData=function(t,a){e.props.form.setFormItemsValue(t,{pk_busiactive:{value:a.pk_busiactive},parent_id:{value:e.props.nodeData.pk_appregister},code:{value:a.code},name:{value:a.name},description:{value:a.description},resid:{value:a.resid}})},this.handleDeleteBusiActivity=function(t){return function(a){a.stopPropagation(),e.queryBusiActivityRelationBtns(t).then((function(a){a.length>0?(0,w.default)({status:"danger",msg:(0,x.langCheck)("102202APP-000172","pages",e.props.langJson)}):(0,v.promptBox)({color:"danger",title:(0,x.langCheck)("102202APP-000053","pages",e.props.langJson),content:(0,x.langCheck)("102202APP-000066","pages",e.props.langJson),beSureBtnClick:e.deleteBusiActivity.bind(e,t)})}))}},this.handleTabButtonClick=function(t,a,n){switch(a){case"add":e.handleShowBusiActivity("add");break;case"delete":(0,v.promptBox)({color:"danger",title:(0,x.langCheck)("102202APP-000053","pages",e.props.langJson),content:(0,x.langCheck)("102202APP-000066","pages",e.props.langJson),beSureBtnClick:function(){var a=t.table.getCheckedRows(n),l=a.map((function(t){return{btncode:t.data.values.btncode.value,pk_busiactive:e.state.currentBusiActivity.pk_busiactive}}));e.deleteBusiActivityBtns(l).then((function(){var l=a.map((function(e){return e.index}));t.table.deleteTableRowsByIndex(n,l),e.disabledBusiActivityBtns(!0)}))}})}},this.disabledBusiActivityBtns=function(t){e.props.button.setButtonDisabled(["delete"],t)},this.initBusiActivity=function(){e.queryBusiActivity().then((function(t){e.setState({activeTabKey:"1"}),t.length>0&&e.setCurrentBusiActivity(t[0])}))},this.queryBusiActivity=function(){return new o.default((function(t){(0,P.default)({url:"/nccloud/platform/appregister/querybusiactive.do",data:{appId:e.props.nodeData.pk_appregister},info:{name:(0,x.langCheck)("102202APP-000164","pages",e.props.langJson),action:(0,x.langCheck)("102202APP-000022","pages",e.props.langJson)},success:function(a){var n=a.data.data;n&&(e.setState({busiActivityList:n}),t(n))}})}))},this.deleteBusiActivity=function(t){var a=e.state,n=a.busiActivityList,l=a.currentBusiActivity,o=n.findIndex((function(e){return e.pk_busiactive===l.pk_busiactive}));(0,P.default)({url:"/nccloud/platform/appregister/deletebusiactive.do",data:{pk_busiactive:t,appId:e.props.nodeData.pk_appregister},info:{name:(0,x.langCheck)("102202APP-000164","pages",e.props.langJson),action:(0,x.langCheck)("102202APP-000053","pages",e.props.langJson)},success:function(t){t.data.data&&e.queryBusiActivity().then((function(t){var a=t[o]||t[t.length-1];e.setCurrentBusiActivity(a)}))}})},this.deleteBusiActivityBtns=function(t){return new o.default((function(a){(0,P.default)({url:"/nccloud/platform/appregister/deletebusiactiverelation.do",data:{relationvos:t},info:{name:(0,x.langCheck)("102202APP-000164","pages",e.props.langJson),action:(0,x.langCheck)("102202APP-000168","pages",e.props.langJson)},success:function(e){var t=e.data.data;t&&a(t)}})}))},this.queryTransferLeftData=function(t){return new o.default((function(a){(0,P.default)({url:"/nccloud/platform/appregister/querybusiactiverelationleft.do",data:{pk_busiactive:t,appId:e.props.nodeData.pk_appregister},info:{name:(0,x.langCheck)("102202APP-000164","pages",e.props.langJson),action:(0,x.langCheck)("102202APP-000161","pages",e.props.langJson)},success:function(e){var t=e.data.data;t&&a(t)}})}))},this.queryBusiActivityRelationBtns=function(t){return new o.default((function(a){(0,P.default)({url:"/nccloud/platform/appregister/querybusiactiverelation.do",data:{pk_busiactive:t,appId:e.props.nodeData.pk_appregister},info:{name:(0,x.langCheck)("102202APP-000164","pages",e.props.langJson),action:(0,x.langCheck)("102202APP-000165","pages",e.props.langJson)},success:function(e){var t=e.data.data;t&&a(t)}})}))},this.queryBusiActivityByPk=function(t){return new o.default((function(a){(0,P.default)({url:"/nccloud/platform/appregister/querybusiactiveinfo.do",data:{pk_busiactive:t},info:{name:(0,x.langCheck)("102202APP-000164","pages",e.props.langJson),action:(0,x.langCheck)("102202APP-000166","pages",e.props.langJson)},success:function(e){var t=e.data.data;t&&a(t)}})}))},this.handleSaveBusiActivity=function(){var t=e.props.form,a=t.getAllFormValue,n=t.isCheckNow,l=a("busiFormModal"),o=e.formatFormTableData(l);n("busiFormModal")&&e.saveBusiActivityAction(o).then((function(t){var a=e.state.targetKeys.map((function(e){return{btncode:e,pk_busiactive:t.pk_busiactive}}));e.saveBusiActivityBtnAction({relationvos:a,pk_busiactive:t.pk_busiactive}).then((function(){e.closeBusiActivityModal(),e.queryBusiActivity(),o.pk_busiactive?e.getBusiActivityDetailData(o.pk_busiactive):e.setCurrentBusiActivity(t)}))}))},this.saveBusiActivityAction=function(t){return new o.default((function(a){(0,P.default)({url:"/nccloud/platform/appregister/savebusiactive.do",data:t,info:{name:(0,x.langCheck)("102202APP-000164","pages",e.props.langJson),action:(0,x.langCheck)("102202APP-000069","pages",e.props.langJson)},success:function(e){var t=e.data.data;t&&a(t)}})}))},this.saveBusiActivityBtnAction=function(t){return new o.default((function(a){(0,P.default)({url:"/nccloud/platform/appregister/savebusiactiverelation.do",data:t,info:{name:(0,x.langCheck)("102202APP-000164","pages",e.props.langJson),action:(0,x.langCheck)("102202APP-000167","pages",e.props.langJson)},success:function(e){var t=e.data.data;a(t)}})}))},this.formatFormTableData=function(e){var t={},a=e.rows&&e.rows[0]&&e.rows[0].values;if(a)for(var n in a)a[n].value&&(t[n]=a[n].value);return t},this.formatTableData=function(e){var t={rows:[]};return e&&e.forEach((function(e){var a={};for(var n in e)a[n]={value:e[n]};t.rows.push({values:a})})),t},this.closeBusiActivityModal=function(){e.props.modal.close("busiActivityModal")},this.onTargetKeysChange=function(t){e.setState({targetKeys:t})},this.renderBusinessActivity=function(){var t=e.state,a=t.currentBusiActivity,n=t.busiActivityList,l=e.props,o=l.form,r=l.table,i=o.createForm,s=r.createSimpleTable;return 0===n.length?h.default.createElement("div",{className:"busi-active-container"},h.default.createElement("div",{className:"empty-content"},(0,x.langCheck)("102202APP-000162","pages",e.props.langJson))):h.default.createElement(h.default.Fragment,null,h.default.createElement("div",{className:"busi-active-container"},h.default.createElement("div",{className:"left-list"},h.default.createElement("div",{className:"list-header"},(0,x.langCheck)("102202APP-000163","pages",e.props.langJson)),h.default.createElement("ul",{className:"list-content"},n&&n.map((function(t){return h.default.createElement("li",{key:t.pk_busiactive,className:"item "+(a.pk_busiactive===t.pk_busiactive?"active":""),onClick:e.setCurrentBusiActivity.bind(e,t)},h.default.createElement("span",{className:"title"},t.name),h.default.createElement("span",{className:"opr"},h.default.createElement("i",{class:"iconfont icon-bianji-copy",onClick:e.handleShowBusiActivity.bind(e,"edit",t)}),h.default.createElement("i",{class:"iconfont icon-shanchu-copy",onClick:e.handleDeleteBusiActivity(t.pk_busiactive)})))})))),h.default.createElement("div",{className:"busi-active-content"},i("busiForm"),s("busiTable",{showIndex:!0,showCheck:!0,selectedChange:e.handleTableSelectChange}))))},this.renderBusiActivityModalContent=function(){var t=e.props.form.createForm;return h.default.createElement("div",{className:"busi_active_modal"},t("busiFormModal"),h.default.createElement(M,{showSearch:!0,dataSource:e.state.busiActivityBtnDataSource,targetKeys:e.state.targetKeys,titles:[(0,x.langCheck)("102202APP-000169","pages",e.props.langJson),(0,x.langCheck)("102202APP-000170","pages",e.props.langJson)],notFoundContent:(0,x.langCheck)("102202APP-000162","pages",e.props.langJson),searchPlaceholder:(0,x.langCheck)("102202APP-000171","pages",e.props.langJson)+"...",lazy:{container:"modal"},onTargetKeysChange:e.onTargetKeysChange}))},this.renderBodyBtn=function(t){return(0,e.props.button.createButtonApp)({area:t,onButtonClick:function(t,a){return e.handleTabButtonClick(t,a,"busiTable")}})},this.renderTabButtons=function(){switch(e.state.activeTabKey){case"1":return e.renderBodyBtn("app_body");case"2":return e.creatAddLineBtn()}}},n);B.propTypes={isNew:b.default.bool.isRequired,nodeData:b.default.object.isRequired,nodeInfo:b.default.object.isRequired,appParamVOs:b.default.array.isRequired,setAppParamData:b.default.func.isRequired},B=(0,v.createPage)({})(B),t.default=(0,m.connect)((function(e){return{isNew:e.AppRegisterData.isNew,nodeInfo:e.AppRegisterData.nodeInfo,nodeData:e.AppRegisterData.nodeData,appParamVOs:e.AppRegisterData.appParamVOs,langJson:e.AppRegisterData.langJson}}),{setAppParamData:C.setAppParamData})(B)},1058:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var n,l=a(1059),o=(n=l)&&n.__esModule?n:{default:n};t.initTemplate=o.default},1059:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(110));t.default=function(e){return n.default.all([r(e),i(e)])};var l=o(a(35));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return new n.default((function(t){(0,l.default)({url:"/nccloud/platform/templet/querypage.do",data:{appcode:"102202APP",pagecode:"102202APP_PAGE"},success:function(a){var n=a.data.data;n&&(e.meta.setMeta(n),t())}})}))}function i(e){return new n.default((function(t){(0,l.default)({url:"/nccloud/platform/appregister/queryallbtns.do",data:{appcode:"102202APP",pagecode:"102202APP_PAGE"},success:function(a){var n=a.data.data;n&&(e.button.setButtons(n),t())}})}))}},1060:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(21)),l=m(a(5)),o=m(a(7)),r=m(a(4)),i=m(a(6)),s=a(1),c=m(s),d=a(37),u=m(a(0)),p=a(973),f=a(982),g=m(a(1061)),h=a(19);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){(0,l.default)(this,t);var a=(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={},a}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.isEdit,t=this.props.langJson,a=this.props.nodeData,n=a.pagecode,l=a.pagename,o=a.pageurl,r=a.isdefault,i=a.iscarddefault,s=a.resid,d=a.pagedesc,u=[{label:(0,h.langCheck)("102202APP-000103","pages",t),type:"string",code:"pagecode",isRequired:!0,initialValue:n,isedit:e,md:24,lg:12,xl:12},{label:(0,h.langCheck)("102202APP-000104","pages",t),type:"string",code:"pagename",isRequired:!0,initialValue:l,isedit:e,md:24,lg:12,xl:12},{label:(0,h.langCheck)("102202APP-000105","pages",t),type:"string",code:"pageurl",isRequired:!0,initialValue:o,isedit:e,md:24,lg:12,xl:12},{label:(0,h.langCheck)("102202APP-000047","pages",t),type:"string",code:"resid",isRequired:!1,initialValue:s,isedit:e,md:24,lg:12,xl:12},{label:(0,h.langCheck)("102202APP-000021","pages",t),type:"checkbox",code:"isdefault",isRequired:!0,initialValue:r,isedit:e,md:24,lg:12,xl:12},{label:(0,h.langCheck)("102202APP-000106","pages",t),type:"checkbox",code:"iscarddefault",isRequired:!1,initialValue:i,isedit:e,md:24,lg:12,xl:12},{label:(0,h.langCheck)("102202APP-000107","pages",t),type:"string",code:"pagedesc",isRequired:!1,initialValue:d,isedit:e,md:24,lg:24,xl:24}];return c.default.createElement("div",null,c.default.createElement(p.FormContent,{form:this.props.form,formData:u,datasources:(0,p.dataDefaults)(this.props.nodeData,u,"code"),fieldid:"page"}),c.default.createElement("div",{style:{marginTop:"30px",background:"#ffffff",borderRadius:"6px"}},c.default.createElement(g.default,this.props)))}}]),t}(s.Component);v.propTypes={isEdit:u.default.bool.isRequired,nodeData:u.default.object.isRequired,setNodeData:u.default.func.isRequired},t.default=(0,d.connect)((function(e){return{nodeData:e.AppRegisterData.nodeData,isEdit:e.AppRegisterData.isEdit,langJson:e.AppRegisterData.langJson}}),{setNodeData:f.setNodeData})(v)},1061:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=N(a(109)),l=N(a(2)),o=N(a(21)),r=N(a(5)),i=N(a(7)),s=N(a(4)),c=N(a(6)),d=N(a(232));a(130),a(231);var u=a(1),p=N(u),f=a(37),g=N(a(0)),h=a(114),m=N(a(1009)),v=N(a(937)),y=N(a(89)),b=a(982),k=N(a(1007)),C=N(a(987)),P=N(a(983)),w=N(a(364)),E=N(a(35)),A=N(a(68)),D=N(a(984)),x=a(113),_=a(19),T=(a(32),N(a(26)));function N(e){return e&&e.__esModule?e:{default:e}}var R=T.default.metaCache,S=R.getMetaCache,M=R.removeMetaCache,O=T.default.base,I=O.NCDiv,B=O.NCButton,q=O.NCSwitch,K=O.NCPopconfirm,j=d.default.TabPane,V=function(e){return p.default.createElement("span",null,p.default.createElement("span",{style:{color:"#e14c46"}},"*"),p.default.createElement("span",null,e))},J=function(e){function t(e){(0,r.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.showModal=function(e){a.setState({batchSettingModalVisibel:!0,templetid:e.pk_page_templet,previewDada:{pagecode:e.pagecode,appcode:e.appcode,templetid:e.pk_page_templet}})},a.setModalVisibel=function(e){a.setState({batchSettingModalVisibel:e})},a.jumpPage=function(e){(0,x.openPage)("/ZoneSetting",!1,{n:(0,_.langCheck)("102202APP-000116","pages",a.props.langJson),templetid:e.pk_page_templet,pcode:e.pagecode,pid:e.pageid,appcode:e.appcode,templettype:a.props.pageType})},a.setDefault=function(e){(0,E.default)({url:"/nccloud/platform/templet/setdefaulttemplet.do",info:{name:(0,_.langCheck)("102202APP-000074","pages",a.props.langJson),action:(0,_.langCheck)("102202APP-000117","pages",a.props.langJson)},data:{appcode:e.appcode,pagecode:e.pagecode,templetid:e.pk_page_templet},success:function(t){var n=t.data.data;if(n){var l=a.props.pageTemplets.map((function(t){return t.isdefault=!1,t.pk_page_templet===e.pk_page_templet&&(t.isdefault=!0),t}));a.props.setPageTemplateData(l),(0,A.default)({status:"success",msg:n.msg})}}})},a.moveRow=function(e,t){var n=a.props.appButtonVOs;if(!n.find((function(e){return!0===e.editable}))){var l=n[e],o=(0,v.default)(n,{$splice:[[e,1],[t,0,l]]});o.map((function(e,t){return e.btnorder=t})),a.btnSortAction(o)}},a.tableHandleMoveRow=function(e,t){return{index:t,moveRow:a.moveRow}},a.btnSortAction=function(e){(0,E.default)({url:"/nccloud/platform/appregister/orderbuttons.do",info:{name:(0,_.langCheck)("102202APP-000118","pages",a.props.langJson),action:(0,_.langCheck)("102202APP-000119","pages",a.props.langJson)},data:e,success:function(t){var n=t.data;n.success&&n.data?a.props.setPageButtonData(e):(0,A.default)({status:"error",msg:n.data.true})}})},a.handleBtnCheck=function(e,t,n){var l=a.getNewData();return 0===(n=n||"").length?(l[t].hasError=!0,a.setNewData(l),{hasError:!0}):"btncode"===e&&l.filter((function(t){return t[e]===n})).length>1?(l[t].hasError=!0,a.setNewData(l),{hasError:!0,cellErrorMsg:(0,_.langCheck)("102202APP-000120","pages",a.props.langJson)}):(l[t].hasError=!1,a.setNewData(l),{hasError:!1})},a.handleBtnCellChange=function(e,t,n){var l=a.getNewData();l[t][e]=n,a.setNewData(l)},a.handleChange=function(e,t,n){var l=a.getNewData(),o=l.filter((function(e){return t.num===e.num}))[0];o&&(o[n]=e,a.setNewData(l))},a.edit=function(e){var t=a.getNewData();if(t.filter((function(e){return!0===e.editable})).length>0)(0,A.default)({status:"warning",msg:(0,_.langCheck)("102202APP-000051","pages",a.props.langJson)});else{a.cacheData=y.default.cloneDeep(t);var n=t.filter((function(t){return e.num===t.num}))[0];n&&(n.editable=!0,a.setNewData(t))}},a.del=function(e){if(e.pk_btn||e.pk_page_templet){var t=void 0,n=void 0,l=void 0,o=a.props.pageActiveKey,r=a.getNewData();"1"===o?(t="/nccloud/platform/appregister/deletebutton.do",n={pk_btn:e.pk_btn},l={name:(0,_.langCheck)("102202APP-000118","pages",a.props.langJson),action:(0,_.langCheck)("102202APP-000053","pages",a.props.langJson)}):"2"===o&&(t="/nccloud/platform/template/deleteTemplateDetail.do",n={templateId:e.pk_page_templet},l={name:(0,_.langCheck)("102202APP-000121","pages",a.props.langJson),action:(0,_.langCheck)("102202APP-000053","pages",a.props.langJson)}),(0,E.default)({url:t,info:l,data:n,success:function(t){var n=t.data;n.success&&n.data?(e.pk_btn?(y.default.remove(r,(function(t){return e.pk_btn===t.pk_btn})),r.map((function(e,t){return e.btnorder=t,e})),a.btnSortAction(r)):e.pk_page_templet&&y.default.remove(r,(function(t){return e.pk_page_templet===t.pk_page_templet})),a.setNewData(r),a.cacheData=y.default.cloneDeep(r),(0,A.default)({status:"success"})):(0,A.default)({status:"error",msg:n.data.true})}})}},a.save=function(e){var t=a.props.pageActiveKey,n=a.getNewData();if("1"===t){var o=a.btnListCell.filter((function(t){return t.required&&!e[t.key]||t.required&&e[t.key]&&0===e[t.key].length}));if(o.length>0){var r=o.map((function(e){return e.name}));return void(0,A.default)({status:"error",msg:""+(0,_.langCheck)("102202APP-000054","pages",a.props.langJson)+r.toString()})}if(n.filter((function(t){return e.btncode===t.btncode})).length>1)return void(0,A.default)({status:"error",msg:(0,_.langCheck)("102202APP-000122","pages",a.props.langJson)})}else{if(n.filter((function(t){return e.code===t.code})).length>1)return void(0,A.default)({status:"error",msg:(0,_.langCheck)("102202APP-000123","pages",a.props.langJson)})}var i=void 0,s=void 0,c=void 0,d=n.filter((function(t){return e.btnorder===t.btnorder}))[0];d&&(d.pk_btn||d.pk_page_templet?"1"===t?(i="/nccloud/platform/appregister/editbutton.do",c={name:(0,_.langCheck)("102202APP-000118","pages",a.props.langJson),action:(0,_.langCheck)("102202APP-000055","pages",a.props.langJson)}):"2"===t&&(i="/nccloud/platform/templet/edittemplet.do",c={name:(0,_.langCheck)("102202APP-000121","pages",a.props.langJson),action:(0,_.langCheck)("102202APP-000055","pages",a.props.langJson)}):"1"===t?(i="/nccloud/platform/appregister/insertbutton.do",c={name:(0,_.langCheck)("102202APP-000118","pages",a.props.langJson),action:(0,_.langCheck)("102202APP-000056","pages",a.props.langJson)}):"2"===t&&(i="/nccloud/platform/templet/addtemplet.do",c={name:(0,_.langCheck)("102202APP-000121","pages",a.props.langJson),action:(0,_.langCheck)("102202APP-000056","pages",a.props.langJson)}),s=(0,l.default)({},d),(0,E.default)({url:i,info:c,data:s,success:function(e){var t=e.data.data;if(t){delete d.editable,s.pk_btn||s.pk_page_templet?(n=n.map((function(e,a){return e.pk_btn&&t.pk_btn===e.pk_btn||s.pk_page_templet&&s.pk_page_templet===e.pk_page_templet?(0,l.default)({},e,t):e})),a.setNewData(n)):(n[n.length-1]=t,a.setNewData(n)),a.cacheData=y.default.cloneDeep(n),(0,A.default)({status:"success"});var o=a.props.nodeData;o&&o.parentcode&&t.pagecode&&S(o.parentcode,t.pagecode)&&M(o.parentcode,t.pagecode)}else(0,A.default)({status:"error",msg:t.data.true})}}))},a.cancel=function(e){var t=a.getNewData().filter((function(t){return e.num===t.num}))[0];t&&(delete t.editable,a.setNewData(a.cacheData))},a.add=function(){if(a.props.isNew||a.props.isEdit)(0,A.default)({status:"warning",msg:(0,_.langCheck)("102202APP-000124","pages",a.props.langJson)});else{var e=a.getNewData();if(e.filter((function(e){return!0===e.editable})).length>0)(0,A.default)({status:"warning",msg:(0,_.langCheck)("102202APP-000058","pages",a.props.langJson)});else{a.cacheData=y.default.cloneDeep(e);var t=a.props.pageActiveKey,n=a.props.nodeInfo,l=n.parentId,o=n.id,r=n.code,i=a.props.nodeData.parentcode;"1"===t?(e.push({editable:!0,btntype:"general_btn",btncolor:"button_secondary",btncode:"",btnname:"",parent_code:"",btnarea:"",iskeyfunc:!1,btndesc:"",keyboard:"",appid:l,isenable:!0,pagecode:r,btnorder:e.length,pageareacode:""}),a.setNewData(e)):"2"===t&&(0,x.openPage)("/ZoneSetting",!1,{n:(0,_.langCheck)("102202APP-000116","pages",a.props.langJson),pcode:r,pid:o,appcode:i,templettype:a.props.pageType})}}},a.addAttachment=function(){var e=a.props.nodeData,t=e.parentcode,n=e.pagecode;(0,E.default)({url:"/nccloud/platform/appregister/addfile.do",data:{appcode:t,pagecode:n},success:function(e){e.data.data}})},a.addReport=function(){var e=a.props.nodeData,t=e.parentcode,n=e.pagecode;(0,E.default)({url:"/nccloud/platform/appregister/addreport.do",data:{appcode:t,pagecode:n},success:function(e){e.data.data}})},a.handleOk=function(e){var t=a.state.templateCode;if(""!==t){var n=a.props.nodeInfo,l=n.id,o=n.code,r=a.props.nodeData.parentcode;(0,E.default)({url:"/nccloud/platform/templet/addpagetemplate.do",info:{name:(0,_.langCheck)("102202APP-000074","pages",a.props.langJson),action:(0,_.langCheck)("102202APP-000126","pages",a.props.langJson)},data:{appcode:r,pageid:l,code:t,pagecode:o},success:function(e){var t=e.data,n=t.success,o=t.data;n&&o?((0,A.default)({status:"success",msg:(0,_.langCheck)("102202APP-000127","pages",a.props.langJson)}),a.setState({templateCode:"",visible:!1},(function(){a.getPageData(l)}))):(0,A.default)({status:"error",msg:(0,_.langCheck)("102202APP-000128","pages",a.props.langJson)})}})}else(0,A.default)({status:"warning",msg:(0,_.langCheck)("102202APP-000125","pages",a.props.langJson)})},a.handleCancel=function(e){a.setState({visible:!1,templateCode:""})},a.handleTemplateCodeChange=function(e){a.setState({templateCode:e.target.value})},a.getPageData=function(e){(0,E.default)({url:"/nccloud/platform/appregister/querypagedetail.do",info:{name:(0,_.langCheck)("102202APP-000072","pages",a.props.langJson),action:(0,_.langCheck)("102202APP-000022","pages",a.props.langJson)},data:{pk_apppage:e},success:function(e){var t=e.data;if(t.success&&t.data){var n=t.data,l=n.apppageVO,o=n.appButtonVOs,r=n.pageTemplets;a.props.setPageButtonData(o),a.props.setPageTemplateData(r),a.props.setNodeData(l)}}})},a.creatAddLineBtn=function(){var e=a.props.pageActiveKey;return p.default.createElement("div",{className:"table-info-group"},"1"===e?p.default.createElement("span",{className:"info"},p.default.createElement("i",{className:"iconfont icon-tixing"}),(0,_.langCheck)("102202APP-000142","pages",a.props.langJson)):null,p.default.createElement(B,{onClick:function(){return a.add()},style:{marginLeft:"8px"},fieldid:"addRow"},(0,_.langCheck)("102202APP-000068","pages",a.props.langJson)),"1"===e&&p.default.createElement(p.default.Fragment,null,p.default.createElement(K,{content:"确定新增？",placement:"top",onClose:a.addAttachment},p.default.createElement(B,{style:{marginLeft:"8px"},fieldid:"addAttachment"},"新增附件按钮")),p.default.createElement(K,{content:"确定新增？",placement:"top",onClose:a.addReport},p.default.createElement(B,{style:{marginLeft:"8px"},fieldid:"addReport"},"新增报表按钮"))))},a.dataFun=function(){var e=a.props.langJson;return{BTNTYPEOPTIONS:[{value:"general_btn",text:(0,_.langCheck)("102202APP-000150","pages",e)},{value:"buttongroup",text:(0,_.langCheck)("102202APP-000110","pages",e)},{value:"dropdown",text:(0,_.langCheck)("102202APP-000111","pages",e)},{value:"divider",text:(0,_.langCheck)("102202APP-000112","pages",e)},{value:"more",text:(0,_.langCheck)("102202APP-000113","pages",e)}],BTNCOLOROPTIONS:[{value:"button_main",text:(0,_.langCheck)("102202APP-000108","pages",e)},{value:"button_secondary",text:(0,_.langCheck)("102202APP-000109","pages",e)}]}},a.onSelectChange=function(e,t){a.setState({selectedRowKeys:e,selectedRows:t})},a.state={batchSettingModalVisibel:!1,templetid:"",visible:!1,templateCode:"",selectedRowKeys:[],selectedRows:null,previewDada:{}},a.btnListCell=[{key:"btncode",name:(0,_.langCheck)("102202APP-000129","pages",e.langJson),required:!0},{key:"btnname",name:(0,_.langCheck)("102202APP-000130","pages",e.langJson),required:!1},{key:"parent_code",name:(0,_.langCheck)("102202APP-000132","pages",e.langJson),required:!1},{key:"btntype",name:(0,_.langCheck)("102202APP-000131","pages",e.langJson),required:!0},{key:"btnarea",name:(0,_.langCheck)("102202APP-000133","pages",e.langJson),required:!0},{key:"iskeyfunc",name:(0,_.langCheck)("102202APP-000134","pages",e.langJson),required:!1},{key:"keyboard",name:(0,_.langCheck)("102202APP-000149","pages",e.langJson),required:!1},{key:"pageareacode",name:(0,_.langCheck)("102202APP-000152","pages",e.langJson),required:!1},{key:"btndesc",name:(0,_.langCheck)("102202APP-000135","pages",e.langJson),required:!1}],a.columnsSt=[{title:(0,_.langCheck)("102202APP-000059","pages",e.langJson),dataIndex:"num",fieldid:"numberindex",width:50},{title:(0,_.langCheck)("102202APP-000114","pages",e.langJson),dataIndex:"code",width:260},{title:(0,_.langCheck)("102202APP-000115","pages",e.langJson),dataIndex:"name",width:150},{title:(0,_.langCheck)("102202APP-000047","pages",e.langJson),dataIndex:"resid",width:150},{title:(0,_.langCheck)("102202APP-000062","pages",e.langJson),dataIndex:"opr",render:function(t,n){var l=n.editable;return p.default.createElement("div",{className:"editable-row-operations"},l?p.default.createElement("span",null,p.default.createElement("a",{className:"margin-right-15",onClick:function(){return a.save(n)}},(0,_.langCheck)("102202APP-000069","pages",e.langJson)),p.default.createElement(K,{content:(0,_.langCheck)("102202APP-000063","pages",e.langJson),placement:"top",onClose:function(){return a.cancel(n)}},p.default.createElement("a",{className:"margin-right-15"},(0,_.langCheck)("102202APP-000064","pages",e.langJson)))):p.default.createElement("span",null,p.default.createElement(K,{content:(0,_.langCheck)("102202APP-000066","pages",e.langJson),placement:"top",onClose:function(){return a.del(n)}},p.default.createElement("a",{className:"margin-right-15"},(0,_.langCheck)("102202APP-000053","pages",e.langJson))),p.default.createElement("a",{className:"margin-right-15",onClick:function(){return a.jumpPage(n)}},"mobile"===a.props.pageType?(0,_.langCheck)("102202APP-000157","pages",e.langJson):(0,_.langCheck)("102202APP-000139","pages",e.langJson)),p.default.createElement("a",{className:"margin-right-15",onClick:function(){a.showModal(n)}},(0,_.langCheck)("102202APP-000140","pages",e.langJson)),n.isdefault||"root"!==n.parentid?null:p.default.createElement("a",{className:"margin-right-15",onClick:function(){return a.setDefault(n)}},(0,_.langCheck)("102202APP-000141","pages",e.langJson))))}}],a.cacheData,a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.selectedKeys!==this.props.selectedKeys&&this.setState({selectedRowKeys:[]})}},{key:"getNewData",value:function(){var e=this.props.pageActiveKey,t=this.props,a=t.appButtonVOs,n=t.pageTemplets;return"1"===e?y.default.cloneDeep(a):"2"===e?y.default.cloneDeep(n):void 0}},{key:"setNewData",value:function(e){var t=this.props.pageActiveKey;"1"===t?this.props.setPageButtonData(e):"2"===t&&this.props.setPageTemplateData(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.appButtonVOs,l=t.pageTemplets,o=t.pageType,r=this.state,i=r.batchSettingModalVisibel,s=(r.templetid,r.selectedRowKeys,a.find((function(e){return e.editable}))),c=this.props.langJson,u=this.dataFun(),f=u.BTNTYPEOPTIONS,g=u.BTNCOLOROPTIONS,h=[{title:(0,_.langCheck)("102202APP-000059","pages",c),dataIndex:"btnorder",fieldid:"numberindex",width:50,render:function(e){return e-0+1}},{title:s?V((0,_.langCheck)("102202APP-000129","pages",c)):(0,_.langCheck)("102202APP-000129","pages",c),dataIndex:"btncode",width:80,render:function(t,a,n){return p.default.createElement(k.default,{type:"string",value:t,editable:a.editable,cellIndex:n,cellKey:"btncode",cellRequired:!0,cellChange:e.handleBtnCellChange,cellCheck:e.handleBtnCheck})}},{title:(0,_.langCheck)("102202APP-000130","pages",c),dataIndex:"btnname",width:80,render:function(t,a,n){return p.default.createElement(k.default,{type:"string",value:t,editable:a.editable,cellIndex:n,cellKey:"btnname",cellRequired:!1,cellChange:e.handleBtnCellChange,cellCheck:e.handleBtnCheck})}},{title:s?V((0,_.langCheck)("102202APP-000131","pages",c)):(0,_.langCheck)("102202APP-000131","pages",c),dataIndex:"btntype",width:100,render:function(t,a,n){return p.default.createElement(k.default,{type:"select",value:t,editable:a.editable,options:f,cellIndex:n,cellKey:"btntype",cellRequired:!0,cellChange:e.handleBtnCellChange,cellCheck:e.handleBtnCheck,selectRefNode:document.body})}},{title:s?V((0,_.langCheck)("102202APP-000151","pages",c)):(0,_.langCheck)("102202APP-000151","pages",c),dataIndex:"btncolor",width:100,render:function(t,a,n){return p.default.createElement(k.default,{type:"select",value:t,editable:a.editable,options:g,cellIndex:n,cellKey:"btncolor",cellRequired:!0,cellChange:e.handleBtnCellChange,cellCheck:e.handleBtnCheck,selectRefNode:document.body})}},{title:(0,_.langCheck)("102202APP-000132","pages",c),dataIndex:"parent_code",width:90,render:function(t,a,n){return p.default.createElement(k.default,{type:"string",value:t,editable:a.editable,cellIndex:n,cellKey:"parent_code",cellRequired:!1,cellChange:e.handleBtnCellChange})}},{title:s?V((0,_.langCheck)("102202APP-000133","pages",c)):(0,_.langCheck)("102202APP-000133","pages",c),dataIndex:"btnarea",width:80,render:function(t,a,n){return p.default.createElement(k.default,{type:"string",value:t,editable:a.editable,cellIndex:n,cellKey:"btnarea",cellRequired:!0,cellChange:e.handleBtnCellChange,cellCheck:e.handleBtnCheck})}},{title:s?V((0,_.langCheck)("102202APP-000134","pages",c)):(0,_.langCheck)("102202APP-000134","pages",c),dataIndex:"iskeyfunc",width:80,render:function(t,a,n){return p.default.createElement(q,{disabled:!a.editable,onChange:function(t){console.log(t),e.handleChange(t,a,"iskeyfunc")},checked:t})}},{title:(0,_.langCheck)("102202APP-000149","pages",c),dataIndex:"keyboard",width:100,render:function(t,a,n){return p.default.createElement(k.default,{type:"string",value:t,editable:a.editable,cellIndex:n,cellKey:"keyboard",cellRequired:!1,cellChange:e.handleBtnCellChange})}},{title:(0,_.langCheck)("102202APP-000152","pages",c),dataIndex:"pageareacode",width:80,render:function(t,a,n){return p.default.createElement(k.default,{type:"string",value:t,editable:a.editable,cellIndex:n,cellKey:"pageareacode",cellRequired:!1,cellChange:e.handleBtnCellChange})}},{title:(0,_.langCheck)("102202APP-000135","pages",c),dataIndex:"btndesc",width:80,render:function(t,a,n){return p.default.createElement(k.default,{type:"string",value:t,editable:a.editable,cellIndex:n,cellKey:"btndesc",cellRequired:!1,cellChange:e.handleBtnCellChange})}},{title:p.default.createElement("span",{style:{display:"inline-block",minWidth:40}},(0,_.langCheck)("102202APP-000062","pages",c)),dataIndex:"opr",width:120,render:function(t,a){var n=a.editable;return p.default.createElement("div",{className:"editable-row-operations"},n?p.default.createElement("span",null,p.default.createElement("a",{className:"margin-right-10",onClick:function(){return e.save(a)},style:{display:"inline-block"}},(0,_.langCheck)("102202APP-000069","pages",c)),p.default.createElement(K,{content:(0,_.langCheck)("102202APP-000063","pages",c),placement:"top",onClose:function(){return e.cancel(a)}},p.default.createElement("a",null,(0,_.langCheck)("102202APP-000064","pages",c)))):p.default.createElement("span",null,p.default.createElement("a",{className:"margin-right-10",onClick:function(){return e.edit(a)}},(0,_.langCheck)("102202APP-000055","pages",c)),p.default.createElement(K,{content:(0,_.langCheck)("102202APP-000066","pages",c),placement:"top",onClose:function(){return e.del(a)}},p.default.createElement("a",{className:"margin-right-10"},(0,_.langCheck)("102202APP-000053","pages",c)))))}}];return p.default.createElement(I,{fieldid:"pageTable",areaCode:I.config.TABLE},p.default.createElement(d.default,{onChange:function(t){e.props.setPageActiveKey(t)},activeKey:this.props.pageActiveKey,tabBarExtraContent:this.creatAddLineBtn(),renderTabBar:function(e,t){return p.default.createElement(I,{areaCode:I.config.TABS}," ",p.default.createElement(t,e))}},"mobile"!==o&&p.default.createElement(j,{tab:(0,_.langCheck)("102202APP-000136","pages",c),key:"1"},p.default.createElement(C.default,{bordered:!0,locale:{emptyText:p.default.createElement(P.default,{type:"treeCardTable"})},pagination:!1,rowKey:"btnorder",components:this.components,dataSource:a.map((function(e,t){return e.num=e.btnorder,e})),onRow:this.tableHandleMoveRow,columns:h,size:"middle",fieldid:"btnRegister"})),p.default.createElement(j,{tab:(0,_.langCheck)("mobile"===o?"102202APP-000154":"102202APP-000137","pages",c),key:"2"},p.default.createElement(C.default,{bordered:!0,locale:{emptyText:p.default.createElement(P.default,{type:"treeCardTable"})},pagination:!1,rowKey:"num",dataSource:l.map((function(e,t){return e.num=t+1,e})),columns:this.columnsSt,size:"middle",fieldid:"tmplRegister"}),p.default.createElement(w.default,{maskClosable:!1,title:(0,_.langCheck)("102202APP-000138","pages",c),okText:(0,_.langCheck)("102202APP-000065","pages",c),cancelText:(0,_.langCheck)("102202APP-000064","pages",c),wrapClassName:"vertical-center-modal template-code-add",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},p.default.createElement("div",{className:"template-item"},p.default.createElement("label",{htmlFor:""},(0,_.langCheck)("102202APP-000114","pages",c)),p.default.createElement(n.default,{placeholder:(0,_.langCheck)("102202APP-000114","pages",c),value:this.state.templateCode,onChange:this.handleTemplateCodeChange})),p.default.createElement("div",{className:"template-item"},p.default.createElement("label",{htmlFor:""},(0,_.langCheck)("102202APP-000103","pages",c)),p.default.createElement("span",null,this.props.nodeInfo.code)),p.default.createElement("div",{className:"template-item"},p.default.createElement("label",{htmlFor:""},(0,_.langCheck)("102202APP-000143","pages",c)),p.default.createElement("span",null,this.props.nodeInfo.id))))),i&&p.default.createElement(D.default,{previewVisibel:i,setModalVisibel:this.setModalVisibel,templetData:this.state.previewDada}))}}]),t}(u.Component);J.propTypes={isNew:g.default.bool.isRequired,isEdit:g.default.bool.isRequired,nodeInfo:g.default.object.isRequired,nodeData:g.default.object.isRequired,appButtonVOs:g.default.array.isRequired,pageTemplets:g.default.array.isRequired,setPageTemplateData:g.default.func.isRequired,setPageButtonData:g.default.func.isRequired,setPageActiveKey:g.default.func.isRequired};var L=(0,m.default)(J);t.default=(0,f.connect)((function(e){return{isNew:e.AppRegisterData.isNew,isEdit:e.AppRegisterData.isEdit,nodeData:e.AppRegisterData.nodeData,nodeInfo:e.AppRegisterData.nodeInfo,pageTemplets:e.AppRegisterData.pageTemplets,appButtonVOs:e.AppRegisterData.appButtonVOs,pageActiveKey:e.AppRegisterData.pageActiveKey,langJson:e.AppRegisterData.langJson}}),{setPageButtonData:b.setPageButtonData,setPageTemplateData:b.setPageTemplateData,setPageActiveKey:b.setPageActiveKey})((0,h.withRouter)(L))},1062:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(109)),l=h(a(21)),o=h(a(5)),r=h(a(7)),i=h(a(4)),s=h(a(6));a(130);var c=a(1),d=h(c),u=h(a(68)),p=h(a(35)),f=a(19),g=h(a(364));function h(e){return e&&e.__esModule?e:{default:e}}var m=h(a(26)).default.base.NCButton,v=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.exportTemplateBtn=function(){var e=a.props,t=e.multiData,n=e.reqUrl,l=a.state.value;(0,f.DeferFn)((function(){(0,p.default)({url:n||"/nccloud/platform/templet/extractSel.do",info:{name:(0,f.langCheck)("102202APP-000072","pages",t),action:(0,f.langCheck)("102202APP-000073","pages",t)},loading:!0,data:{filepath:l},success:function(e){var t=e.data;t.success&&t.data&&(a.handleCancel(),(0,u.default)({status:"success",msg:t.data}))}})}))},a.handleClick=function(){a.setState({value:"",visible:!0})},a.handleChange=function(e){a.setState({value:e.target.value})},a.handleOk=function(){a.state.value.length>0&&a.exportTemplateBtn()},a.handleCancel=function(){a.setState({value:"",visible:!1})},a.state={value:"",visible:!1},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.state,t=e.visible,a=e.value,l=this.props,o=(l.multiData,l.isShow),r=l.btnName;return o?d.default.createElement("div",null,d.default.createElement(m,{fieldid:this.props.fieldid,onClick:this.handleClick},r),d.default.createElement(g.default,{maskClosable:!1,width:700,title:"文件路径",visible:t,onOk:this.handleOk,onCancel:this.handleCancel,cancelText:(0,f.langCheck)("0000PUB-000000"),okText:(0,f.langCheck)("0000PUB-000001"),fieldid:this.props.fieldid},d.default.createElement(n.default,{value:a,fieldid:"filepath",onChange:this.handleChange}))):null}}]),t}(c.Component);t.default=v},1063:function(e,t,a){var n=a(1064);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,l);n.locals&&(e.exports=n.locals)},1064:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".nc-workbench-page .nc-workbench-appRegister{overflow:hidden}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-left .appRegister-searchTree{height:100%;display:flex;flex-direction:column}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-left .appRegister-searchTree .fixed-search-input{padding:15px 20px;width:100%;display:flex}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-left .appRegister-searchTree .fixed-search-input .ant-input-affix-wrapper{width:240px}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-left .appRegister-searchTree .fixed-search-input .ant-input-affix-wrapper .ant-input-suffix .fixed-search-icon-group .iconfont{font-size:18px;display:inline-block}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-left .appRegister-searchTree .fixed-search-input .ant-input-affix-wrapper .ant-input-suffix .fixed-search-icon-group .icon-qingkong{display:none}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-left .appRegister-searchTree .fixed-search-input .ant-input-affix-wrapper:hover .ant-input-suffix .fixed-search-icon-group .iconfont{color:rgba(0,0,0,.65);font-size:18px;display:inline-block}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-left .appRegister-searchTree .tree-content{flex:1;padding:0 20px}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right{padding:20px}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .ant-form{padding:24px;background:#fbfbfb;border-radius:6px}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .ant-form-item-control-wrapper{flex:1;min-width:0}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .ant-form-item{margin-bottom:16px}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .ant-form-item-with-help{margin-bottom:0}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .ant-form-explain{font-size:12px}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .ant-checkbox-disabled+span{color:rgba(0,0,0,.65)}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .ant-form-item-label{min-width:120px;display:flex;align-items:center;justify-content:flex-end}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .move-sort{cursor:move}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .table-info-group{display:flex;justify-content:flex-start;align-items:center;height:42px}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .table-info-group .info{display:flex;justify-content:flex-start;align-items:center;height:30px;margin-right:15px;font-size:13px;color:#888}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .table-info-group .popconfirm-hotkeys-wrapper{display:inline-block!important;line-height:30px}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .table-info-group .popconfirm-hotkeys-wrapper .u-button{vertical-align:top}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .editable-row-operations a{color:#007ace}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container{display:flex;max-height:600px}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .left-list{min-width:200px;border-right:1px solid #d9d9d9}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .left-list .list-header{font-size:14px;padding:6px 0}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .busi-active-content{width:calc(100% - 200px);max-height:600px;overflow:auto}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .busi-active-content .u-table-fixed-header .u-table-content .u-table-body{min-height:125px!important;height:auto}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .list-content{height:calc(100% - 33px);overflow:auto}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .list-content .item{display:flex;align-items:center;min-height:30px;padding:0 6px}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .list-content .item .title{flex:1}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .list-content .item .opr{display:none}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .list-content .item .iconfont{cursor:pointer;color:#e14c46;margin-left:6px}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .list-content .item.active,.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .list-content .item:hover{background-color:#e4e4e4}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .list-content .item:hover .opr{display:block}.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .empty-content{display:flex;width:100%;height:50px;align-items:center;justify-content:center}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.nc-workbench-page .nc-workbench-appRegister .nc-workbench-ownpage-right .busi-active-container .param-table .ant-table-fixed-header .ant-table-scroll .ant-table-header{overflow:auto}}.template-code-add .template-item{width:100%;margin-bottom:15px;display:flex;justify-content:center;align-items:center;padding:0 80px}.template-code-add .template-item label{min-width:80px;text-align:right}.template-code-add .template-item input,.template-code-add .template-item span{width:220px}.busi_active_modal .list-to-list{display:flex;justify-content:center;margin-top:20px}",""])},1247:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(38)),l=h(a(21)),o=h(a(5)),r=h(a(7)),i=h(a(4)),s=h(a(6));a(115);var c=a(1),d=h(c),u=a(37),p=a(19),f=a(980),g=h(a(1040));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.handleShowCopyModal=function(){a.props.onClick((function(e){a.props.setTemplateNameVal(e[0]&&e[0].name),a.setState({showCopyModal:!0,selectedTemplate:e})}))},a.handleCopyVisible=function(e){a.setState({showCopyModal:e})},a.handleCopy=function(e){a.props.onCopy(e.data)},a.state={showCopyModal:!1,selectedTemplate:[]},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.appRegisterJson,a=e.json,l=e.selectedPage,o=this.state.selectedTemplate,r={templateType:"bill",pageCode:l.pageCode,appCode:o[0]&&o[0].appcode,templateId:o[0]&&o[0].pk_page_templet};return d.default.createElement("div",null,d.default.createElement(n.default,{onClick:this.handleShowCopyModal,style:{marginLeft:"8px"}},(0,p.langCheck)("102202APP-000155","pages",t)),this.state.showCopyModal&&d.default.createElement(g.default,{json:a,visible:this.state.showCopyModal,setCopyVisible:this.handleCopyVisible,mobileInfoData:r,onCopy:this.handleCopy}))}}]),t}(c.Component);t.default=(0,u.connect)((function(e){return{templateNameVal:e.TemplateSettingData.templateNameVal,nodeData:e.AppRegisterData.nodeData}}),{setTemplateNameVal:f.setTemplateNameVal})(m)},1248:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(2)),l=h(a(38)),o=h(a(21)),r=h(a(5)),i=h(a(7)),s=h(a(4)),c=h(a(6));a(115);var d=a(1),u=h(d),p=a(37),f=h(a(1034)),g=a(19);function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){(0,r.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.showAssignModal=function(e){a.props.onClick((function(t){a.setState({alloVisible:e,selectedTemplate:t})}))},a.state={alloVisible:!1,selectedTemplate:[]},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.appRegisterJson,o=t.json,r=t.selectedPage,i=this.state.selectedTemplate,s={templateType:"bill",pageCode:r.pageCode,appCode:i[0]&&i[0].appcode,templateId:i[0]&&i[0].pk_page_templet};return u.default.createElement("div",null,u.default.createElement(l.default,{onClick:function(){return e.showAssignModal(!0)},style:{marginLeft:"8px"}},(0,g.langCheck)("102202APP-000156","pages",a)),this.state.alloVisible&&u.default.createElement(f.default,(0,n.default)({json:o,alloVisible:this.state.alloVisible,setAssignModalVisible:this.showAssignModal,mobileInfoData:s},this.props)))}}]),t}(d.Component);t.default=(0,p.connect)((function(e){return{selectedPage:e.AppRegisterData.selectedPage}}),{})(m)},933:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=N(a(368)),l=N(a(2)),o=N(a(21)),r=N(a(5)),i=N(a(7)),s=N(a(4)),c=N(a(6));a(369);var d=a(1),u=N(d),p=a(37),f=N(a(0)),g=a(982),h=N(a(35)),m=N(a(1053)),v=N(a(1054)),y=N(a(1055)),b=N(a(1056)),k=N(a(1060)),C=a(969),P=a(19),w=N(a(976)),E=N(a(68)),A=a(379),D=a(133),x=N(a(1062)),_=a(365),T=N(a(979));function N(e){return e&&e.__esModule?e:{default:e}}a(1063);var R=N(a(26)).default.base.NCDiv,S=function(e){function t(e){(0,r.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleClick=function(e){switch(e){case"addModule":a.addModule();break;case"addAppClass":a.addAppClass();break;case"addApp":a.addApp(),a.setFunNature();break;case"addPage":a.addPage();break;case"save":a.props.form.validateFields((function(e,t){e||a.save()}));break;case"cancel":(0,A.CancelPrompts)((function(){a.props.setNodeData(a.historyNodeData),a.props.form.resetFields(),a.props.setIsNew(!1),a.props.setIsEdit(!1),a.props.setOptype(a.historyOptype)}));break;case"del":a.del();break;case"edit":a.historyNodeData=a.props.nodeData,a.historyOptype=a.props.optype,a.props.setIsNew(!1),a.props.setIsEdit(!0),a.setFunNature()}},a.exportTemplateBtn=function(){var e=a.props.langJson;(0,D.ControlTip)({status:"warning",title:(0,P.langCheck)("102202APP-000159","pages",e),msg:(0,P.langCheck)("102202APP-000160","pages",e),onOk:function(){(0,P.DeferFn)((function(){(0,h.default)({url:"/nccloud/platform/templet/extractRes.do",info:{name:(0,P.langCheck)("102202APP-000072","pages",e),action:(0,P.langCheck)("102202APP-000073","pages",e)},data:{appcode:a.props.nodeData.code},success:function(e){var t=e.data;t.success&&t.data&&(0,E.default)({status:"success",msg:t.data})}})}))}})},a.addModule=function(){var e=a.props.optype;a.historyOptype=e,""===e?e="1":"1"===e&&(e="2");a.historyNodeData=a.props.nodeData,a.props.setNodeData({systypecode:"",moduleid:"",systypename:"",orgtypecode:"",appscope:"",isaccount:!1,supportcloseaccbook:!1,resid:"",devmodule:""}),a.props.setIsNew(!0),a.props.setIsEdit(!0),a.props.setOptype(e)},a.addAppClass=function(){var e=a.props.optype;a.historyOptype=e,"2"===e&&(e="3"),a.historyNodeData=a.props.nodeData;a.props.setNodeData({apptype:0,isenable:!0,code:"",name:"",app_desc:"",resid:"",help_name:""}),a.props.setIsNew(!0),a.props.setIsEdit(!0),a.props.setOptype(e)},a.addApp=function(){var e=a.props.optype;a.historyOptype=e,"3"===e&&(e="4"),a.historyNodeData=a.props.nodeData,a.props.form.resetFields();var t={code:"",name:"",orgtypecode:"",funtype:"",app_desc:"",help_name:"",isenable:!0,iscauserusable:!1,uselicense_load:!0,iscopypage:!1,pk_group:"",mdidRef:{refpk:"",refname:"",refcode:""},width:"1",height:"1",target_path:"",apptype:"1",fun_property:"mobile"===a.props.pageType?"3":"0",resid:"",image_src:""};a.props.setAppParamData([]),a.props.setNodeData(t),a.props.setIsNew(!0),a.props.setIsEdit(!0),a.props.setOptype(e)},a.addPage=function(){var e=a.props.optype;a.historyOptype=e,"4"===e&&(e="5"),a.historyNodeData=a.props.nodeData;a.props.setPageButtonData([]),a.props.setPageTemplateData([]),a.props.setNodeData({pagecode:"",pagename:"",pagedesc:"",pageurl:"",resid:"",isdefault:!1,iscarddefault:!1}),a.props.setIsNew(!0),a.props.setIsEdit(!0),a.props.setOptype(e)},a.save=function(){var e=a.props.form.getFieldsValue();a.props.nodeData.children&&delete a.props.nodeData.children,e=(0,l.default)({},a.props.nodeData,e);var t=a.props.nodeInfo,n=t.id,o=t.code,r=a.props.optype,i=a.props.langJson,s="/nccloud/platform/appregister/insertmodule.do";"mobile"===a.props.pageType&&(s="/nccloud/platform/appregister/insertmobilemodule.do");var c=function(e){var t=a.props.expandedKeys,n=void 0,l=void 0,o=void 0,i=void 0;"1"!==r&&"2"!==r||(e.parentcode&&t.push(e.parentcode),n=e.moduleid,l=e.systypecode,o=e.systypename,i=e.parentcode,a.props.setExpandedKeys(t),a.props.setSelectedKeys([e.moduleid])),"3"===r&&(n=e.pk_appregister,l=e.code,o=e.name,i=e.parent_id,t.push(e.parent_id),a.props.setExpandedKeys(t),a.props.setSelectedKeys([e.pk_appregister])),"4"===r&&(n=e.pk_appregister,l=e.code,o=e.name,i=e.parent_id,t.push(e.parent_id),a.props.setExpandedKeys(t),a.props.setSelectedKeys([e.code])),"5"===r&&(n=e.pk_apppage,l=e.pagecode,o=e.pagename,i=e.parent_id,t.push(e.parentcode),a.props.setExpandedKeys(t),a.props.setSelectedKeys([e.pk_apppage])),a.reqTreeData(),a.props.setNodeInfo({id:n,code:l,name:o,parentId:i,isleaf:!0}),a.props.setNodeData(e),a.props.setIsNew(!1),a.props.setIsEdit(!1),(0,E.default)({status:"success"})};a.props.isNew?("1"!==r&&"2"!==r||("00"!==n&&n.length>0&&(e.parentcode=n),a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",i),action:(0,P.langCheck)("102202APP-000075","pages",i)},s,e,c)),"3"!==r&&"4"!==r||(n.length>0&&(e.parent_id=n),e.hasOwnProperty("mdid")&&(e.mdid=e.mdidRef.refpk),a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",i),action:(0,P.langCheck)("102202APP-000076","pages",i)},"/nccloud/platform/appregister/insertapp.do",e,c)),"5"===r&&(n.length>0&&(e.parent_id=n,e.parentcode=o),a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",i),action:(0,P.langCheck)("102202APP-000077","pages",i)},"/nccloud/platform/appregister/insertpage.do",e,c))):("1"!==r&&"2"!==r||a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",i),action:(0,P.langCheck)("102202APP-000078","pages",i)},"/nccloud/platform/appregister/editmodule.do",e,(function(e){a.reqTreeData(),(0,E.default)({status:"success"}),a.props.setNodeData(e),a.props.setIsNew(!1),a.props.setIsEdit(!1)})),"3"!==r&&"4"!==r||(e.hasOwnProperty("mdid")&&(e.mdid=e.mdidRef.refpk),a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",i),action:(0,P.langCheck)("102202APP-000079","pages",i)},"/nccloud/platform/appregister/editapp.do",e,(function(e){a.reqTreeData(),(0,E.default)({status:"success"}),a.props.setNodeData(e),a.props.setIsNew(!1),a.props.setIsEdit(!1)}))),"5"===r&&a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",i),action:(0,P.langCheck)("102202APP-000080","pages",i)},"/nccloud/platform/appregister/editpage.do",e,(function(e){a.reqTreeData(),(0,E.default)({status:"success"}),a.props.setNodeData(e),a.props.setIsNew(!1),a.props.setIsEdit(!1)})))},a.del=function(){a.props.nodeInfo.isleaf?(0,A.DelPrompts)((function(){var e=a.props.optype,t=a.props.nodeInfo.id,n=function(e){(0,E.default)({status:"success",msg:e.true}),a.reqTreeData(),a.props.setNodeData({}),a.props.setSelectedKeys(["00"]),a.props.setOptype("")};"1"!==e&&"2"!==e||a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",a.props.langJson),action:(0,P.langCheck)("102202APP-000082","pages",a.props.langJson)},"/nccloud/platform/appregister/deletemodule.do",{moduleid:t},n),"3"!==e&&"4"!==e||a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",a.props.langJson),action:(0,P.langCheck)("102202APP-000083","pages",a.props.langJson)},"/nccloud/platform/appregister/deleteapp.do",{pk_appregister:t},n),"5"===e&&a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",a.props.langJson),action:(0,P.langCheck)("102202APP-000084","pages",a.props.langJson)},"/nccloud/platform/appregister/deletepage.do",{pk_apppage:t},n)})):(0,E.default)({status:"warning",msg:(0,P.langCheck)("102202APP-000081","pages",a.props.langJson)})},a.switchFrom=function(){switch(a.props.optype){case"1":case"2":return u.default.createElement(v.default,{form:a.props.form});case"3":return u.default.createElement(y.default,{form:a.props.form});case"4":return u.default.createElement(b.default,{form:a.props.form,funNatureOption:a.state.funNatureOption});case"5":return u.default.createElement(k.default,(0,l.default)({form:a.props.form},a.props));default:return""}},a.reqTreeData=function(e){var t="/nccloud/platform/appregister/querymodules.do";"mobile"===a.props.pageType&&(t="/nccloud/platform/appregister/querymobilemodules.do"),(0,h.default)({url:t,info:{name:(0,P.langCheck)("102202APP-000085","pages",a.props.langJson),action:(0,P.langCheck)("102202APP-000022","pages",a.props.langJson)},success:function(t){var n=t.data;n.success&&n.data.length>0&&(a.props.setTreeData(n.data),e&&e())}})},a.reqTreeNodeData=function(e,t,a,n){(0,h.default)({url:t,data:a,info:e,success:function(e){var t=e.data.data;t&&n(t)}})},a.handleTreeNodeSelect=function(e,t){if(!a.treeNodeChange()){var n="",o=void 0,r={id:"",code:"",name:"",parentId:"",isleaf:!1};if(e){switch(e.flag){case"0":o=e.moduleid;a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",a.props.langJson),action:(0,P.langCheck)("102202APP-000086","pages",a.props.langJson)},"/nccloud/platform/appregister/querymodule.do",{moduleid:o},(function(e){a.props.setNodeData(e)})),n="1";break;case"1":o=e.moduleid;a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",a.props.langJson),action:(0,P.langCheck)("102202APP-000086","pages",a.props.langJson)},"/nccloud/platform/appregister/querymodule.do",{moduleid:o},(function(e){a.props.setNodeData(e)})),n="2";break;case"2":a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",a.props.langJson),action:(0,P.langCheck)("102202APP-000086","pages",a.props.langJson)},"/nccloud/platform/appregister/queryapp.do",{pk_appregister:e.moduleid},(function(e){a.props.setNodeData(e.appRegisterVO),a.props.setAppParamData(e.appParamVOs)})),o=e.moduleid,n="3";break;case"3":a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",a.props.langJson),action:(0,P.langCheck)("102202APP-000086","pages",a.props.langJson)},"/nccloud/platform/appregister/queryapp.do",{pk_appregister:e.def1},(function(e){a.props.setNodeData(e.appRegisterVO),a.props.setAppParamData(e.appParamVOs),a.props.form.resetFields()})),o=e.def1,n="4",a.setFunNature();break;case"4":a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",a.props.langJson),action:(0,P.langCheck)("102202APP-000087","pages",a.props.langJson)},"/nccloud/platform/appregister/querypagedetail.do",{pk_apppage:e.moduleid},(function(e){var t=e.apppageVO.parent_id;e.apppageVO.resid=e.apppageVO.resid||"",a.props.setNodeInfo((0,l.default)({},a.props.nodeInfo,{parentId:t})),a.props.setNodeData(e.apppageVO),a.props.setPageButtonData([]),a.props.setPageButtonData(e.appButtonVOs?e.appButtonVOs:[]),a.props.setPageTemplateData(e.pageTemplets?e.pageTemplets:[])})),o=e.moduleid,n="5",a.props.setSelectedPageInfo({pageCode:e.systypecode})}"00"!==e.moduleid&&(r={id:o,code:e.systypecode,name:e.name,parentId:e.parentcode,isleaf:e.children&&0===e.children.length||e.isleaf})}a.props.setIsNew(!1),a.props.setIsEdit(!1),a.props.setNodeInfo(r),a.props.setOptype(n),a.props.setSelectedKeys(t)}},a.updateTreeData=function(e){var t=a.props.treeData;t=t.map((function(t){return t.moduleid===e.moduleid&&(t=e),t})),a.props.setTreeData(t)},a.handleTreeSearch=function(e){var t="/nccloud/platform/appregister/searchapps.do";"mobile"===a.props.pageType&&(t="/nccloud/platform/appregister/searchmobileapps.do");var n=function(t){if(e.length>0){var n=t.map((function(e){return e.moduleid}));a.props.setExpandedKeys(n)}else a.props.setExpandedKeys(["00"]);a.props.setTreeData(t)};(0,P.DeferFn)((function(){a.reqTreeNodeData({name:(0,P.langCheck)("102202APP-000074","pages",a.props.langJson),action:(0,P.langCheck)("102202APP-000086","pages",a.props.langJson)},t,{search_content:e},n)}))},a.treeNodeChange=function(){var e=!0;return a.props.isEdit?(0,A.SavePrompts)((function(){a.handleClick("save"),e=!1})):e=!1,e},a.initTreeSelected=function(){var e=a.props,t=e.selectedKeys,n=e.setSelectedKeys,l=e.optype,o=e.setOptype,r=e.treeData,i=e.nodeInfo;if(""!==l){n(t),o(l);var s=r.find((function(e){return e.moduleid===i.id}));a.handleTreeNodeSelect(s,t)}else if(r.length>0){var c=(0,P.GetQuery)(window.location.hash).selectedkey,d=r[0],u=new Array(d.moduleid);if(c){var p=[c],f=r.find((function(e){return e.moduleid===c}));f&&(d=f,u=p,a.props.setExpandedKeys(p))}n(u),o("1"),a.handleTreeNodeSelect(d,u)}else n(["00"]),o("")},a.setFunNature=function(){(0,h.default)({url:"/nccloud/platform/appregister/getfunproperty.do",info:{name:"应用注册页面",action:"应用功能性质查询"},success:function(e){var t=e.data;t.success&&t.data&&a.setState({funNatureOption:t.data.options})}})},a.state={funNatureOption:[]},a.historyOptype,a.historyNodeData,a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,_.getMulti)({moduleId:"AppRegister",domainName:"workbench",callback:function(t){e.props.setLangJson(t),e.reqTreeData(e.initTreeSelected)}})}},{key:"render",value:function(){var e=this.props,t=e.optype,a=e.isEdit,n=e.nodeData,o=e.langJson,r=[{code:"addModule",name:(0,P.langCheck)("102202APP-000088","pages",o),type:"primary",group:!0,isshow:!a&&(""===t||"1"===t)},{code:"addAppClass",name:(0,P.langCheck)("102202APP-000089","pages",o),type:"primary",group:!0,isshow:!a&&"2"===t},{code:"addApp",name:(0,P.langCheck)("102202APP-000090","pages",o),type:"primary",group:!0,isshow:!a&&"3"===t},{code:"addPage",name:(0,P.langCheck)("102202APP-000092","pages",o),type:"primary",group:!0,isshow:!a&&"4"===t&&n&&"1"===n.apptype},{code:"save",name:(0,P.langCheck)("102202APP-000069","pages",o),type:"primary",isshow:a},{code:"cancel",name:(0,P.langCheck)("102202APP-000064","pages",o),isshow:a},{code:"edit",name:(0,P.langCheck)("102202APP-000093","pages",o),type:"5"===t&&"primary",group:!0,isshow:!a&&""!==t},{code:"del",name:(0,P.langCheck)("102202APP-000053","pages",o),isshow:!a&&""!==t}],i=(0,P.GetQuery)(window.location.hash).c,s="mobile"===this.props.pageType?(0,P.langCheck)("102202APP-000153","pages",o):(0,P.langCheck)("102202APP-000074","pages",o);return u.default.createElement(C.PageLayout,{className:"nc-workbench-appRegister",header:u.default.createElement(C.PageLayoutHeader,null,u.default.createElement("div",{className:"header_in_icon"},u.default.createElement(T.default,{appCode:i}),u.default.createElement(R,{fieldid:s,areaCode:R.config.Title},s)),u.default.createElement("div",{style:{display:"flex","justify-content":"flex-start","align-items":"center"}},u.default.createElement(x.default,{isShow:!a&&"4"===t&&n&&"1"===n.apptype,multiData:o,reqUrl:"/nccloud/platform/templet/extractRes.do",btnName:(0,P.langCheck)("102202APP-000091","pages",o),fieldid:"exportMultiLang"}),u.default.createElement(w.default,{dataSource:r,onClick:this.handleClick})))},u.default.createElement(C.PageLayoutLeft,null,u.default.createElement(m.default,(0,l.default)({className:"appRegister-searchTree",onSelect:this.handleTreeNodeSelect,onSearch:this.handleTreeSearch},this.props))),u.default.createElement(C.PageLayoutRight,{className:"workbench-auto-scroll"},this.switchFrom()))}}]),t}(d.Component);S.propTypes={isNew:f.default.bool.isRequired,isEdit:f.default.bool.isRequired,nodeInfo:f.default.object.isRequired,nodeData:f.default.object.isRequired,treeData:f.default.array.isRequired,setTreeData:f.default.func.isRequired,setNodeData:f.default.func.isRequired,setPageButtonData:f.default.func.isRequired,setPageTemplateData:f.default.func.isRequired,setAppParamData:f.default.func.isRequired,setIsNew:f.default.func.isRequired,setIsEdit:f.default.func.isRequired,setExpandedKeys:f.default.func.isRequired,setSelectedKeys:f.default.func.isRequired,optype:f.default.string.isRequired,setOptype:f.default.func.isRequired,selectedKeys:f.default.array.isRequired,expandedKeys:f.default.array.isRequired},S=n.default.create()(S),t.default=(0,p.connect)((function(e){return{nodeData:e.AppRegisterData.nodeData,nodeInfo:e.AppRegisterData.nodeInfo,treeData:e.AppRegisterData.treeData,isNew:e.AppRegisterData.isNew,isEdit:e.AppRegisterData.isEdit,selectedKeys:e.AppRegisterData.selectedKeys,expandedKeys:e.AppRegisterData.expandedKeys,optype:e.AppRegisterData.optype,langJson:e.AppRegisterData.langJson}}),{setTreeData:g.setTreeData,setNodeData:g.setNodeData,setNodeInfo:g.setNodeInfo,setPageButtonData:g.setPageButtonData,setPageTemplateData:g.setPageTemplateData,setAppParamData:g.setAppParamData,setIsNew:g.setIsNew,setIsEdit:g.setIsEdit,setExpandedKeys:g.setExpandedKeys,setSelectedKeys:g.setSelectedKeys,setOptype:g.setOptype,setLangJson:g.setLangJson,setSelectedPageInfo:g.setSelectedPageInfo})(S)},959:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(2)),l=m(a(21)),o=m(a(5)),r=m(a(7)),i=m(a(4)),s=m(a(6)),c=a(1),d=m(c),u=a(37),p=m(a(933)),f=m(a(1247)),g=m(a(1248)),h=a(365);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.state={json:{}},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,h.getMulti)({moduleId:"10180TM",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this.props,t=e.langJson,a={selectedPage:e.selectedPage,appRegisterJson:t,json:this.state.json},l={copy:function(e){return d.default.createElement(f.default,(0,n.default)({},e,a))},assign:function(e){return d.default.createElement(g.default,(0,n.default)({},e,a))}};return d.default.createElement(p.default,{pageType:"mobile",renderMobileItem:l})}}]),t}(c.Component);t.default=(0,u.connect)((function(e){return{langJson:e.AppRegisterData.langJson,selectedPage:e.AppRegisterData.selectedPage}}),{})(v)},968:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMobileFlag=t.onToggleLeftSider=t.updateSearchBox=t.setMetaTreeNodes=t.setAreaHide=t.setServerData=t.setTabLayModalVisible=t.setAreaItemVisible=t.setImplementFlag=t.updateAreaValidate=t.updateSaveFlag=t.setZoneDataFun=t.setCurrentBatchCell=t.updateBatchSource=t.setFormulaInfo=t.toggleFormula=t.clearData=t.updatePreviewData=t.updateSelectArea=t.updateAreaList=t.updateSelectCard=t.setZoneData=void 0;var n,l=a(3),o=(n=l)&&n.__esModule?n:{default:n},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(376));t.setZoneData=function(e){return{type:r.ZONESETTING,data:e}},t.updateSelectCard=function(e){return{type:r.UPDATESELECTCARD,selectCard:e}},t.updateAreaList=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments[2];return a&&a(e),{type:r.UPDATEAREALIST,areaList:e,init:t}},t.updateSelectArea=function(e){return{type:r.UPDATESELECTAREA,selectedArea:e}},t.updatePreviewData=function(e){return{type:r.PREVIEWDATA,previewData:e}},t.clearData=function(){return{type:r.CLEARDATA}},t.toggleFormula=function(e,t){return{type:r.TOGGLEFORMULA,formula:(0,o.default)({},e,t||{visible:!1,value:""})}},t.setFormulaInfo=function(e){return{type:r.SETFORMULAINFO,formulaInfo:e}},t.updateBatchSource=function(e){return{type:r.UPDATEBATCHSOURCE,batchSource:e}},t.setCurrentBatchCell=function(e){return{type:r.SETCURRENTBATCHCELL,currentBatchCell:e}},t.setZoneDataFun=function(e){return{type:r.SETZONEFORMFUN,getFromData:e}},t.updateSaveFlag=function(e){return{type:r.UPDATESAVEFLAG,isSave:e}},t.updateAreaValidate=function(e){return{type:r.SETAREAVALIDATE,validate:e}},t.setImplementFlag=function(e){return{type:r.SETIMPLEMENTFLAG,isImplement:e}},t.setAreaItemVisible=function(e){return{type:r.SETAREAVISIBLE,areaVisible:e}},t.setTabLayModalVisible=function(e){return{type:r.TABLAYMODALVISIBLE,showTabLaySetModal:e}},t.setServerData=function(e){return{type:r.SETSEVERDATA,serverData:e}},t.setAreaHide=function(e){return{type:r.SETAREAHIDE,areaHide:e}},t.setMetaTreeNodes=function(e){return{type:r.SET_META_TREE_NODES,data:e}},t.updateSearchBox=function(e){return{type:r.UPDATE_SEARCH_BOX,boxStatus:e}},t.onToggleLeftSider=function(e){return{type:r.ONTOGGLELEFTSIDER,leftSiderShow:e}},t.setMobileFlag=function(e){return{type:r.SETMOBILEFLAG,ismobile:e}}},969:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageLayoutRight=t.PageLayoutLeft=t.PageLayoutHeader=t.PageScrollLayout=t.PageLayout=void 0;var n=u(a(21)),l=u(a(5)),o=u(a(7)),r=u(a(4)),i=u(a(6)),s=a(1),c=u(s),d=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}a(970);var p=u(a(26)).default.base.NCDiv,f=!1,g=function(e){function t(e){return(0,l.default)(this,t),(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"handleMouseUp",value:function(){f=!1,console.log(this.test)}},{key:"handleMouseMove",value:function(e){if(f){var t=e.clientX,a=document.querySelector("#layoutLeft"),n=a.getBoundingClientRect().left,l=parseInt(t-n)+3;l<200||(a.style.width=l+"px")}}},{key:"render",value:function(){return c.default.createElement("div",{className:"nc-workbench-page"},this.props.header?this.props.header:null,c.default.createElement("div",{onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this),className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+(this.props.className||"")},this.props.children))}}]),t}(s.Component),h=function(e){function t(e){(0,l.default)(this,t);var a=(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={suck:!1},a.initScrollContainerTop,a}return(0,i.default)(t,e),(0,o.default)(t,[{key:"handleMouseUp",value:function(){f=!1}},{key:"handleMouseMove",value:function(e){if(f){var t=e.clientX,a=document.querySelector("#layoutLeft"),n=a.getBoundingClientRect().left,l=parseInt(t-n)+3;l<200||(a.style.width=l+"px")}}},{key:"handleScroll",value:function(e){var t=this.refs.ncWorkbenchPageScroll.getBoundingClientRect().y;if(t==this.initScrollContainerTop&&this.setState({suck:!1}),t<this.initScrollContainerTop){if(this.state.suck)return;this.containerWidthChange(),this.setState({suck:!0})}}},{key:"containerWidthChange",value:function(){var e=this.refs.ncWorkbenchPageOwnpage.getBoundingClientRect().width;document.getElementsByClassName("nc-workbench-page-header")[0].style.width=e+"px",document.getElementById("suckTableHeader")&&(document.getElementById("suckTableHeader").style.width=e+"px")}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.containerWidthChange);var e=this.refs.ncWorkbenchPageScroll.getBoundingClientRect().y;this.initScrollContainerTop=e}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.containerWidthChange)}},{key:"render",value:function(){var e=this.state.suck;return c.default.createElement("div",{className:"nc-workbench-page-scroll",onScroll:this.handleScroll.bind(this)},c.default.createElement("div",{className:" nc-workbench-page "},c.default.createElement("div",{className:"nc-workbench-page-container "+(e?"nc-workbench-suck":""),ref:"ncWorkbenchPageScroll"},this.props.header?this.props.header:null,c.default.createElement("div",{onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this),ref:"ncWorkbenchPageOwnpage",className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+(this.props.className||"")},this.props.children))))}}]),t}(s.Component),m=function(e){function t(e){return(0,l.default)(this,t),(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"handleMouseDown",value:function(){f=!0}},{key:"render",value:function(){return c.default.createElement("div",{id:"layoutLeft",className:"nc-workbench-ownpage-left "+(this.props.className||""),style:this.props.style?this.props.style:{background:"#f6f6f6"}},c.default.createElement("span",{className:"layout-drag-block",onMouseDown:this.handleMouseDown.bind(this)}),this.props.children)}}]),t}(s.Component),v=function(e){function t(e){(0,l.default)(this,t);var a=(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.handleBindKey=a.handleBindKey.bind(a),a}return(0,i.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleBindKey,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleBindKey,!1)}},{key:"handleBindKey",value:function(e){var t=e||window.event||arguments.callee.caller.arguments[0];t&&t.keyCode&&t.shiftKey&&27==t.keyCode&&this.props.pageback&&this.props.pageback()}},{key:"render",value:function(){return c.default.createElement(p,{areaCode:p.config.HEADER,className:"nc-workbench-page-header "+(this.props.className||"")},this.props.children)}}]),t}(s.Component),y=function(e){function t(){return(0,l.default)(this,t),(0,r.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"nc-workbench-ownpage-right "+(this.props.className||"")},this.props.children)}}]),t}(s.Component);g.propTypes={children:d.default.any.isRequired},m.propTypes={children:d.default.any.isRequired},y.propTypes={children:d.default.any.isRequired},t.PageLayout=g,t.PageScrollLayout=h,t.PageLayoutHeader=v,t.PageLayoutLeft=m,t.PageLayoutRight=y},970:function(e,t,a){var n=a(971);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,l);n.locals&&(e.exports=n.locals)},971:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,'.nc-workbench-page{position:absolute;top:0;z-index:10;height:100%;width:100%;padding:8px 0 0;display:flex;flex-direction:column}.nc-workbench-page .nc-workbench-page-header{flex:0 0 45px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #d9d9d9;border-radius:3px 3px 0 0;background:#fff;padding:0 20px}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn{display:flex;align-items:center;font-size:16px;color:#111;font-weight:700}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont{margin-right:16px;border-radius:50%;font-size:16px;padding:0 4px;font-weight:400;line-height:24px;cursor:pointer}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont:hover{background:#e8e8e8}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn img{margin-right:10px}.nc-workbench-page .nc-workbench-page-header .header_in_icon{display:flex;font-weight:700;font-size:16px;color:#111;line-height:24px}.nc-workbench-page .nc-workbench-page-header .header_in_icon span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-ownpage{min-width:800px;height:calc(100% - 61px);border-radius:0 0 3px 3px}.nc-workbench-page .nc-workbench-ownpage-all{display:flex;justify-content:flex-start;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nc-workbench-page .nc-workbench-ownpage-left{position:relative;height:100%;min-width:280px}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block{position:absolute;right:-3px;z-index:10;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:block;padding:0 3px;height:100%;border-radius:3px;cursor:w-resize}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:after{content:"";display:block;width:1px;height:100%;background:#d9d9d9}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:hover:after{width:2px;background:rgba(0,0,0,.54)}.nc-workbench-page .nc-workbench-ownpage-right{min-width:50%;flex:1}.nc-workbench-page-scroll{height:100%;width:100%;overflow-y:auto}.nc-workbench-page-scroll .nc-workbench-page-container{margin-top:0;min-height:100%;background:#fff;border-radius:3px}.nc-workbench-page-scroll .nc-workbench-page-container .nc-workbench-page-header{position:static;transition:top .7s ease;height:46px}.nc-workbench-page-scroll .nc-workbench-page-container .suck-table-header{position:static;transition:top .7s ease}.nc-workbench-page-scroll .nc-workbench-suck{padding-top:80px}.nc-workbench-page-scroll .nc-workbench-suck .nc-workbench-page-header{position:fixed;z-index:1;top:44px}.nc-workbench-page-scroll .nc-workbench-suck .suck-table-header{position:fixed;z-index:1;top:94px}@media screen and (min-width:1280px){.nc-workbench-page{padding:8px 16px}}@media screen and (min-width:1440px){.nc-workbench-page{padding:8px 16px}}@media screen and (min-width:1600px){.nc-workbench-page{padding:8px 16px}}',""])},972:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTree=void 0;var n,l=a(89),o=(n=l)&&n.__esModule?n:{default:n};t.createTree=function(e,t,a){e=o.default.cloneDeep(e);var n=r(e,a),l=n.treeArray,c=n.treeObject;return c=i(c,t),s(l,c,t)};var r=function(e,t){var a=[],n={};return e.map((function(e,l){e[t]?(n.hasOwnProperty(e[t])||(n[e[t]]=[]),n[e[t]].push(e)):a.push(e)})),{treeArray:a,treeObject:n}},i=function(e,t){for(var a in e)e.hasOwnProperty(a)&&(e[a]=s(e[a],e,t));return e},s=function(e,t,a){return e.map((function(e,n){return t.hasOwnProperty(e[a])&&(e.children=t[e[a]]),e}))}},973:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataDefaults=t.FormContent=void 0;var n=C(a(77)),l=C(a(370)),o=C(a(374)),r=C(a(21)),i=C(a(5)),s=C(a(7)),c=C(a(4)),d=C(a(6)),u=C(a(368));a(371),a(375),a(369);var p=a(1),f=C(p),g=C(a(89)),h=C(a(988)),m=C(a(993)),v=C(a(998)),y=C(a(999)),b=C(a(1e3)),k=a(19);function C(e){return e&&e.__esModule?e:{default:e}}a(1001);var P=C(a(26)).default.base,w=P.NCCheckbox,E=P.NCDiv,A=u.default.Item,D=function(e){function t(e){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.value;return f.default.createElement("div",{className:"form-display-content",title:e},this.props.value)}}]),t}(p.Component),x=function(e){function t(e){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.value&&this.props.value.refname?this.props.value.refname:"";return f.default.createElement("div",{className:"form-display-content",title:e},e)}}]),t}(p.Component),_=function(e){function t(e){(0,i.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.showValue=function(){var e=a.props,t=e.options,n=e.value,l=t.find((function(e){return e.value===n}));return l?l.text:""},a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.showValue();return f.default.createElement("div",{className:"form-display-content",title:e},e)}}]),t}(p.Component),T=function(e){function t(e){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.checked?(0,k.langCheck)("0000PUB-000009"):(0,k.langCheck)("0000PUB-000010");return f.default.createElement("div",{className:"form-display-content",title:e},e)}}]),t}(p.Component);t.FormContent=function(e){function t(e){(0,i.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.createComponent=function(e,t){var n=a.props.form.getFieldDecorator,l=e.type,o=void 0===l?"string":l,r=e.isRequired,i=void 0!==r&&r,s=e.label,c=void 0===s?"":s,d=e.code,u=e.isedit,p=void 0!==u&&u,g=e.check,C=e.len,P=e.initialValue;switch(o){case"string":return f.default.createElement(A,{className:"form-item margin-bottom-8",colon:!p,label:c},n(d,{initialValue:P,rules:[{type:"string",message:""+c+(0,k.langCheck)("0000PUB-000015")+"-string"},{required:i&&p,whitespace:!0,message:""+c+(0,k.langCheck)("0000PUB-000016")},{len:C,message:""+c+(0,k.langCheck)("0000PUB-000017")+C},{validator:g||function(e,t,a){a()}}]})(p?f.default.createElement(v.default,{form:a.props.form,fieldid:e.fieldid||d}):f.default.createElement(D,null)));case"refer":return f.default.createElement(A,{className:"form-item margin-bottom-8",colon:!p,label:c},n(d,{initialValue:P,rules:[{required:i&&p,validator:i?function(e,t,a){t&&t.refname?a():a(""+c+(0,k.langCheck)("0000PUB-000016"))}:function(e,t,a){a()}},{type:"object",message:""+c+(0,k.langCheck)("0000PUB-000015")+"-object",validator:null}]})(p?f.default.createElement(b.default,{form:a.props.form,options:e.options,fieldid:e.fieldid||d}):f.default.createElement(x,null)));case"select":return f.default.createElement(A,{className:"form-item margin-bottom-8",colon:!p,label:c},n(d,{initialValue:P,rules:[{type:"string",message:""+c+(0,k.langCheck)("0000PUB-000015")+"-string",validator:null},{required:i&&p,message:""+c+(0,k.langCheck)("0000PUB-000016")}]})(p?f.default.createElement(y.default,{form:a.props.form,placeholder:""+(0,k.langCheck)("0000PUB-000018")+c,options:e.options,fieldid:e.fieldid||d}):f.default.createElement(_,{options:e.options})));case"checkbox":return f.default.createElement(A,{colon:!p,label:c,className:"form-item margin-bottom-8"},n(d,{initialValue:P,valuePropName:"checked"})(p?f.default.createElement(w,{disabled:!p}):f.default.createElement(T,null)));case"chooseImage":return f.default.createElement(A,{label:c},n(d,{initialValue:P,rules:[{required:i&&p,message:(0,k.langCheck)("0000PUB-000011")}]})(f.default.createElement(h.default,{form:a.props.form,isedit:p,data:e.options,title:p?(0,k.langCheck)("0000PUB-000012"):(0,k.langCheck)("0000PUB-000013")})));case"chooseIcon":return f.default.createElement(A,{label:c},n(d,{initialValue:P,rules:[{required:i&&p,message:(0,k.langCheck)("0000PUB-000011")}]})(f.default.createElement(m.default,{form:a.props.form,isedit:p,data:e.options,title:p?(0,k.langCheck)("0000PUB-000012"):(0,k.langCheck)("0000PUB-000013")})))}},a.createFormItem=function(){return a.props.formData.map((function(e,t){var n=e.xs,l=void 0===n?24:n,r=e.md,i=void 0===r?12:r,s=e.lg,c=void 0===s?12:s,d=e.xl,u=void 0===d?8:d,p=e.code,g=e.hidden;return!0===(void 0!==g&&g)?null:f.default.createElement(o.default,{xs:l,md:i,lg:c,xl:u,key:p,fieldid:e.fieldid||p},a.createComponent(e,t))}))},a.history,a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(){this.history=this.props.datasources}},{key:"componentDidMount",value:function(){this.props.form.setFieldsValue(this.props.datasources)}},{key:"componentDidUpdate",value:function(){g.default.isEqual(this.props.datasources,this.history)||this.props.form.setFieldsValue(this.props.datasources)}},{key:"render",value:function(){return f.default.createElement(E,{fieldid:this.props.fieldid,areaCode:E.config.FORM},f.default.createElement(u.default,{layout:"inline"},f.default.createElement(l.default,null,this.createFormItem())))}}]),t}(p.Component),t.dataDefaults=function(e,t){if("{}"!=(0,n.default)(t)){var a={};return t.map((function(t){e.hasOwnProperty(t.code)&&(a[t.code]=e[t.code])})),a}console.error((0,k.langCheck)("0000PUB-000014"))}},974:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cellNonempty=t.cellValue=void 0;var n=a(919);t.cellValue=function(e){var t=e.type,a=e.value,l=void 0===a?"":a,o=e.options,r=e.cellMark;switch(t){case"string":return l;case"select":var i=o.find((function(e){return e.value===l}));return i&&i.text;case"multiString":var s=(0,n.getLangCode)("langCode"),c=o.find((function(e){return e.languageCode==s}));return c&&l[""+r+c.index].value;default:return l}},t.cellNonempty=function(e){return!(e&&!(e&&e.length<1))}},975:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(21)),o=u(a(5)),r=u(a(7)),i=u(a(4)),s=u(a(6));t.default=function(e){return function(t){return function(a){function u(t){(0,o.default)(this,u);var a=(0,i.default)(this,(u.__proto__||(0,l.default)(u)).call(this,t));return a.showVaryModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pagetemplate",t=arguments[1];a.setState({showVaryModal:!0,flag:e,operate:t})},a.onConfirm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"function"==typeof e&&e(t,a.component,a.state.operate)},a.state={showVaryModal:!1,flag:"pagetemplate"},a}return(0,s.default)(u,a),(0,r.default)(u,[{key:"render",value:function(){var e=this,a=(0,n.default)({showVaryModal:this.showVaryModal},this.props);return c.default.createElement(c.default.Fragment,null,c.default.createElement(t,(0,n.default)({ref:function(t){return e.component=t}},a)),this.state.showVaryModal&&c.default.createElement(d.default,{flag:this.state.flag,close:function(){return e.setState({showVaryModal:!1})},confirm:this.onConfirm}))}}]),u}(c.default.Component)}};var c=u(a(1)),d=u(a(1008));function u(e){return e&&e.__esModule?e:{default:e}}},976:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(21)),l=d(a(5)),o=d(a(7)),r=d(a(4)),i=d(a(6)),s=a(1),c=d(s);function d(e){return e&&e.__esModule?e:{default:e}}a(977);var u=d(a(26)).default.base,p=u.NCButtonGroup,f=u.NCButton,g=u.NCMenu,h=u.NCDropdown,m=function(e){function t(e){(0,l.default)(this,t);var a=(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.createBtn=function(e){return e.map((function(e){if(e.isshow){if("btn"==e.divide)return c.default.createElement(f,{className:"divide-btn",key:e.code,colors:e.type,fieldid:e.fieldid||e.code,disabled:e.disabled,onClick:function(){a.props.onClick(e.code)}},e.name);if("select"==e.divide){var t=c.default.createElement(g,{onClick:function(){a.props.onClick(e.code)}},c.default.createElement(g.Item,{key:"1",fieldid:e.fieldid||e.code},c.default.createElement("div",null,e.name)));return c.default.createElement(h,{overlay:t,trigger:["click"],fieldid:e.dropdownFieldid},c.default.createElement(f,{className:"margin-left-1",key:e.code,colors:e.type,fieldid:e.fieldid||e.code,is_arrow:!0,style:{minWidth:18}},c.default.createElement("i",{className:"iconfont icon-hangcaozuoxiala1"})))}return c.default.createElement(f,{className:"margin-left-6 "+(e.className?e.className:""),key:e.code,colors:e.type,fieldid:e.fieldid||e.code,disabled:e.disabled,onClick:function(){a.props.onClick(e.code)}},e.name)}return null}))},a.createBtnGroup=function(e){if(e.length>0){var t=e.filter((function(e){return e.isshow})),n=a.createBtn(e);return 1===t.length?n:c.default.createElement(p,null,n)}return null},a.createButton=function(e){var t=e.filter((function(e){return e.group})),n=e.filter((function(e){return!e.group}));return c.default.createElement("div",null,c.default.createElement("div",{style:{marginLeft:6}},a.createBtnGroup(t)),a.createBtn(n))},a}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"buttons-component "+(this.props.className?this.props.className:"")},this.createButton(this.props.dataSource))}}]),t}(s.Component);t.default=m},977:function(e,t,a){var n=a(978);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,l);n.locals&&(e.exports=n.locals)},978:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".buttons-component div{display:flex;align-items:center}.buttons-component .ant-btn-group{margin-left:6px}body .divide-btn{margin-left:6px;border-top-right-radius:0;border-bottom-right-radius:0}body .margin-left-1{margin-left:1px;width:18px;border-top-left-radius:0;border-bottom-left-radius:0;display:flex;justify-content:center;align-items:center;padding:0}body .margin-left-1 .iconfont{font-size:12px}",""])},979:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1)),l=a(32),o=i(a(26)),r=i(a(367));function i(e){return e&&e.__esModule?e:{default:e}}var s=o.default.appIcons;t.default=function(e){var t=e.appCode,a=(0,l.getStore)("APPICONSSTORE"),o=(0,l.getStore)("nccIcon")||"";o=o.length?o+"_":o;var i=a&&a[t],c=s&&s[o+i]?s[o+i]:r.default[o]?r.default[o]:r.default.defaultIcon;return n.default.createElement("div",{style:{width:"24px",height:"24px",marginRight:"10px",background:"url("+c+") no-repeat 0px 0px",backgroundSize:"contain"}})}},980:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSearchTreeShow=t.setIsDefaultTem=t.setJson=t.setRoleUserDatas=t.setRoCheckedObjArray=t.setCopyId=t.setNodeKey=t.setTemplateTitleVal=t.setTemplateNameVal=t.setParentIdcon=t.setAppCode=t.setPageCode=t.setSearchValue=t.setTemplatePk=t.setSelectedTemKeys=t.setSelectedKeys=t.setAsyncExpandedKeys=t.setExpandedKeys=t.setExpandedTemKeys=t.setDef1=t.setTreeTemPrintData=t.setTreeTemBillData=t.setTreeData=t.clearData=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(380));t.clearData=function(){return{type:n.CLEARDATA}},t.setTreeData=function(e){return{type:n.SETTREEDATA,data:e}},t.setTreeTemBillData=function(e){return{type:n.SETTREETEMBILLDATA,data:e}},t.setTreeTemPrintData=function(e){return{type:n.SETTREETEMPRINTDATA,data:e}},t.setDef1=function(e){return{type:n.SETDEF1,data:e}},t.setExpandedTemKeys=function(e){return{type:n.EXPANDEDTEMKEYS,data:e}},t.setExpandedKeys=function(e){return{type:n.EXPANDEDKEYS,data:e}},t.setAsyncExpandedKeys=function(e){return{type:n.ASYNCEXPANDEDKEYS,data:e}},t.setSelectedKeys=function(e){return{type:n.SELECTEDKEYS,data:e}},t.setSelectedTemKeys=function(e){return{type:n.SELECTEDTEMKEYS,data:e}},t.setTemplatePk=function(e){return{type:n.TEMPLATEPK,data:e}},t.setSearchValue=function(e){return{type:n.SEARCHVALUE,data:e}},t.setPageCode=function(e){return{type:n.PAGECODE,data:e}},t.setAppCode=function(e){return{type:n.APPCODE,data:e}},t.setParentIdcon=function(e){return{type:n.PARENTIDCON,data:e}},t.setTemplateNameVal=function(e){return{type:n.TEMPLATENAMEVAL,data:e}},t.setTemplateTitleVal=function(e){return{type:n.TEMPLATETITLEVAL,data:e}},t.setNodeKey=function(e){return{type:n.NODEKEY,data:e}},t.setCopyId=function(e){return{type:n.COPYID,data:e}},t.setRoCheckedObjArray=function(e){return{type:n.ROCHECKEDOBJARRAY,data:e}},t.setRoleUserDatas=function(e){return{type:n.ROLEUSERDATAS,data:e}},t.setJson=function(e){return{type:n.JSON,data:e}},t.setIsDefaultTem=function(e){return{type:n.ISDEFAULTTEM,data:e}},t.setSearchTreeShow=function(e){return{type:n.SETSEARCHTREESHOW,data:e}}},982:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSelectedPageInfo=t.setLangJson=t.setPageActiveKey=t.setOptype=t.setSelectedKeys=t.setExpandedKeys=t.setIsEdit=t.setIsNew=t.setAppParamData=t.setPageTemplateData=t.setPageButtonData=t.setNodeData=t.setNodeInfo=t.setTreeData=t.clearData=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(383));t.clearData=function(){return{type:n.CLEARDATA}},t.setTreeData=function(e){return{type:n.SETTREEDATA,data:e}},t.setNodeInfo=function(e){return{type:n.SETNODEINFO,data:e}},t.setNodeData=function(e){return{type:n.SETNODEDATA,data:e}},t.setPageButtonData=function(e){return{type:n.PAGEBUTTONDATA,data:e}},t.setPageTemplateData=function(e){return{type:n.PAGETEMPLATEDATA,data:e}},t.setAppParamData=function(e){return{type:n.APPPARAMDATA,data:e}},t.setIsNew=function(e){return{type:n.ISNEW,data:e}},t.setIsEdit=function(e){return{type:n.ISEDIT,data:e}},t.setExpandedKeys=function(e){return{type:n.EXPANDEDKEYS,data:e}},t.setSelectedKeys=function(e){return{type:n.SELECTEDKEYS,data:e}},t.setOptype=function(e){return{type:n.OPTYPE,data:e}},t.setPageActiveKey=function(e){return{type:n.PAGEACTIVEKEY,data:e}},t.setLangJson=function(e){return{type:n.LANGJSON,data:e}},t.setSelectedPageInfo=function(e){return{type:n.SETPAGEINFO,data:e}}},983:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(21)),l=f(a(5)),o=f(a(7)),r=f(a(4)),i=f(a(6)),s=a(1),c=f(s),d=f(a(1003)),u=f(a(1004)),p=a(19);function f(e){return e&&e.__esModule?e:{default:e}}a(1005);var g=function(e){function t(e){(0,l.default)(this,t);var a=(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.switchImg=function(e,t){switch(e){case"treeCardTable":return c.default.createElement("div",{className:"CoverPosition-content-treeCardTable"},c.default.createElement("img",{src:u.default}),c.default.createElement("span",null,t("0000PUB-000002")));default:return c.default.createElement("div",{className:"CoverPosition-content"},c.default.createElement("img",{src:d.default}),c.default.createElement("span",null,t("0000PUB-000002")))}},a}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"CoverPosition-container"},this.switchImg(this.props.type,p.langCheck))}}]),t}(s.Component);t.default=g},984:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=P(a(372)),l=P(a(170)),o=P(a(111)),r=P(a(230)),i=P(a(925)),s=P(a(21)),c=P(a(5)),d=P(a(7)),u=P(a(4)),p=P(a(6)),f=a(1),g=P(f),h=a(37),m=a(968),v=a(919),y=P(a(35)),b=a(19),k=a(365),C=P(a(364));function P(e){return e&&e.__esModule?e:{default:e}}function w(e,t){var a=this,n=this.props,l=n.requestUrl,o=n.requestData,r=n.templetData,i=r.pagecode,s=r.appcode,c=r.templetid,d=l||"/nccloud/platform/templet/querypage.do",u=o||{pagecode:i,appcode:s,templetid:c};Array.isArray(u)&&0==u.length||(0,y.default)({url:d,data:u,loading:!0,info:{name:(0,b.langCheck)("ZoneSetting-000028","pages",e),action:(0,b.langCheck)("ZoneSetting-000029","pages",e)},success:function(e){var n=e.data.data;n&&(a.registerComponent(n),a.props.meta.setMeta(n),o&&o.forEach((function(e){n[e.code]&&(n[e.code].position=e.position)})),a.props.updatePreviewData(n),a.setState({reRender:!0},(function(){return t(n)})))}})}a(985);var E=function(e){function t(e){(0,c.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.afterInitTemplate=function(e){if(e){var t=e,s=[],c=a.getTabGirdRelationCode(t),d=t.formrelation,u=t.containerrelation,p=t.formassociatedrelation,f=[],g=[];c&&(0,i.default)(c).forEach((function(e){f=f.concat(e)})),p&&(0,i.default)(p).forEach((function(e){g=g.concat(e.formtabs)}));var h=function(e,t){var n=t.moduletype,l=t.code;"table"!==n&&"form"!==n&&"search"!==n||"form"===n&&d&&t.relationcode in d||"form"===n&&p&&g.includes(e)||(u&&c&&(0,i.default)(u).length&&(0,o.default)(c).includes(e)?s.push({id:l,name:t.name,myAreaType:n,position:t.position,tabGirdRelationCode:c[e],srcAreaCode:e}):f.includes(e)||s.push({id:l,name:t.name,myAreaType:n,position:t.position})),"form"===n&&a.props.form.setFormStatus(l,"edit"),"table"===n&&setTimeout((function(){0==a.props.editTable.getNumberOfRows(l)&&a.props.editTable.addRow(l)}),10)},m=!0,v=!1,y=void 0;try{for(var b,k=(0,l.default)((0,n.default)(t));!(m=(b=k.next()).done);m=!0){var C=b.value,P=(0,r.default)(C,2);h(P[0],P[1])}}catch(e){v=!0,y=e}finally{try{!m&&k.return&&k.return()}finally{if(v)throw y}}s[0]&&s[0].position&&s.sort((function(e,t){return e.position-t.position})),a.setState({all_keys:s})}},a.getTabGirdRelationCode=function(e){var t={},a=!0,o=!1,i=void 0;try{for(var s,c=(0,l.default)((0,n.default)(e));!(a=(s=c.next()).done);a=!0){var d=s.value,u=(0,r.default)(d,2),p=u[0],f=u[1];if("containerrelation"===p){var g=function(e,a){e&&(t.hasOwnProperty(e)||(t[e]=[]),a.map((function(a){t[e]=t[e].concat(a)})))},h=!0,m=!1,v=void 0;try{for(var y,b=(0,l.default)((0,n.default)(f));!(h=(y=b.next()).done);h=!0){var k=y.value,C=(0,r.default)(k,2);g(C[0],C[1])}}catch(e){m=!0,v=e}finally{try{!h&&b.return&&b.return()}finally{if(m)throw v}}}}}catch(e){o=!0,i=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw i}}return t},a.registerComponent=function(e){var t=a.getTabGirdRelationCode(e),n=(0,i.default)(e).filter((function(e){return e&&"form"===e.moduletype})).map((function(e){return e.code})),l=(0,i.default)(e).filter((function(e){return e&&"table"===e.moduletype})).map((function(e){return e.code})),r=(0,i.default)(e).filter((function(e){return e&&"search"===e.moduletype})).map((function(e){return e.code})),s=t&&(0,o.default)(t)||[];s.length&&t&&(0,i.default)(t).forEach((function(e){l=_.differenceBy(l,e)})),n.length&&a.props.use.form.apply(null,n),l.length&&a.props.use.editTable.apply(null,l),s.length&&a.props.use.cardTable.apply(null,s),r.length&&a.props.use.search.apply(null,r)},a.showModalHidden=function(){a.props.setModalVisibel(!1)},a.createDom=function(){var e=a.props,t=e.editTable,n=e.form,l=e.search,o=e.cardTable,r=n.createForm,i=t.createEditTable,s=l.NCCreateSearch,c=o.createCardTable,d=a.state.all_keys,u=[];return d.length&&d.map((function(e,t){switch(e.myAreaType){case"form":u.push(g.default.createElement("div",{className:"viewTemplateArea",key:"form"+t},g.default.createElement("div",{className:"descrip"},g.default.createElement("span",{key:"forms"+t}," ▼ "),""+e.name),r(e.id)));break;case"table":e.tabGirdRelationCode?u.push(g.default.createElement("div",{className:"viewTemplateArea",key:"table"+t,ref:""+e.id},g.default.createElement("div",{className:"descrip"},g.default.createElement("span",{key:"tables"+t}," ▼ "),""+e.name),c(e.srcAreaCode))):u.push(g.default.createElement("div",{className:"viewTemplateArea",key:"table"+t,ref:""+e.id},g.default.createElement("div",{className:"descrip"},g.default.createElement("span",{key:"tables"+t}," ▼ "),""+e.name),i(e.id,{})));break;case"search":u.push(g.default.createElement("div",{className:"viewTemplateArea",key:"search"+t},g.default.createElement("div",{className:"descrip"},g.default.createElement("span",{key:"searchs"+t}," ▼ "),""+e.name),s(e.id,{useCache:!1})))}})),u},a.state={all_keys:[],json:{},reRender:!1},a}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,k.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t}),w.call(e,t,e.afterInitTemplate)}})}},{key:"render",value:function(){var e=this.state,t=e.json,a=e.reRender;return g.default.createElement(C.default,{maskClosable:!1,customHeader:(0,b.langCheck)("ZoneSetting-000121","pages",t),visible:this.props.previewVisibel,onOk:this.onOkDialog,onCancel:this.showModalHidden,width:"98%",className:"viewPageTem",footer:null,fieldid:"preview"},a&&this.createDom())}}]),t}(f.Component);E=(0,v.createPage)({})(E),t.default=(0,h.connect)((function(e){return{areaList:e.zoneSettingData.areaList,previewData:e.zoneSettingData.previewData}}),{updatePreviewData:m.updatePreviewData})(E)},985:function(e,t,a){var n=a(986);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,l);n.locals&&(e.exports=n.locals)},986:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".viewPageTem .u-modal-content .u-modal-body{overflow:auto;padding:20px 0}.viewPageTem .u-modal-content .u-modal-body .printContent{padding:20px}.viewPageTem .u-modal-content .u-modal-body .total-table-wrapper>.u-table-content>.u-table-scroll>div:not(.u-table-footer)>.u-table-body{overflow:hidden!important}.viewPageTem .u-modal-content .viewTemplateArea{padding:0 20px}",""])},987:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(928)),l=h(a(17)),o=h(a(21)),r=h(a(5)),i=h(a(7)),s=h(a(4)),c=h(a(6)),d=h(a(2)),u=h(a(14));a(929);var p=h(a(1)),f=a(920),g=a(932);function h(e){return e&&e.__esModule?e:{default:e}}a(1018);h(a(26)).default.base.NCDiv;var m=function(e,t){return p.default.createElement("div",{fieldid:t},e)},v=function(e){var t=e.onResize,a=e.width,n=e.fieldid,l=(0,u.default)(e,["onResize","width","fieldid"]);return a?p.default.createElement(g.Resizable,{width:a,height:0,onResize:t},p.default.createElement("th",l,m(l.children,n))):p.default.createElement("th",l,m(l.children,n))},y=function(e){var t=e.fieldid,a=(0,u.default)(e,["fieldid"]),n=m(e.children,t);return void 0===e.children[2]&&(n=p.default.createElement("div",{fieldid:t},p.default.createElement("span",null," "))),p.default.createElement("td",a,n)};var b=function(e){var t=e.isOver,a=e.connectDragSource,n=e.connectDropTarget,l=(e.moveRow,e.dragRow),o=e.clientOffset,r=e.sourceClientOffset,i=e.initialClientOffset,s=(0,u.default)(e,["isOver","connectDragSource","connectDropTarget","moveRow","dragRow","clientOffset","sourceClientOffset","initialClientOffset"]),c=(0,d.default)({},s.style,{cursor:"move"}),f=s.className;if(t&&i){var g=function(e,t,a,n,l){var o=(a.y-l.y)/2,r=n.y-l.y;return e<t&&r>o?"downward":e>t&&r<o?"upward":void 0}(l.index,s.index,i,o,r);"downward"===g&&(f+=" drop-over-downward"),"upward"===g&&(f+=" drop-over-upward")}return a(n(p.default.createElement("tr",(0,d.default)({},s,{className:f,style:c}))))};b=(0,f.DropTarget)("row",{drop:function(e,t){var a=t.getItem().index,n=e.index;a!==n&&(e.moveRow(a,n),t.getItem().index=n)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),sourceClientOffset:t.getSourceClientOffset()}}))((0,f.DragSource)("row",{beginDrag:function(e){return{index:e.index}}},(function(e,t){return{connectDragSource:e.dragSource(),dragRow:t.getItem(),clientOffset:t.getClientOffset(),initialClientOffset:t.getInitialClientOffset()}}))(b));var k=function(e){function t(e){(0,r.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleResize=function(e){return function(t,n){var o=n.size;a.setState((function(t){var a=t.columns,n=[].concat((0,l.default)(a));return n[e]=(0,d.default)({},n[e],{width:o.width}),{columns:n}}))}},a.state={columns:a.props.columns},a.components={header:{cell:v},body:{cell:y}},e.onRow&&e.onRow().moveRow&&(a.components.body={row:b,cell:y}),a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.dataSource.length>0&&setTimeout((function(){t.setState({scrollHeight:t.tableRef&&t.tableRef.scrollHeight})}),0)}},{key:"render",value:function(){var e=this,t=this.state.columns.map((function(t,a){var n=t.fieldid||t.dataIndex||t.key;return(0,d.default)({},t,{onCell:function(e){return{fieldid:n}},onHeaderCell:function(t){return{width:t.width,fieldid:n,onResize:e.handleResize(a)}}})}));return p.default.createElement("div",{type:"ncdiv",fieldid:this.props.fieldid+"_table",className:"table_resizable_column",ref:function(t){return e.tableRef=t}},p.default.createElement(n.default,(0,d.default)({bordered:!0,scroll:{y:this.state.scrollHeight,x:!0}},this.props,{components:this.components,columns:t})))}}]),t}(p.default.Component);t.default=k},988:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(55)),l=p(a(21)),o=p(a(5)),r=p(a(7)),i=p(a(4)),s=p(a(6));a(131);var c=a(1),d=p(c),u=p(a(989));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.handleChange=function(e){var t=a.props.onChange;t&&t(e)},a.handleMouseEnter=function(){a.setState({visible:!0})},a.handleMouseLeave=function(){a.setState({visible:!1})},a.state={visible:!1},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldError(this.props.id),t=!!e;return d.default.createElement(n.default,{placement:"top",overlayClassName:"tootip-white",visible:this.state.visible&&t,title:e&&e[e.length-1]},d.default.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.default.createElement(u.default,this.props)))}}]),t}(c.Component);t.default=f},989:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l,o=y(a(21)),r=y(a(5)),i=y(a(7)),s=y(a(4)),c=y(a(6)),d=a(1),u=y(d),p=y(a(990)),f=y(a(364)),g=a(32),h=a(19);a(991);var m=y(a(26)),v=y(a(367));function y(e){return e&&e.__esModule?e:{default:e}}var b=m.default.appIcons,k=(l=n=function(e){function t(e){(0,r.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.showModal=function(){a.props.isedit&&a.setState({visible:!0})},a.handleOk=function(e){var t=a.state.value;a.value=t,a.setState({visible:!1},a.triggerChange(t))},a.handleCancel=function(e){var t=a.state,n=t.listData,l=t.value;l=a.value,n=a.updateListData(n,l),a.setState({visible:!1,value:l,listData:n})},a.handleSelect=function(e){var t=a.state,n=t.listData,l=t.value;l=e.value,n=a.updateListData(n,l),a.setState({listData:n,value:l})},a.triggerChange=function(e){var t=a.props.onChange;t&&t(e)},a.updateListData=function(e,t){return e.map((function(e,a){return e.iconList.map((function(e){return e.selected=!1,e.value===t&&(e.selected=!0),e})),e}))},a.state={visible:!1,selected:"",listData:[],value:""},a.value="",a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.data,a=e.value;this.value=a;var n=this.updateListData(t,a);this.setState({listData:n,value:a})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.data,a=e.value;this.value=a;var n=this.updateListData(t,a);this.setState({listData:n,value:a})}},{key:"render",value:function(){var e=this,t=this.state,a=t.listData,n=t.value,l=(0,g.getStore)("nccIcon")||"";return l=l.length?l+"_":l,n||(n=""),u.default.createElement("div",{className:"choose-imgae"},-1===n.indexOf("/")?u.default.createElement("div",{onClick:this.props.isedit?this.showModal:null,className:"choose-btn",style:n.length>0?{background:"url("+(b[l+n]?b[l+n]:v.default[l]?v.default[l]:v.default.defaultIcon)+") 0px 0px /contain no-repeat"}:null},this.props.isedit?u.default.createElement("i",{className:"iconfont icon-tianjiayingyong font-size-80"}):null):u.default.createElement("div",{className:"choose-btn",style:n.length>0?{background:"url("+n+") 0px 0px /contain no-repeat"}:null,onClick:this.props.isedit?this.showModal:null},this.props.isedit?u.default.createElement("i",{className:"iconfont icon-tianjiayingyong font-size-80"}):null),u.default.createElement(f.default,{maskClosable:!1,className:"choose-imgae-modal",width:640,title:this.props.title,visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,cancelText:(0,h.langCheck)("0000PUB-000000"),okText:(0,h.langCheck)("0000PUB-000001"),fieldid:"chooseImage"},u.default.createElement("div",{className:"choose-imgae-container"},a.map((function(t){return u.default.createElement(p.default,{iconListData:t,onSelected:e.handleSelect})})))))}}]),t}(d.Component),n.defaultProps={isedit:!0},l);t.default=k},990:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l,o=f(a(21)),r=f(a(5)),i=f(a(7)),s=f(a(4)),c=f(a(6)),d=a(1),u=f(d),p=a(32);function f(e){return e&&e.__esModule?e:{default:e}}var g=f(a(26)).default.appIcons,h=(l=n=function(e){function t(e){(0,r.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleSelect=function(e){a.props.onSelected(e)},a.createIconList=function(e){var t=(0,p.getStore)("nccIcon")||"";return t=t.length?t+"_":t,e.map((function(e){var n=e.name,l=e.src,o=e.selected;return u.default.createElement("li",{key:l},u.default.createElement("div",{title:n,onClick:function(){a.handleSelect(e)}},-1===l.indexOf("/")?u.default.createElement("div",{className:"icon "+(o?"img-selected":""),style:{background:"url("+g[t+l]+") no-repeat 0px 0px",backgroundSize:"contain"},fieldid:l}):u.default.createElement("img",{width:"80",src:l,alt:n}),u.default.createElement("div",{className:"icon-title"},n)))}))},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props.iconListData,t=e.title,a=e.iconList;return u.default.createElement("div",{className:"choose-imgae-list"},u.default.createElement("div",{className:"title"},t),u.default.createElement("ul",null,this.createIconList(a)))}}]),t}(d.Component),n.defaultProps={isedit:!0},l);t.default=h},991:function(e,t,a){var n=a(992);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,l);n.locals&&(e.exports=n.locals)},992:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,'.choose-imgae .choose-btn{border:1px solid #d9d9d9;width:100px;height:100px;display:flex;justify-content:center;align-items:center;color:#d9d9d9}.choose-imgae .choose-btn .font-size-80{font-size:80px}.choose-imgae .icon-image{height:100%;width:100%}.has-error .choose-imgae .choose-btn{border:1px solid #f5222d}.choose-imgae-modal .u-modal-body{padding:0}.choose-imgae-modal .choose-imgae-container{height:400px;overflow:auto;padding:24px}.choose-imgae-modal .choose-imgae-container .choose-imgae-list{display:flex;justify-content:flex-start;align-items:center;margin-top:20px}.choose-imgae-modal .choose-imgae-container .choose-imgae-list:first-child{margin-top:0}.choose-imgae-modal .choose-imgae-container .choose-imgae-list .title{color:#111;padding:10px}.choose-imgae-modal .choose-imgae-container .choose-imgae-list ul{display:flex;justify-content:flex-start;flex-wrap:wrap}.choose-imgae-modal .choose-imgae-container .choose-imgae-list ul li{margin:6px}.choose-imgae-modal .choose-imgae-container .choose-imgae-list ul li .icon{height:40px;width:40px;overflow:hidden}.choose-imgae-modal .choose-imgae-container .choose-imgae-list ul li .icon-title{line-height:20px;font-size:12px;text-align:center}.choose-imgae-modal .choose-imgae-container .choose-imgae-list .img-selected{font-family:iconfont!important;position:relative;color:#52c41a;font-size:20px;overflow:unset!important}.choose-imgae-modal .choose-imgae-container .choose-imgae-list .img-selected:after{position:absolute;z-index:10;right:-5px;bottom:-5px;content:"\\E689";display:block;height:20px;width:20px;line-height:20px;text-align:center;background-color:#fff;border-radius:9px}',""])},993:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(55)),l=p(a(21)),o=p(a(5)),r=p(a(7)),i=p(a(4)),s=p(a(6));a(131);var c=a(1),d=p(c),u=p(a(994));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.handleMouseEnter=function(){a.setState({visible:!0})},a.handleMouseLeave=function(){a.setState({visible:!1})},a.state={visible:!1},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldError(this.props.id),t=!!e;return d.default.createElement(n.default,{placement:"top",overlayClassName:"tooltip-white",visible:this.state.visible&&t,title:e&&e[e.length-1]},d.default.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.default.createElement(u.default,this.props)))}}]),t}(c.Component);t.default=f},994:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l,o=m(a(111)),r=m(a(21)),i=m(a(5)),s=m(a(7)),c=m(a(4)),d=m(a(6)),u=a(1),p=m(u),f=m(a(364)),g=(a(32),a(19));a(995);m(a(26));var h=m(a(997));!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);t.default=e}(a(233));function m(e){return e&&e.__esModule?e:{default:e}}var v=(l=n=function(e){function t(e){(0,i.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.onChooseBtnClick=function(){a.props.isedit&&a.setState({visible:!0})},a.onOkClick=function(){var e=a.state.value;a.value=e,a.setState({visible:!1},a.triggerChange(e))},a.triggerChange=function(e){a.props.onChange&&a.props.onChange(e)},a.onCancelClick=function(){var e=a.value,t=a.updateIconListData(e);a.setState({visible:!1,value:e,listData:t})},a.getBtnStyle=function(e){return e?{background:"url("+a.findIconSrc(e)+") 0px 0px /contain no-repeat"}:null},a.findIconSrc=function(e){var t=void 0;return a.state.listData.forEach((function(a){a.icons.forEach((function(a){a.key===e&&(t=a.src)}))})),t},a.updateIconListData=function(e){var t,n=a.props.data;return t=(0,o.default)(n).map((function(t,a){var l=n[t]||[];return l=l.map((function(t){var a=t.lastIndexOf("/")+1,n=t.lastIndexOf(".");n=n<0?t.length:n;var l=t.substring(a,n);return{key:l,src:t+(t.lastIndexOf(".")<0?".svg":""),selected:e===l}})),{id:t,name:"defaultmenuimage"===t?(0,g.langCheck)("0000PUB-000379"):(0,g.langCheck)("0000PUB-000380"),icons:l}})),console.log(t),t},a.onSelected=function(e){var t=e.key,n=a.updateIconListData(t);a.setState({listData:n,value:t})},a.state={visible:!1,selected:"",listData:[],value:""},a.value="",a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.value;this.value=e||"";var t=this.updateIconListData(e);this.setState({listData:t,value:e})}},{key:"componentWillReceiveProps",value:function(e){var t=e.value,a=this.updateIconListData(t);this.value=t,this.setState({listData:a,value:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isedit,n=t.title,l=this.state,o=l.value,r=l.visible,i=l.listData;return p.default.createElement("div",{className:"choose-icon"},p.default.createElement("div",{className:"choose-btn",onClick:this.onChooseBtnClick,style:this.getBtnStyle(o)},a?p.default.createElement("i",{className:"iconfont icon-tianjiayingyong font-size-80"}):null),p.default.createElement(f.default,{className:"choose-icon-modal",maskClosable:!1,width:640,title:n,visible:r,onOk:this.onOkClick,onCancel:this.onCancelClick,okText:(0,g.langCheck)("0000PUB-000001"),cancelText:(0,g.langCheck)("0000PUB-000000"),fieldid:"chooseIcon"},p.default.createElement("div",{className:"choose-icon-container"},i.map((function(t){return t.icons&&t.icons.length>0?p.default.createElement(p.default.Fragment,null,p.default.createElement("h3",null,t.name),p.default.createElement(h.default,{iconListData:t.icons,onSelected:e.onSelected})):null})))))}}]),t}(u.Component),n.defaultProps={isedit:!0},l);t.default=v},995:function(e,t,a){var n=a(996);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,l);n.locals&&(e.exports=n.locals)},996:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,'.choose-icon .choose-btn{border:1px solid #d9d9d9;width:100px;height:100px;display:flex;justify-content:center;align-items:center;color:#d9d9d9}.choose-icon .font-size-80{font-size:80px}.choose-icon-list{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;overflow:auto}.choose-icon-list li{padding:10px;width:20%;text-align:center}.choose-icon-list .icon{margin:0 auto;width:50px;height:50px;border:1px solid #d9d9d9}.choose-icon-list .icon.selected{font-family:iconfont!important;position:relative;color:#52c41a;font-size:20px;overflow:unset}.choose-icon-list .icon.selected:after{position:absolute;z-index:10;right:-5px;bottom:-5px;content:"\\E689";display:block;height:20px;width:20px;line-height:20px;text-align:center;background-color:#fff;border-radius:9px}',""])},997:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(21)),l=d(a(5)),o=d(a(7)),r=d(a(4)),i=d(a(6)),s=a(1),c=d(s);function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){(0,l.default)(this,t);var a=(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.onSelect=function(e){a.props.onSelected(e)},a.renderIconList=function(){return a.props.iconListData.map((function(e){var t=e.key,n=e.src,l=e.selected;return c.default.createElement("li",{key:t},c.default.createElement("div",{className:["icon",l?"selected":""].join(" "),style:{background:"url("+n+") no-repeat 0 0",backgroundSize:"contain"},onClick:function(){a.onSelect(e)},fieldid:n}))}))},a}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement("ul",{className:"choose-icon-list"},this.renderIconList())}}]),t}(s.Component);t.default=u},998:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(55)),l=p(a(109)),o=p(a(21)),r=p(a(5)),i=p(a(7)),s=p(a(4)),c=p(a(6));a(131),a(130);var d=a(1),u=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,r.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleChange=function(e){var t=a.props.onChange;t&&t(e)},a.handleMouseEnter=function(){a.setState({visible:!0})},a.handleMouseLeave=function(){a.setState({visible:!1})},a.state={visible:!1},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.form.getFieldError(this.props.id),o=!!a;return u.default.createElement(n.default,{placement:"top",overlayClassName:"tootip-white",visible:this.state.visible&&o,title:a&&a[a.length-1]},u.default.createElement("div",{style:{height:"30px"},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement(l.default,{value:t,onChange:this.handleChange,onMouseOut:this.handleMouseOut,onMouseOver:this.handleMouseOver})))}}]),t}(d.Component);t.default=f},999:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(55)),l=u(a(21)),o=u(a(5)),r=u(a(7)),i=u(a(4)),s=u(a(6));a(131);var c=a(1),d=u(c);function u(e){return e&&e.__esModule?e:{default:e}}var p=u(a(26)).default.base.NCSelect,f=p.NCOption,g=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.createOption=function(e){return e.map((function(e,t){return d.default.createElement(f,{title:e.text,key:e.value,value:e.value},e.text)}))},a.handleChange=function(e){var t=a.props.onChange;t&&t(e)},a.handleMouseEnter=function(){a.setState({visible:!0})},a.handleMouseLeave=function(){a.setState({visible:!1})},a.state={visible:!1},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.form,l=e.placeholder,o=a.getFieldError(this.props.id),r=!!o;return d.default.createElement(n.default,{placement:"top",overlayClassName:"tootip-white",visible:this.state.visible&&r,title:o&&o[o.length-1]},d.default.createElement("div",{style:{height:"30px",lineHeight:1},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.default.createElement(p,{value:t,placeholder:l,showClear:!1,fieldid:this.props.fieldid,onChange:this.handleChange},this.createOption(this.props.options))))}}]),t}(c.Component);t.default=g}}]);
//# sourceMappingURL=MobileAppRegister.js.map