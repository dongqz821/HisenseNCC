(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1009:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(920),a=n(926),i=(r=a)&&r.__esModule?r:{default:r};t.default=(0,o.DragDropContext)(i.default)},1010:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSelectedCards=t.setJson=t.initGroups=t.updateLayout=t.updateCurrEditID=t.updateGroupList=t.updateShadowCard=t.clearData=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(389));t.clearData=function(){return{type:r.CLEARDATA}},t.updateShadowCard=function(e){return{type:r.UPDATESHADOWCARD,shadowCard:e}},t.updateGroupList=function(e){return{type:r.UPDATEGROUPLIST,groups:e}},t.updateCurrEditID=function(e){return{type:r.UPDATECURREDITID,currEditID:e}},t.updateLayout=function(e){return{type:r.UPDATELAYOUT,layout:e}},t.initGroups=function(e){return{type:r.INITGROUPS,initialGroups:e}},t.setJson=function(e){return{type:r.JSON,json:e}},t.updateSelectedCards=function(e){return{type:r.UPDATESELECTEDCARDS,selectedCards:e}}},1028:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactLayoutHorizontal=t.compactLayout=void 0;var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r},i=n(1047),s=n(981);var p=function(e){return[].concat(e).sort((function(e,t){return e.gridy>t.gridy||e.gridy===t.gridy&&e.gridx>t.gridx?1:e.gridy===t.gridy&&e.gridx===t.gridx?0:-1}))},d=function(e,t){var n=(0,a.default)({},t);if(0===e.length)return(0,a.default)({},n,{gridy:0});for(;;){var r=(0,i.getFirstCollision)(e,n);if(r)return n.gridy=r.gridy+r.height,n;if(n.gridy--,n.gridy<0)return(0,a.default)({},n,{gridy:0})}},u=(t.compactLayout=function(e,t){for(var n=p(e),r=[],o=Array(e.length),a=0,i=n.length;a<i;a++){var s=d(r,n[a]);r.push(s),o[a]=s}return o},function e(t,n,r){var o=(0,a.default)({},n);return 0===t.length?o:(0,i.getFirstCollision)(t,o)?(o.gridx++,o.gridx+n.width>r&&(o.gridx=0,o.gridy++),e(t,o,r)):o});t.compactLayoutHorizontal=function(e,t,n){for(var r=p(e),o=[],a=Array(e.length),i=[],d=void 0,c=0;c<r.length;c++)n!==r[c].cardid?i.push(r[c]):d=r[c];d&&(d.gridy=Math.min((0,s.layoutBottom)(i),d.gridy));for(var l=0;l<r.length;l++)n!==r[l].cardid&&(r[l].gridy=0,r[l].gridx=0);for(var f=0,h=r.length;f<h;f++){var g=void 0;g=n===r[f].cardid?r[f]:u(o,r[f],t),o.push(g),a[f]=g}return a}},1047:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.layoutCheck=t.getFirstCollision=t.collision=void 0;var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r};var i=t.collision=function(e,t){return e.gridx===t.gridx&&e.gridy===t.gridy&&e.width===t.width&&e.height===t.height||!(e.gridx+e.width<=t.gridx)&&(!(e.gridx>=t.gridx+t.width)&&(!(e.gridy+e.height<=t.gridy)&&!(e.gridy>=t.gridy+t.height)))};t.getFirstCollision=function(e,t){for(var n=0,r=e.length;n<r;n++)if(i(e[n],t))return e[n];return null},t.layoutCheck=function e(t,n,r,o,s){var p=[],d=[];s=s||"gridx";for(var u=t.map((function(e,t){if(e.cardid!==r){if(i(e,n)){p.push(e.cardid);var u=e[s]+1,c=0;c="gridx"===s?e.width:e.height,n[s]>e[s]&&n[s]<e[s]+c&&(u=e[s]);var l=(0,a.default)({},e);return l[s]=u,d.push(l),l}}else if(o===r)return(0,a.default)({},e,n);return e})),c=0,l=d.length;c<l;c++)u=e(u,d[c],p[c],o,s);return u}},1052:function(e,t,n){var r=n(1097);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(13)(r,o);r.locals&&(e.exports=r.locals)},1073:function(e,t,n){e.exports=n.p+"images/background_card.png"},1074:function(e,t,n){e.exports=n.p+"images/background_card_black.png"},1097:function(e,t,n){(e.exports=n(12)(!1)).push([e.i,'.nc-desktop-setting{display:flex;flex-flow:row;height:100%;width:100%;overflow:hidden;border-top:1px solid #eaeaea}.nc-desktop-setting .nc-desktop-setting-content{background:#ddd;flex:1}.nc-desktop-setting .nc-desktop-setting-content .content-anchor{padding-top:2px;margin-left:1px;width:calc(100vw - 380px);height:40px;line-height:40px;display:flex;left:380px;top:45px;position:fixed;overflow-x:auto;overflow-y:hidden;background:#fff}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor{margin-left:5px;padding:0 10px;height:35px}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor a{height:32px;text-align:center;white-space:nowrap;color:#474d54}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor a:hover{color:#dd3730}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor .active{color:#dd3730;position:relative}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor .active span{display:flex;justify-content:center}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor .active span:after{content:"";display:block;width:100%;height:2px;background:#dd3730;border-radius:4px;position:relative;bottom:4px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container{padding:5px 10px 20px;margin-top:40px;height:calc(100vh - 142px);overflow-y:auto}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-add{width:100%;border:1px solid rgba(78,89,104,.25);background:#fff}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item{width:100%;margin-bottom:10px;cursor:move;position:relative;transition:all .2s ease-out;min-width:500px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container{padding:5px 0 0 1px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit{display:flex;justify-content:space-between;align-items:center;background:#fff;border-radius:3px;margin:0 10px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit i{cursor:pointer}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-left{display:flex;align-items:center;position:relative}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-left .group-item-title{cursor:pointer;line-height:22px;padding-left:10px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-left i{font-size:19px;margin-top:3px;margin-left:7px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-left i:hover{color:#111}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-right{display:flex}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-right .iconfont{font-size:19px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-right .group-item-title-edit{padding:1px 0;margin-right:5px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-right .group-item-title-edit:hover{color:#111}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-right .group-item-title-not-edit{color:#d4d4d4;margin-right:7px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card-shadow{background:#cccfdd;position:absolute;border-radius:3px;transition:all .2s ease-out}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card{background:#fff;position:absolute;border:1px solid #f1f1f1;border-radius:3px;transition:all .2s ease-out}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card>div{padding-top:10px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card .card-mid{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:107px;height:103px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card .card-footer{display:flex;justify-content:space-between;position:absolute;height:35px;width:100%;padding:7px 8px;bottom:0;background:#f2f2f2}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card .card-footer .card-delete{font-size:19px;line-height:23px;cursor:pointer}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card .card-footer .card-delete:hover{color:#111}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-add{margin:0 10px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-scroll-wrap:last-child{margin-bottom:calc(100vh - 468px)}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .edit-group-item{box-shadow:0 0 6px #1890ff}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer{background:#f7f8fa;width:calc(100vw - 380px);height:50px;position:fixed;left:380px;bottom:0;border-top:1px solid #ccc;display:flex;justify-content:flex-end;align-items:center}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .footer-left,.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .footer-right{display:flex;margin-right:20px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .footer-right button{margin-left:6px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .button-app-wrapper{margin-right:20px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .button-app-wrapper.group-btns .u-button:first-child:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .button-app-wrapper.group-btns .u-button:not(:first-child):not(:last-child){border-radius:0}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .button-app-wrapper.group-btns .u-button:last-child:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .button-app-wrapper.group-btns .u-button+.u-button{margin-left:-1px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .button-app-wrapper.group-btns .u-button{margin-left:0}.nc-desktop-setting .nc-workbench-home-sider{background:#fff}.nc-desktop-setting .nc-workbench-home-sider .sider-content{margin:10px 5px 15px;padding:1px 8px 0}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search{display:flex;align-items:center}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search .search-input-icon{cursor:pointer}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search .switch-search{margin-left:10px;margin-right:0;font-size:20px!important;cursor:pointer}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search .switch-search .left-icon-sousuo{font-size:20px!important}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search .switch-search:hover{color:red}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search .switch-search-cancel{cursor:pointer;margin-left:10px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search span input{padding-right:45px;border-color:#ccc;box-shadow:none;border-left:none;border-right:none;border-top:none;border-radius:0}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search span input:hover{border-color:#888;box-shadow:none;border-left:none;border-right:none;border-top:none;border-radius:0}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search span i:hover{color:red}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search .sider-search-color .ant-input-suffix .ant-input-search-icon{color:red;font-size:20px!important}.nc-desktop-setting .nc-workbench-home-sider .sider-content .add-item{padding:5px;margin:10px 0;display:flex;justify-content:space-between;align-items:center;background:#fff3dc;height:35px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .add-item span{font-size:12px;color:#de6a1c}.nc-desktop-setting .nc-workbench-home-sider .sider-content .add-item .add{cursor:pointer;font-size:19px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .add-item .cannot-add{visibility:hidden}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result{overflow-y:auto;overflow-x:hidden;height:calc(100vh - 165px)}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .no-result{display:flex;align-items:center;justify-content:center}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .no-result img{margin-top:40px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .no-result-character{text-align:center;color:#888;margin-top:16px;font-size:16px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-header{background:#f4f5f7;height:30px;line-height:30px;margin-bottom:.8em}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-header label{padding:0 4px 0 10px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-header .result-header-name{cursor:pointer;height:40px;display:inline-block;width:305px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-header .result-header-name i{font-size:12px;color:rgba(0,0,0,.25)}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list{width:100%;display:flex;flex-wrap:wrap}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col{width:50%}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item{padding-left:5px;margin-bottom:4px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content{padding:3px 4px;border:1px solid #fff;height:30px;display:flex;align-items:center;position:relative;cursor:pointer}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .triangle-bottom-right{border-bottom-right-radius:3px;border-color:transparent red red transparent;border-style:solid;border-width:4px 6px 6px 9px;bottom:0;height:0;position:absolute;right:0;width:0}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .title{display:flex;justify-content:space-between;align-items:center;width:145px;color:#252525}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .title .title-name{display:block;max-width:100%;flex-shrink:1;font-size:13px;line-height:14px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .isAddColor{color:#007ace}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .iconlocation{position:absolute;top:-5px;right:-2px;font-size:16px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .unSelect{color:#fff}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content:hover{border:1px dashed #c2c2c2}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content:hover .unSelect{color:#ccc}.nc-desktop-setting .nc-workbench-home-sider .sider-content-height{position:relative;z-index:50}.desk-setting-layer{position:fixed;pointer-events:none;z-index:100;left:-20px;top:-20px}.desk-setting-layer .desk-setting-layer-card-list .layer-card{width:135px;height:135px;border:1px solid #ccc;background:#fff;position:absolute;display:flex;align-items:center;justify-content:center}.desk-setting-layer .desk-setting-layer-card-list .layer-card .layer-card-span{position:absolute;background:#fe4343;color:#fff;border-radius:50%;width:30px;height:30px;display:inline-block;text-align:center;line-height:30px}.desk-setting-layer .desk-setting-layer-card-list .bcBlack,.desk-setting-layer .desk-setting-layer-card-list .bcBlack img{background-color:#202125}.sider-search .search-cascader span{font-size:13px;font-weight:700;color:#111}.sider-search .search-cascader input{border:none;border-bottom:1px solid #d0d0d0;border-radius:0}.fixed-search-input .ant-input-suffix .fixed-search-icon-group{line-height:unset}.fixed-search-input .ant-input-suffix .fixed-search-icon-group .icon-qingkong{display:none;font-size:16px!important;padding-right:3px}.fixed-search-input .ant-input-suffix .iconfont:not(.icon-qingkong){display:inline-block;font-size:20px!important;cursor:pointer}.fixed-search-input .ant-input-suffix .ant-input-search-icon{display:none}.fixed-search-input:hover .ant-input-suffix .fixed-search-icon-group .icon-qingkong{display:inline-block;color:rgba(0,0,0,.25);font-size:16px;padding-right:3px}.fixed-search-input:hover .ant-input-suffix .fixed-search-icon-group .icon-qingkong:hover{color:#999;font-size:16px;padding-right:3px}.desk-setting-vertical-center-modal{display:flex;align-items:center;justify-content:center}.desk-setting-vertical-center-modal .ant-modal{top:0}.modal-radio-group .modal-radio{margin-bottom:10px}.ant-dropdown ul.ant-dropdown-menu,.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item{padding:0}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button{-moz-text-align-last:center;text-align-last:center;font-size:13px;background-color:inherit;width:100%;border:none;outline:none;cursor:pointer}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button:focus{border:none}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button:disabled{color:#ccc}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button:hover{background-color:inherit}.ant-dropdown ul.ant-dropdown-menu .all_expand{border-bottom:1px solid #c1c1c1}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item:hover{background-color:#f4f5f7}.all_expand{cursor:pointer;font-weight:700}.all_expand .ant-btn{box-shadow:none!important}.allPack{cursor:not-allowed}.desk-setting-cascader-popup .ant-cascader-menu{width:165px;min-height:390px;overflow-y:auto}.desk-setting-cascader-popup .ant-cascader-menu li{padding-right:25px;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.desk-setting-cascader-popup .ant-cascader-menu li:hover{background:#f5f5f5}',""])},1098:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=S(n(156)),o=S(n(11)),a=S(n(102)),i=S(n(965)),s=S(n(3)),p=S(n(226)),d=S(n(21)),u=S(n(5)),c=S(n(7)),l=S(n(4)),f=S(n(6)),h=S(n(109)),g=S(n(966));n(385),n(923),n(238),n(943),n(944),n(130),n(945);var m=n(1),k=S(m),v=S(n(89)),b=S(n(1099)),y=n(37),w=S(n(35)),C=S(n(26)),x=n(1010),D=S(n(68)),I=S(n(1100)),E=n(981);function S(e){return e&&e.__esModule?e:{default:e}}var _=g.default.Sider,G=h.default.Search,j=C.default.base,N=j.NCDiv,O=j.NCButton,L=function(e){function t(e){(0,u.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.updateAppGroupArr=function(e){n.setState({appGroupArr:e})},n.showModalVisible=function(){n.setModalVisible(!0)},n.setModalVisible=function(e){n.setState({modalVisible:e})},n.onInputChange=function(e){var t=e.target.value;n.state.searchValue=t,n.setState({searchValue:t})},n.handleSearchDel=function(){n.setState({searchValue:""})},n.onInputSearch=function(){if(""!==n.state.searchValue){var e=n.props.relateidObj,t={};t="userID"===e.type?{search_content:n.state.searchValue}:"is_group"===e.type?{search_content:n.state.searchValue,is_group:e.data}:{search_content:n.state.searchValue,pk_responsibility:e.data},(0,w.default)({url:"/nccloud/platform/appregister/searchmenuitem.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000029"]},data:t,loading:!0,success:function(e){var t=e.data,r=t.data,o=t.success;o&&r&&r.children&&r.children.length>0?(r.isShow=!0,r.checkedAll=!1,r.indeterminate=!1,v.default.forEach(r.children,(function(e){e.checked=!1,e.height=Number(e.height),e.width=Number(e.width)})),n.setState({appGroupArr:[r],isAllShow:!0})):r&&r.children&&0===r.children.length?n.setState({appGroupArr:[],isAllShow:!0}):(0,D.default)({status:"error",msg:r})}})}},n.onCascaderChange=function(e){if(!e||0!==e.length){var t=e;if(1!==t.length){var r=n.props.relateidObj,o=t[1],a={};a="userID"===r.type?{own_module:o}:"is_group"===r.type?{own_module:o,is_group:r.data}:{own_module:o,pk_responsibility:r.data};var i=n.props.location&&n.props.location.search;if(i&&-1!==i.indexOf("pk_responsibility")){var s=i.substring(i.indexOf("pk_responsibility")),p=s.substring(s.indexOf("=")+1);a.pk_responsibility=p}else i&&-1!==i.indexOf("is_group=true")&&(a.is_group=!0);(0,w.default)({url:"/nccloud/platform/appregister/queryapplazy.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000030"]},data:a,loading:!0,success:function(t){var r=t.data,o=r.data,a=r.success;a&&o&&o.length>0?(v.default.forEach(o,(function(e){e.isShow=!0,e.checkedAll=!1,e.indeterminate=!1,v.default.forEach(e.children,(function(e){e.checked=!1,e.height=Number(e.height),e.width=Number(e.width)}))})),n.setState({appGroupArr:o,isAllShow:!0,domainModuleSelect:e})):o&&0===o.length?n.setState({appGroupArr:[],isAllShow:!0,domainModuleSelect:e}):(0,D.default)({status:"error",msg:o})}})}}},n.switchSearch=function(){var e=n.state.showSearch;n.setState({showSearch:!e},(function(){n.state.showSearch?(n.refs.searchInput.focus(),n.setState({isAllShow:!0})):n.onCascaderChange(n.state.domainModuleSelect)}))},n.allShowOrHide=function(e){var t=n.state,r=t.appGroupArr;t.isAllShow;v.default.forEach(r,(function(t){t.isShow=e})),n.setState({appGroupArr:r,isAllShow:e})},n.onCheckAllChange=function(e,t){var r=e.target.checked,o=n.state.appGroupArr,a=o[t];a.checkedAll=e.target.checked,a.indeterminate=!1,v.default.forEach(a.children,(function(e){e.checked=r})),n.setState({appGroupArr:o},(function(){n.props.updateSelectedCards((0,E.getCardList)(o))}))},n.onChangeChecked=function(e,t,r){var o=n.state.appGroupArr,a=o[t],i=a.children[r];i.checked=e;var s=0;v.default.forEach(a.children,(function(e){e.checked&&s++})),a.checkedAll=s===a.children.length,a.indeterminate=!!s&&s<a.children.length,n.setState({appGroupArr:o},(function(){n.props.updateSelectedCards((0,E.getCardList)(o,i.value))}))},n.allShowOrHideMenu=function(){return k.default.createElement(p.default,null,k.default.createElement(p.default.Item,{key:"0",className:"all_expand"},k.default.createElement(O,{onClick:function(){n.allShowOrHide(!0)},style:n.state.isAllShow?{cursor:"not-allowed",margin:0}:{cursor:"pointer",fontWeight:"bold",margin:0},disabled:n.state.isAllShow?{disabled:"disabled"}:null,fieldid:"unfold"},n.props.json["DesktopSetting-000036"])),k.default.createElement(p.default.Item,{key:"1"},k.default.createElement(O,{onClick:function(){n.allShowOrHide(!1)},style:n.state.isAllShow?{cursor:"pointer",fontWeight:"bold",margin:0}:{cursor:"not-allowed",margin:0},disabled:n.state.isAllShow?null:{disabled:"disabled"},fieldid:"fold"},n.props.json["DesktopSetting-000037"])))},n.resetSelectedCards=function(){var e=v.default.cloneDeep(n.state.appGroupArr);v.default.forEach(e,(function(e){v.default.forEach(e.children,(function(e){e.checked&&(e.checked=!1)})),e.checkedAll=!1,e.indeterminate=!1})),n.updateAppGroupArr(e)},n.state={showSearch:!1,searchValue:"",appGroupArr:null,modalVisible:!1,isAllShow:!0,domainModuleSelect:[]},n}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.relateidObj,n={};n="userID"===t.type?{}:"is_group"===t.type?{is_group:t.data}:{pk_responsibility:t.data};var r=this.props.location&&this.props.location.search;if(r&&-1!==r.indexOf("pk_responsibility")){var o=r.substring(r.indexOf("pk_responsibility")),a=o.substring(o.indexOf("=")+1);n.pk_responsibility=a}else r&&-1!==r.indexOf("is_group=true")&&(n={is_group:!0});(0,w.default)({url:"/nccloud/platform/appregister/queryapplazy.do",info:{name:this.props.json["DesktopSetting-000004"],action:this.props.json["DesktopSetting-000027"]},data:n,loading:!0,success:function(t){if(t){var n=t.data,r=n.data,o=n.success;if(o&&r&&r.length>0){var a=[r[0].value,r[0].children[0].value];e.onCascaderChange(a),e.setState({domainArr:r,domainModuleSelect:a})}else 0===r.length?(0,D.default)({status:"warning",msg:e.props.json["DesktopSetting-000028"]}):(0,D.default)({status:"error",msg:r})}}})}},{key:"getSearchDom",value:function(){return this.state.showSearch?k.default.createElement("div",{className:"sider-search fixed-search-input"},k.default.createElement("div",{fieldid:"picker"},k.default.createElement(G,(0,s.default)({ref:"searchInput",placeholder:this.props.json["DesktopSetting-000031"],style:{width:"310px"},onChange:this.onInputChange,onSearch:this.onInputSearch,value:this.state.searchValue,suffix:this.state.searchValue.length>0?k.default.createElement("span",{className:"fixed-search-icon-group"},k.default.createElement("i",{className:"iconfont icon-qingkong",onClick:this.handleSearchDel}),k.default.createElement("i",{className:"iconfont icon-sousuo left-icon-sousuo",onClick:this.onInputSearch})):k.default.createElement("i",{className:"iconfont icon-sousuo left-icon-sousuo",onClick:this.onInputSearch}),className:"fieldid_picker_select"},"className",this.state.searchValue.length>0?"sider-search-color":""))),k.default.createElement("span",{className:"switch-search-cancel",onClick:this.switchSearch},this.props.json["DesktopSetting-000009"])):k.default.createElement("div",{className:"sider-search"},k.default.createElement("div",{fieldid:"picker"},k.default.createElement(i.default,{className:"search-cascader",style:{width:"310px"},allowClear:!1,defaultValue:this.state.defaultValue,value:this.state.domainModuleSelect,options:this.state.domainArr,onChange:this.onCascaderChange,placeholder:this.props.json["DesktopSetting-000032"],expandTrigger:"hover",popupClassName:"desk-setting-cascader-popup fieldid_picker_select"})),k.default.createElement("span",{className:"switch-search"},k.default.createElement("i",{title:this.props.json["DesktopSetting-000033"],className:"iconfont icon-sousuo left-icon-sousuo",onClick:this.switchSearch})))}},{key:"getResultDom",value:function(){var e=this;return this.state.appGroupArr&&this.state.appGroupArr.length>0?this.state.appGroupArr.map((function(t,n){return k.default.createElement(N,{className:"result-group-list",key:n,fieldid:t.label,areaCode:N.config.Group},t.label===e.props.json["DesktopSetting-000034"]?"":k.default.createElement("h4",{className:"result-header",fieldid:"result-header"},k.default.createElement(a.default,{checked:t.checkedAll,indeterminate:t.indeterminate,onChange:function(t){e.onCheckAllChange(t,n)}}),k.default.createElement("strong",{style:{fontWeight:"bold"}},k.default.createElement("span",{className:"result-header-name",onClick:function(){e.onChangeShowHide(n)}}," ",t.label," ",t.isShow?k.default.createElement(o.default,{type:"down",className:"arrow-down-icon"}):k.default.createElement(o.default,{type:"right",className:"arrow-right-icon"})))),k.default.createElement("div",{className:"result-app-list",style:{display:t.isShow?"flex":"none"}},t.children.map((function(t,r){return k.default.createElement("div",{className:"app-col",key:r,fieldid:t.label},k.default.createElement("div",{className:"list-item"},k.default.createElement(b.default,{id:t.value,key:t.value,width:t.width,height:t.height,index:r,parentIndex:n,name:t.label,appGroupArr:e.state.appGroupArr,checked:t.checked,onChangeChecked:e.onChangeChecked,updateAppGroupArr:e.updateAppGroupArr,resetSelectedCards:e.resetSelectedCards})))}))))})):this.state.appGroupArr?k.default.createElement("div",{className:"result-group-list"},k.default.createElement("div",{className:"no-result"},k.default.createElement("img",{src:I.default,alt:this.props.json["DesktopSetting-000035"],width:"80",className:"commondataPlaceholder"}),k.default.createElement("br",null)),k.default.createElement("div",{className:"no-result-character"},this.props.json["DesktopSetting-000042"])):k.default.createElement("div",{className:"result-group-list"})}},{key:"onChangeShowHide",value:function(e){var t=this.state.appGroupArr;t[e].isShow=!t[e].isShow,this.setState({appGroupArr:t})}},{key:"hasChechedItem",value:function(){var e=!1,t=this.state.appGroupArr;return v.default.forEach(t,(function(t){if(v.default.forEach(t.children,(function(t){if(t.checked)return e=!0,!1})),e)return!1})),e}},{key:"render",value:function(){var e=this.props.contentHeight,t=(this.state.isAllShow,""),n=this.state.appGroupArr;return n&&n.map((function(e,n){t=e.label})),k.default.createElement(_,{className:"nc-workbench-home-sider",width:380,style:{height:e}},k.default.createElement(N,{className:"sider-content sider-content-height",areaCode:N.config.Area,fieldid:"left"},this.getSearchDom(),k.default.createElement("div",{className:"add-item"},k.default.createElement("span",null,this.props.json["DesktopSetting-000038"]),t===this.props.json["DesktopSetting-000034"]?"":k.default.createElement(r.default,{trigger:["hover"],placement:"bottomCenter",overlay:this.allShowOrHideMenu(),overlayClassName:"fieldid_opr_menu"},k.default.createElement(o.default,{type:"menu-unfold",className:"menu-unfold-icon"}))),k.default.createElement("div",{className:"sider-result"},this.getResultDom())))}}]),t}(m.Component);t.default=(0,y.connect)((function(e){return{json:e.templateDragData.json}}),{updateSelectedCards:x.updateSelectedCards},null,{forwardRef:!0})(L)},1099:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(21)),o=g(n(5)),a=g(n(7)),i=g(n(4)),s=g(n(6)),p=n(1),d=g(p),u=n(920),c=n(926),l=n(37),f=n(1010),h=n(981);function g(e){return e&&e.__esModule?e:{default:e}}var m={beginDrag:function(e,t,n){return{type:"cardlist",cardList:(0,h.getCardList)(e.appGroupArr,e.id)}},endDrag:function(e,t,n){t.didDrop()&&e.resetSelectedCards()}};var k=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onChangeChecked=function(e){var t=e.target.checked,r=n.props,o=r.index,a=r.parentIndex;n.props.onChangeChecked(t,a,o)},n.clickSiderCard=function(){var e=n.props,t=e.index,r=e.parentIndex,o=e.checked;n.props.onChangeChecked(!o,r,t)},n}return(0,s.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.props.connectDragPreview((0,c.getEmptyImage)(),{captureDraggingState:!0})}},{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.checked!==e.checked||(0,h.hasCardContainInGroups)(this.props.groups,this.props.id)!==(0,h.hasCardContainInGroups)(e.groups,this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.groups,r=e.id,o=(e.index,e.name),a=e.checked,i=(e.parentIndex,(0,h.hasCardContainInGroups)(n,r));return t(d.default.createElement("div",null,d.default.createElement("div",{className:"list-item-content",onClick:this.clickSiderCard,style:a?{border:"black"==window.nccColor?"1px dashed #fff":"1px dashed #d4d4d4"}:{border:"black"==window.nccColor?"1px solid #202028":null}},i?d.default.createElement("div",{className:a?"title isAddColor titleChecked":"title isAddColor"},d.default.createElement("span",{className:"title-name"},o)):d.default.createElement("div",{className:a?"title titleChecked":"title"},d.default.createElement("span",{className:"title-name"},o)),a?d.default.createElement("i",{title:this.props.json["DesktopSetting-000039"],className:"iconfont icon-peizhi_tianjia iconlocation",style:{color:"rgb(0, 122, 206)"}}):d.default.createElement("i",{title:this.props.json["DesktopSetting-000040"],className:"iconfont icon-peizhi_tianjia iconlocation unSelect"}),i)))}}]),t}(p.Component),v=(0,u.DragSource)("item",m,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(k);t.default=(0,l.connect)((function(e){return{groups:e.templateDragData.groups,json:e.templateDragData.json}}),{updateGroupList:f.updateGroupList})(v)},1100:function(e,t,n){e.exports=n.p+"images/searchplaceholder.png"},1101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=I(n(38)),o=I(n(134)),a=I(n(135)),i=I(n(2)),s=I(n(21)),p=I(n(5)),d=I(n(7)),u=I(n(4)),c=I(n(6));n(115);var l=n(1),f=I(l),h=I(n(89));n(1052);var g=n(37),m=n(1010),k=n(1047),v=n(1028),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(981)),y=I(n(1102)),w=I(n(1105)),C=I(n(1106)),x=n(172),D=n(19);function I(e){return e&&e.__esModule?e:{default:e}}var E=I(n(26)).default.base.NCDiv,S=function(e){function t(e){(0,p.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.moveCardInGroupItem=function(e,t,r,o){var a=n.props.groups,s=n.props.shadowCard,p=n.props.layout,d=p.margin,u=p.containerWidth,c=p.col,l=p.rowHeight,f=b.calGridXY(r,o,s.width,d,u,c,l),g=f.gridX,m=f.gridY;if(g!==s.gridx||m!==s.gridy){var y=t.index,w=s.cardid;if(!b.checkCardContainInGroup(a[y],w)){h.default.forEach(a,(function(e,t){h.default.remove(e.apps,(function(e){return!0===e.isShadow}))})),s=(0,i.default)({},s,{gridx:g,gridy:m}),a[y].apps.push(s);var C=(0,k.layoutCheck)(a[y].apps,s,s.cardid,s.cardid,"gridx"),x=void 0;x=(0,v.compactLayoutHorizontal)(C,n.props.col,w),a[y].apps=x,n.props.updateShadowCard(s),n.props.updateGroupList(a)}}},n.onCardDropInGroupItem=function(e,t){var r=n.props.groups;r=h.default.cloneDeep(r),b.setPropertyValueForCards(r,"isShadow",!1),h.default.forEach(r,(function(e,t){var o=(0,v.compactLayoutHorizontal)(r[t].apps,n.props.col);r[t].apps=o})),n.props.updateGroupList(r),n.props.updateShadowCard({})},n.onCardListDropInGroupItem=function(e,t){var r=n.props.groups;r=h.default.cloneDeep(r);var o=t.index,a=e.cardList;r[o].apps=h.default.concat(r[o].apps,a),r[o].apps=h.default.uniqBy(r[o].apps,"cardid");var i=(0,v.compactLayoutHorizontal)(r[o].apps,n.props.col);r[o].apps=i,n.props.updateGroupList(r),n.props.onCheckDeduplication(r)},n.moveGroupItem=function(e,t){var r=n.props.groups,o=(r=h.default.cloneDeep(r))[e];r.splice(e,1),r.splice(t,0,o),n.props.updateGroupList(r)},n.onDrop=function(e,t){if(e.type!==t.type){for(var r=n.props.groups,o=void 0,a=void 0,i=void 0,s=void 0,p=0,d=(r=h.default.cloneDeep(r)).length;p<d;p++){r[p].pk_app_group===t.id&&(a=p);for(var u=0,c=r[p].apps.length;u<c;u++){var l=r[p].apps;l[u].cardid===e.id&&(o=l[u],i=u,s=p)}}r[s].apps.splice(i,1),r[a].apps.push(o),n.props.updateGroupList(r)}},n.upGroupItem=function(e){var t=n.props.groups;if(t=h.default.cloneDeep(t),0!==e){var r=t[e-1];t[e-1]=t[e],t[e]=r,n.props.updateGroupList(t)}},n.downGroupItem=function(e){var t=n.props.groups;if(e!==(t=h.default.cloneDeep(t)).length-1){var r=t[e+1];t[e+1]=t[e],t[e]=r,n.props.updateGroupList(t)}},n.deleteGroupItem=function(e){var t=n.props.groups;t=h.default.cloneDeep(t),h.default.remove(t,(function(t){return t.pk_app_group===e})),n.props.updateGroupList(t),n.props.onCheckDeduplication(t)},n.addFirstGroupItem=function(){var e=n.props.groups;e=h.default.cloneDeep(e);var t={pk_app_group:"newGroupItem"+(new Date).getTime(),groupname:""+n.props.json["DesktopSetting-000002"],type:"group",apps:[]};e.push(t),n.props.updateGroupList(e),n.props.updateCurrEditID(t.pk_app_group)},n.addGroupItem=function(e){var t=n.props.groups,r=n.props.json["DesktopSetting-000002"];t=h.default.cloneDeep(t);var o=e,a={pk_app_group:"newGroupItem"+(new Date).getTime(),groupname:n.props.json["DesktopSetting-000002"]+"("+b.getNewGroupItemNum(r,t)+")",type:"group",apps:[]};t.splice(o+1,0,a),n.asyncUpdateGroupList(t).then((function(){x.scroller.scrollTo("a"+a.pk_app_group,{spy:!0,smooth:!0,duration:250,containerId:"nc-workbench-desktop-container"})})),n.props.updateCurrEditID(a.pk_app_group)},n.changeGroupName=function(e,t){var r=n.props.groups;(r=h.default.cloneDeep(r))[e].groupname=t,n.props.updateGroupList(r),n.props.updateCurrEditID("")},n.handleLoad=function(){(0,D.DeferFn)((function(){var e=void 0,t=document.querySelector(".card-container");if(t)e=t.clientWidth;else{var r=document.querySelector("#first-add");if(!r)return;e=r.clientWidth-10}var o=n.props.defaultLayout.calWidth,a=n.props.layout,i=a.containerPadding,s=a.margin,p=h.default.cloneDeep(n.props.layout),d=window.innerWidth-120,u=b.calColCount(o,d,i,s),c=b.calColWidth(e,u,i,s),l=n.props.groups;l=h.default.cloneDeep(l),h.default.forEach(l,(function(e){var t=(0,v.compactLayoutHorizontal)(e.apps,u);e.apps=t})),p.calWidth=p.rowHeight=c,p.col=u,p.containerWidth=e,n.props.updateGroupList(l),n.props.updateLayout(p)}))},n.state={},n}var n;return(0,c.default)(t,e),(0,d.default)(t,[{key:"asyncUpdateGroupList",value:(n=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.updateGroupList(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleLoad)}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.handleLoad),setTimeout((function(){0===e.props.groups.length&&(e.addFirstGroupItem(),document.getElementsByClassName("ant-input")[1].select())}),1500)}},{key:"initGroupItem",value:function(e){var t=this,n=[];return 0===e.length?n.push(f.default.createElement("div",{key:0,className:"first-add",id:"first-add"},f.default.createElement(r.default,{className:"group-item-add",onClick:this.addFirstGroupItem}," ","+ ",this.props.json["DesktopSetting-000001"]))):n=e.map((function(n,r){return f.default.createElement(x.Element,{name:"a"+n.pk_app_group,className:"group-item-scroll-wrap"},f.default.createElement(y.default,{key:n.pk_app_group,id:n.pk_app_group,type:n.type,index:r,cards:n.apps,length:e.length,groupname:n.groupname,moveCardInGroupItem:t.moveCardInGroupItem,onDrop:t.onDrop,onCardDropInGroupItem:t.onCardDropInGroupItem,onCardListDropInGroupItem:t.onCardListDropInGroupItem,moveGroupItem:t.moveGroupItem,upGroupItem:t.upGroupItem,downGroupItem:t.downGroupItem,deleteGroupItem:t.deleteGroupItem,addGroupItem:t.addGroupItem,changeGroupName:t.changeGroupName,getCardsByGroupIndex:t.getCardsByGroupIndex,handleLoad:t.handleLoad,siderComponent:t.props.siderComponent,onCheckDeduplication:t.props.onCheckDeduplication}))})),n}},{key:"render",value:function(){var e=this.props,t=e.groups,n=e.relateidObj;return f.default.createElement(E,{className:"nc-desktop-setting-content",areaCode:E.config.Area,fieldid:"right"},f.default.createElement(w.default,{onCardListDropInGroupItem:this.onCardListDropInGroupItem}),f.default.createElement(x.Element,{className:"nc-workbench-desktop-container",id:"nc-workbench-desktop-container"},this.initGroupItem(t)),f.default.createElement(C.default,{relateidObj:n,unLoadNext:this.props.unLoad,origQueryWorkbenchData:this.props.origQueryWorkbenchData,disableDeduplicate:this.props.disableDeduplicate,duplicateInEditing:this.props.duplicateInEditing,onCheckDeduplication:this.props.onCheckDeduplication}))}}]),t}(l.Component);t.default=(0,g.connect)((function(e){return{groups:e.templateDragData.groups,shadowCard:e.templateDragData.shadowCard,layout:e.templateDragData.layout,defaultLayout:e.templateDragData.defaultLayout,col:e.templateDragData.layout.col,json:e.templateDragData.json}}),{updateGroupList:m.updateGroupList,updateShadowCard:m.updateShadowCard,updateCurrEditID:m.updateCurrEditID,updateLayout:m.updateLayout})(S)},1102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=b(n(21)),a=b(n(5)),i=b(n(7)),s=b(n(4)),p=b(n(6)),d=n(1),u=b(d),c=n(9),l=n(37),f=n(920),h=b(n(1103)),g=b(n(1104)),m=b(n(89)),k=n(1010),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(981));function b(e){return e&&e.__esModule?e:{default:e}}var y=b(n(26)).default.base,w=y.NCDiv,C=y.NCButton,x={hover:function(e,t,n){var r=t.getItem();if("group"===r.type){var o=t.getItem().index,a=e.index;if(o===a)return;var i=(0,c.findDOMNode)(n).getBoundingClientRect(),s=(i.bottom-i.top)/2,p=t.getClientOffset().y-i.top;if(o<a&&p<s)return;if(o>a&&p>s)return;e.moveGroupItem(o,a),t.getItem().index=a}else if("card"===r.type){var d=e,u=t.getClientOffset(),l=u.x,f=u.y,h=(0,c.findDOMNode)(n).getBoundingClientRect(),g=h.left,m=h.top;e.moveCardInGroupItem(r,d,l-g,f-m)}},drop:function(e,t,n){var r=t.getItem(),o=e;"group"===r.type?e.onDrop(r,o):"card"===r.type?e.onCardDropInGroupItem(r,o):"cardlist"===r.type&&e.onCardListDropInGroupItem(r,o)}},D=(0,f.DropTarget)("item",x,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(r=(0,f.DragSource)("item",{beginDrag:function(e,t,n){return{id:e.id,index:e.index,type:e.type}},canDrag:function(e,t){return""===e.currEditID}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(r=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.upGroupItem=function(e){n.props.upGroupItem(e)},n.downGroupItem=function(e){n.props.downGroupItem(e)},n.deleteGroupItem=function(e){n.props.deleteGroupItem(e)},n.addGroupItem=function(){n.props.addGroupItem(n.props.index)},n.changeGroupName=function(e,t){n.props.changeGroupName(e,t)},n.state={},n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=void 0,t=document.querySelector(".card-container");t&&(e=t.clientWidth),this.props.layout.containerWidth!==e&&this.props.handleLoad()}},{key:"createCards",value:function(e,t,n){var r=this,o=[];return m.default.forEach(e,(function(e,a){o.push(u.default.createElement(h.default,{dragCardID:-1,apptype:e.apptype,type:"card",name:e.name,id:e.cardid,groupID:t,groupIndex:n,index:a,gridx:e.gridx,gridy:e.gridy,width:e.width,height:e.height,haspower:e.haspower,isShadow:e.isShadow,isChecked:e.isChecked,key:t+"_"+e.cardid,onCheckDeduplication:r.props.onCheckDeduplication}))})),o}},{key:"render",value:function(){var e=this.props,t=e.isDragging,n=e.connectDragSource,r=e.connectDropTarget,o=(e.isOver,e.groupname),a=e.id,i=e.index,s=(e.length,e.currEditID),p=e.defaultLayout,d=e.layout,c=e.cards,l=v.getContainerMaxHeight(c,d.rowHeight,d.margin),f=t?0:1,h=s===a?"group-item edit-group-item":"group-item",m=s===a?"groupDragID":"";return u.default.createElement(w,{className:h,fieldid:o,areaCode:w.config.Group},n(r(u.default.createElement("div",{style:{opacity:f},id:m},u.default.createElement("div",{className:"group-item-container"},u.default.createElement(g.default,{currEditID:this.props.currEditID,id:this.props.id,cards:this.props.cards,groupname:this.props.groupname,index:this.props.index,length:this.props.length,changeGroupName:this.changeGroupName,deleteGroupItem:this.deleteGroupItem,downGroupItem:this.downGroupItem,upGroupItem:this.upGroupItem,onCardsMove:this.props.onCardListDropInGroupItem,siderComponent:this.props.siderComponent}),u.default.createElement(w,{fieldid:"container",areaCode:w.config.Area,className:"card-container",style:{height:l>p.containerHeight?l:p.containerHeight}},this.createCards(c,a,i))),u.default.createElement("div",{className:"group-add"},u.default.createElement(C,{className:"group-item-add",onClick:this.addGroupItem,fieldid:"addgroup"}," ","+ ",this.props.json["DesktopSetting-000001"]))))))}}]),t}(d.Component))||r)||r;t.default=(0,l.connect)((function(e){return{layout:e.templateDragData.layout,defaultLayout:e.templateDragData.defaultLayout,currEditID:e.templateDragData.currEditID,json:e.templateDragData.json}}),{updateCurrEditID:k.updateCurrEditID})(D)},1103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=y(n(102)),a=y(n(21)),i=y(n(5)),s=y(n(7)),p=y(n(4)),d=y(n(6));n(238);var u=n(1),c=y(u),l=n(920),f=n(37),h=n(1028),g=n(1010),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(981)),k=y(n(89)),v=y(n(1073)),b=y(n(1074));function y(e){return e&&e.__esModule?e:{default:e}}var w={beginDrag:function(e,t,n){var r=m.getCardByGroupIDAndCardID(e.groups,e.groupID,e.id);return r.isShadow=!0,e.updateShadowCard(r),{id:e.id,type:e.type}},endDrag:function(e,t,n){if(!t.didDrop()){var r=e.groups;e.groupIndex;r=k.default.cloneDeep(r),m.setPropertyValueForCards(r,"isShadow",!1),e.updateShadowCard({}),e.updateGroupList(r)}}},C=(0,l.DragSource)("item",w,(function(e){return{connectDragSource:e.dragSource()}}))(r=function(e){function t(e){(0,i.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.deleteCard=function(){var e=n.props,t=e.groups,r=e.groupIndex;t=k.default.cloneDeep(t),m.removeCardByGroupIndexAndCardID(t,r,n.props.id);var o=(0,h.compactLayoutHorizontal)(t[r].apps,n.props.layout.col);t[r].apps=o,n.props.updateGroupList(t),n.props.onCheckDeduplication(t)},n.onCheckboxChange=function(e){var t=n.props,r=t.groups,o=t.groupIndex,a=t.index;r=k.default.cloneDeep(r);var i=e.target.checked;r[o].apps[a].isChecked=i,n.props.updateGroupList(r)},n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.isChecked!==e.isChecked||(!k.default.isEqual(this.props.layout,e.layout)||(this.props.gridx!==e.gridx||this.props.gridy!==e.gridy||this.props.isShadow!==e.isShadow))}},{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.name,r=e.gridx,a=e.gridy,i=e.width,s=e.height,p=e.isShadow,d=e.isChecked,u=e.haspower,l=this.props.layout,f=l.margin,h=l.rowHeight,g=l.calWidth,k=m.calGridItemPosition(r,a,f,h,g),y=k.x,w=k.y,C=m.calWHtoPx(i,s,f,h,g),x=C.wPx,D=C.hPx,I=void 0;if(p)I=c.default.createElement("div",{className:"card-shadow",style:{width:x,height:D,transform:"translate("+y+"px, "+w+"px)"}});else{var E=!1===u?.6:1;I=c.default.createElement("div",{fieldid:n+"_app-item",className:"card",style:{width:x,height:D,opacity:E,transform:"translate("+y+"px, "+w+"px)"}},c.default.createElement("div",{style:{paddingLeft:"10px",color:"#111111"}},n),c.default.createElement("div",{className:"card-mid",fieldid:"logo",alt:"logo",style:{background:"url("+(window.nccColor&&"black"===window.nccColor?b.default:v.default)+") no-repeat",backgroundSize:"contain"}}),c.default.createElement("div",{className:"card-footer"},c.default.createElement(o.default,{checked:d,onChange:this.onCheckboxChange}),c.default.createElement("i",{className:"iconfont icon-shanchu card-delete",onClick:this.deleteCard})))}return t(I)}}]),t}(u.Component))||r;t.default=(0,f.connect)((function(e){return{groups:e.templateDragData.groups,layout:e.templateDragData.layout,json:e.templateDragData.json}}),{updateShadowCard:g.updateShadowCard,updateGroupList:g.updateGroupList})(C)},1104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(930)),o=y(n(55)),a=y(n(134)),i=y(n(135)),s=y(n(21)),p=y(n(5)),d=y(n(7)),u=y(n(4)),c=y(n(6)),l=y(n(109));n(931),n(131),n(130);var f=n(1),h=y(f),g=n(37),m=n(1010),k=y(n(68)),v=y(n(26)),b=(n(981),n(19));function y(e){return e&&e.__esModule?e:{default:e}}var w=v.default.base.NCDiv,C=(l.default.Search,function(e){function t(e){(0,p.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.upGroupItem=function(){n.props.upGroupItem(n.props.index)},n.downGroupItem=function(){n.props.downGroupItem(n.props.index)},n.deleteGroupItem=function(){n.props.deleteGroupItem(n.props.id)},n.getGroupName=function(e){var t=e.target.value;t.length>50&&(t.substring(0,50),t=t.substring(0,50),n.refs.editInputDom.blur(),(0,k.default)({status:"typeError",msg:n.props.json["DesktopSetting-000041"]})),""===t?n.setState({popTitle:n.props.json["DesktopSetting-000017"]}):n.setState({popTitle:n.props.json["DesktopSetting-000016"]}),n.setState({groupName:t,inputValue:t})},n.getBlurPosition=function(e){document.getElementById("groupDragID").setAttribute("draggable",!1)},n.editGroupItemName=function(){n.asyncUpdateCurrEditID(n.props.id).then((function(){n.refs.editInputDom.focus(),n.refs.editInputDom&&n.refs.editInputDom.input&&n.refs.editInputDom.input.select()}))},n.changeGroupName=function(e){e.preventDefault();var t=n.props.index,r=n.state.groupName;""===r?n.setState({popTitle:n.props.json["DesktopSetting-000017"]}):(n.setState({popTitle:n.props.json["DesktopSetting-000016"]}),n.props.changeGroupName(t,r))},n.cancelGroupName=function(){n.props.updateCurrEditID("")},n.handleMoveCard=function(){n.props.onCardsMove({cardList:n.props.selectedCards},{index:n.props.index}),n.props.siderComponent.resetSelectedCards()},n.state={groupName:e.groupname,popTitle:n.props.json["DesktopSetting-000016"],inputValue:e.groupname},n}var n;return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.props.currEditID===this.props.id&&this.editGroupItemName()}},{key:"asyncUpdateCurrEditID",value:(n=(0,i.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.updateCurrEditID(t);case 2:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.groupname!==e.groupname||(this.props.currEditID!==e.currEditID||(this.props.index!==e.index||(this.state.popTitle!==t.popTitle||(this.props.length!==e.length||(this.props.cards!==e.cards||this.state.inputValue!==t.inputValue)))))}},{key:"render",value:function(){var e=this.props,t=e.groupname,n=e.id,a=e.index,i=e.length,s=e.currEditID,p=this.state.inputValue,d=this.props.cards.length>0,u=(0,b.getAutoFlag)();return s===n?h.default.createElement(w,{className:"group-item-title-container-no-edit",fieldid:"title",areaCode:w.config.Area},h.default.createElement("div",{className:"title-left"},h.default.createElement(o.default,{trigger:["hover"],autoAdjustOverflow:!1,getPopupContainer:function(){return document.body},title:this.state.popTitle,placement:"bottomLeft"},h.default.createElement("div",{fieldid:"groupName"},h.default.createElement(l.default,{id:"groupNameID",ref:"editInputDom",size:"small",placeholder:this.props.json["DesktopSetting-000018"],defaultValue:t,onPressEnter:this.changeGroupName,onBlur:this.changeGroupName,onChange:this.getGroupName,value:p,onClick:this.getBlurPosition,draggable:!1}))))):h.default.createElement(w,{className:"group-item-title-container-no-edit",fieldid:"title",areaCode:w.config.Area},h.default.createElement("div",{className:"title-left"},h.default.createElement("span",{className:"group-item-title",onClick:this.editGroupItemName},t),h.default.createElement("div",{className:"group-item-title-edit"},h.default.createElement("i",{title:this.props.json["DesktopSetting-000019"],className:"iconfont icon-bianji",onClick:this.editGroupItemName,style:{fontSize:"19px"}}))),h.default.createElement("div",{className:"title-right"},u&&h.default.createElement("div",{className:"group-item-title-edit"},h.default.createElement("i",{title:"批量添加",className:"iconfont icon-xiayiye",onClick:this.handleMoveCard})),h.default.createElement("div",{className:0===a?"group-item-title-not-edit":"group-item-title-edit"},h.default.createElement("i",{title:this.props.json["DesktopSetting-000020"],className:"iconfont icon-peizhi_up",onClick:this.upGroupItem})),h.default.createElement("div",{className:a===i-1?"group-item-title-not-edit":"group-item-title-edit"},h.default.createElement("i",{title:this.props.json["DesktopSetting-000021"],className:"iconfont icon-peizhi_down",onClick:this.downGroupItem})),h.default.createElement("div",{className:"group-item-title-edit"},d?h.default.createElement(r.default,{title:this.props.json["DesktopSetting-000022"],onConfirm:this.deleteGroupItem,placement:"topRight",okText:this.props.json["DesktopSetting-000015"],cancelText:this.props.json["DesktopSetting-000009"]},h.default.createElement("i",{title:this.props.json["DesktopSetting-000023"],className:"iconfont icon-shanchu"})):h.default.createElement("i",{title:this.props.json["DesktopSetting-000023"],className:"iconfont icon-shanchu",onClick:this.deleteGroupItem}))))}}]),t}(f.Component));t.default=(0,g.connect)((function(e){return{currEditID:e.templateDragData.currEditID,json:e.templateDragData.json,selectedCards:e.templateDragData.selectedCards}}),{updateCurrEditID:m.updateCurrEditID})(C)},1105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=h(n(21)),a=h(n(5)),i=h(n(7)),s=h(n(4)),p=h(n(6)),d=n(1),u=h(d);n(1052);var c=n(920),l=n(37),f=n(172);function h(e){return e&&e.__esModule?e:{default:e}}var g=h(n(26)).default.base.NCDiv,m=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={},n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props.groups;return u.default.createElement(g,{className:"content-anchor",areaCode:g.config.TABS},t.map((function(t,n){return u.default.createElement(k,{onCardListDropInGroupItem:e.props.onCardListDropInGroupItem,key:t.pk_app_group,id:t.pk_app_group,index:n,name:t.groupname})})))}}]),t}(d.Component);t.default=(0,l.connect)((function(e){return{groups:e.templateDragData.groups}}),{})(m);var k=(0,c.DropTarget)("item",{drop:function(e,t,n){var r=t.getItem(),o=e;"cardlist"===r.type&&e.onCardListDropInGroupItem(r,o)},canDrop:function(e,t){return"cardlist"===t.getItem().type}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(r=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={},n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.name!==e.name||(this.props.index!==e.index||this.props.isOver!==e.isOver)}},{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,n=e.isOver,r=e.name,o=e.id;return t(u.default.createElement("span",{className:"anchor",style:{background:n?"rgb(204, 204, 204)":""}},u.default.createElement(f.Link,{activeClass:"active",to:"a"+o,offset:-139,spy:!0,smooth:!0,duration:250,containerId:"nc-workbench-desktop-container"},r,u.default.createElement("span",null))))}}]),t}(d.Component))||r},1106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(n(38)),o=E(n(924)),a=E(n(55)),i=E(n(21)),s=E(n(5)),p=E(n(7)),d=E(n(4)),u=E(n(6)),c=E(n(382)),l=E(n(158));n(115),n(131),n(381),n(400);var f=n(1),h=E(f),g=E(n(89)),m=E(n(35)),k=n(1028),v=n(37),b=n(1010),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(981)),w=E(n(68)),C=n(114),x=n(133),D=n(32),I=E(n(26));function E(e){return e&&e.__esModule?e:{default:e}}var S=l.default.Group,_=(c.default.confirm,I.default.base),G=_.NCDiv,j=_.NCButton,N=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.deleteTargetCards=function(e,t){var r=n.props.groups;r=g.default.cloneDeep(r),y.removeTargetCardsInGroup(r,e,t),g.default.forEach(r,(function(e){var t=(0,k.compactLayoutHorizontal)(e.apps,n.props.col);e.apps=t})),n.props.updateGroupList(r),n.props.onCheckDeduplication(r)},n.getGroupItemNameRadio=function(e){if(e)return h.default.createElement(S,{className:"modal-radio-group",value:n.state.selectedValue,onChange:n.onChangeRadio.bind(n)},e.map((function(e,t){return[h.default.createElement(l.default,{className:"modal-radio",key:e.pk_app_group,value:e.pk_app_group},e.groupname),h.default.createElement("br",null)]})))},n.onChangeRadio=function(e){n.setState({selectedValue:e.target.value})},n.showModalVisible=function(){n.setModalVisible(!0)},n.showModalHidden=function(){n.setModalVisible(!1)},n.setModalVisible=function(e){n.setState({modalVisible:e,selectedValue:0})},n.onOkMoveDialog=function(){var e=n.state.selectedValue;if(0!==e){var t=n.props.groups;t=g.default.cloneDeep(t);var r=[],o=[],a=-1;g.default.forEach(t,(function(t,n){var i=!1;if(t.pk_app_group===e)return a=n,void r.push(t.pk_app_group);var s=g.default.remove(t.apps,(function(e){return e.isChecked&&(i=!0),e.isChecked}));i&&-1===r.indexOf(t.pk_app_group)&&r.push(t.pk_app_group),o=g.default.concat(o,s)})),y.setPropertyValueForCardsInCards(o,"isChecked",!1),y.setPropertyValueForCardsInCards(t[a].apps,"isChecked",!1),y.setGridXGridYMaxInCards(o),t[a].apps=g.default.concat(t[a].apps,o),t[a].apps=g.default.uniqBy(t[a].apps,"cardid"),g.default.forEach(t,(function(e){if(-1!==r.indexOf(e.pk_app_group)&&0!==e.apps.length){var t=(0,k.compactLayoutHorizontal)(e.apps,n.props.col);e.apps=t}})),n.props.updateGroupList(t),n.setModalVisible(!1)}},n.cancleSave=function(){"userID"===n.props.relateidObj.type?n.props.history.push("/"):(self.opener=null,self.close())},n.hasCheckedCardInGroups=function(){},n.getMoveCardButton=function(e,t,r){var o=n.props.groups,a=y.hasCheckedCardInGroups(o);return h.default.createElement(j,{disabled:!a,onClick:r,fieldid:t},e)},n.getExpiredCardButton=function(e,t){var r=n.props.groups,o=y.hasExpiredCardInGroups(r);return h.default.createElement(a.default,{title:n.props.json["DesktopSetting-000003"]},h.default.createElement(j,{fieldid:"clear",disabled:!o,onClick:t,className:"footer-button"},e))},n.saveGroupItemAndCard=function(){var e=[];g.default.forEach(n.props.groups,(function(t,n){var r={groupname:t.groupname,apps:[],position:n};-1===t.pk_app_group.indexOf("newGroupItem")&&(r.pk_app_group=t.pk_app_group),g.default.forEach(t.apps,(function(e){if(-1!==e.cardid.indexOf("_")){var t=e.cardid.split("_");e.cardid=t[0]}r.apps.push({cardid:e.cardid,gridx:e.gridx,gridy:e.gridy})})),e.push(r)}));var t={isuser:n.props.relateidObj.code,data:e},r=n.props.location&&n.props.location.search;if(r&&-1!==r.indexOf("pk_responsibility")){n.props.relateidObj.code="0",t.isuser="0";var o=r.substring(r.indexOf("pk_responsibility")),a=o.substring(o.indexOf("=")+1);t.relateid=a}else r&&-1!==r.indexOf("is_group=true")?(n.props.relateidObj.code="2",t.isuser="2"):"0"===n.props.relateidObj.code&&(t.relateid=n.props.relateidObj.data);window.onbeforeunload=null,(0,m.default)({url:"/nccloud/platform/appregister/setapp.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000005"]},loading:!0,data:t,success:function(e){var t=e.data,r=t.data,o=t.success;o?(setTimeout((function(){"userID"===n.props.relateidObj.type?n.props.history.push("/"):(self.opener=null,self.close())}),1e3),(0,w.default)({status:"success",msg:r})):(0,w.default)({status:"error",msg:r})}})},n.toBeDefault=function(){window.onbeforeunload=null,(0,m.default)({url:"/nccloud/platform/appregister/resetworkbench.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000006"]},data:{relateid:n.props.relateidObj.data},success:function(e){var t=e.data,r=t.data,o=t.success;o?((0,w.default)({status:"success",msg:n.props.json["DesktopSetting-000007"]}),(0,D.setStore)("popupUtilLogout",!0),console.log((0,D.getStore)("popupUtilLogout")),setTimeout((function(){location.reload()}),500)):(0,w.default)({status:"error",msg:r})}})},n.showDefaultConfirm=function(){(0,x.ControlTip)({status:"warning",title:n.props.json["DesktopSetting-000006"],msg:n.props.json["DesktopSetting-000008"],onOk:function(){n.toBeDefault()}})},n.showCancelConfirm=function(){(0,x.ControlTip)({status:"warning",title:n.props.json["DesktopSetting-000009"],msg:n.props.json["DesktopSetting-000010"],onOk:function(){n.cancleSave()}})},n.ajaxDeduplicateCards=function(){var e=n.props.origQueryWorkbenchData;(0,m.default)({url:"/nccloud/platform/appregister/disworkbench.do",info:{},data:e,success:function(e){var t=e.data,r=t.data,o=t.success;o?((0,w.default)({status:"success",msg:n.props.json["DesktopSetting-000048"]}),window.onbeforeunload=null,setTimeout((function(){location.reload()}),500)):(0,w.default)({status:"error",msg:r})}})},n.setDeduplicateCards=function(){var e=n.props.groups,t=new o.default;e=g.default.map(e,(function(e){var r=e.apps,o=[];return g.default.each(r,(function(e){var n=e.cardid;t.get(n)||(t.set(n,e),o.push(e))})),e.apps=(0,k.compactLayoutHorizontal)(o,n.props.col),e})),e=g.default.filter(e,(function(e){return e.apps&&e.apps.length>0})),n.props.updateGroupList(e),n.props.onCheckDeduplication(e)},n.deduplicateCards=function(){n.props.duplicateInEditing;(0,x.ControlTip)({status:"warning",title:n.props.json["DesktopSetting-000049"],msg:n.props.json["DesktopSetting-000050"],onOk:function(){n.setDeduplicateCards()}})},n.clearAll=function(){(0,x.ControlTip)({status:"warning",title:n.props.json["DesktopSetting-000045"],msg:n.props.json["DesktopSetting-000046"],onOk:function(){n.props.updateGroupList([]),n.props.onCheckDeduplication([])}})},n.state={modalVisible:!1,selectedValue:0},n}return(0,u.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.groups,o=(t.initialGroups,this.getGroupItemNameRadio(n)),a="userID"===this.props.relateidObj.type?"block":"none",i=!!g.default.isEqual(this.props.groups,this.props.initialGroups);return h.default.createElement(G,{className:"nc-workbench-home-footer",fieldid:"bottom-area",areaCode:G.config.BOTTOM},h.default.createElement("div",{className:"footer-left button-app-wrapper group-btns"},this.getMoveCardButton(this.props.json["DesktopSetting-000013"],"move",this.showModalVisible),this.getMoveCardButton(this.props.json["DesktopSetting-000012"],"delete",(function(){e.deleteTargetCards("isChecked",!0)}))),h.default.createElement("div",{className:"footer-left button-app-wrapper group-btns"},h.default.createElement(j,{fieldid:"reset",style:{display:a},onClick:this.showDefaultConfirm},this.props.json["DesktopSetting-000006"]),h.default.createElement(j,{fieldid:"deduplicate",disabled:this.props.disableDeduplicate,onClick:this.deduplicateCards},this.props.json["DesktopSetting-000047"]),h.default.createElement(j,{fieldid:"clearAll",disabled:0===n.length,onClick:this.clearAll},this.props.json["DesktopSetting-000044"]),this.getExpiredCardButton(this.props.json["DesktopSetting-000011"],(function(){e.deleteTargetCards("haspower",!1)}))),h.default.createElement("div",{className:"footer-right button-app-wrapper"},h.default.createElement(j,{fieldid:"save",colors:"primary",onClick:this.saveGroupItemAndCard},this.props.json["DesktopSetting-000005"]),i?h.default.createElement(j,{onClick:this.cancleSave,fieldid:"cancel"},this.props.json["DesktopSetting-000009"]):h.default.createElement(j,{onClick:this.showCancelConfirm,fieldid:"cancel"},this.props.json["DesktopSetting-000009"])),h.default.createElement(c.default,{closable:!1,title:this.props.json["DesktopSetting-000014"],mask:!1,wrapClassName:"desk-setting-vertical-center-modal",visible:this.state.modalVisible,onOk:this.onOkMoveDialog,onCancel:this.showModalHidden,footer:[h.default.createElement(r.default,{key:"submit",disabled:0===this.state.selectedValue,type:"primary",onClick:this.onOkMoveDialog},this.props.json["DesktopSetting-000015"]),h.default.createElement(r.default,{key:"back",onClick:this.showModalHidden},this.props.json["DesktopSetting-000009"])]},o))}}]),t}(f.Component);t.default=(0,v.connect)((function(e){return{groups:e.templateDragData.groups,col:e.templateDragData.layout.col,initialGroups:e.templateDragData.initialGroups,json:e.templateDragData.json}}),{updateGroupList:b.updateGroupList})((0,C.withRouter)(N))},1107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=f(n(21)),a=f(n(5)),i=f(n(7)),s=f(n(4)),p=f(n(6)),d=n(1),u=f(d),c=n(920),l=f(n(1108));function f(e){return e&&e.__esModule?e:{default:e}}var h=(0,c.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset(),isDragging:e.isDragging()}}))(r=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.getItemStyles=function(){var e=n.props.clientOffset;if(!e)return{display:"none"};var t="translate("+e.x+"px, "+e.y+"px)";return{transform:t,WebkitTransform:t}},n.state={layerStyle:{display:"none"}},n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"renderItem",value:function(e,t){switch(e){case"item":return t.cardList?u.default.createElement(l.default,{cardListLength:t.cardList.length}):null;default:return null}}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.requestedFrame)}},{key:"getMyItemStyles",value:function(){requestAnimationFrame(this.getItemStyles)}},{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return!(!this.props.item||"cardlist"!==this.props.item.type||this.props.isDragging===e.isDragging)||!!(this.props.item&&"cardlist"===this.props.item.type&&this.props.currentOffset!==e.currentOffset&&e.currentOffset&&Math.pow(Math.pow(this.props.clientOffset.x-e.clientOffset.x,2)+Math.pow(this.props.clientOffset.y-e.clientOffset.y,2),.5)>1.5)}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.itemType;return e.isDragging&&"cardlist"===t.type?navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1||navigator.userAgent.indexOf("Edge")>-1?null:u.default.createElement("div",{className:"desk-setting-layer"},u.default.createElement("div",{style:this.getItemStyles()},this.renderItem(n,t))):null}}]),t}(d.Component))||r;t.default=h},1108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(21)),o=l(n(5)),a=l(n(7)),i=l(n(4)),s=l(n(6)),p=n(1),d=l(p),u=l(n(1073)),c=l(n(1074));function l(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.cardListLength!==e.cardListLength}},{key:"render",value:function(){for(var e=this.props.cardListLength,t=[],n=0;n<e;n++)if(n===e-1){var r=n>=3?3:n;t.push(d.default.createElement("div",{key:n,className:window.nccColor&&"black"===window.nccColor?"bcBlack layer-card":"layer-card",style:{left:5*r+"px",top:5*r+"px"}},d.default.createElement("span",{className:"layer-card-span"},"＋",e),d.default.createElement("img",{src:window.nccColor&&"black"===window.nccColor?c.default:u.default,alt:"logo",width:"107",height:"113"})))}else n<3&&t.push(d.default.createElement("div",{key:n,className:"layer-card",style:{left:5*n+"px",top:5*n+"px"}}));return d.default.createElement("div",{className:"desk-setting-layer-card-list"},t)}}]),t}(p.Component);t.default=f},942:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=C(n(2)),o=C(n(21)),a=C(n(5)),i=C(n(7)),s=C(n(4)),p=C(n(6)),d=n(1),u=C(d),c=C(n(89)),l=C(n(35));n(1052);var f=C(n(1009)),h=C(n(1098)),g=C(n(1101)),m=n(19),k=n(37),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(981)),b=n(1010),y=(C(n(68)),C(n(1107))),w=n(365);function C(e){return e&&e.__esModule?e:{default:e}}var x=C(n(26)).default.base.NCDiv,D=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));n.loadPage=function(e){return(e||window.event).returnValue="",""},n.handleUpdateAppGroups=function(e){e()},n.onCheckDeduplication=function(e){var t=c.default.flattenDeep(c.default.map(e,(function(e){return e.apps})),(function(e){return e.cardid})),r=c.default.uniqBy(t,(function(e){return e.cardid}));n.setState({disableDeduplicate:r.length===t.length,duplicateInEditing:r.length!==t.length})};var r=(0,m.GetQuery)(n.props.location.search),i=v.getRelateidObj(r.pk_responsibility,r.is_group);return n.siderRef=u.default.createRef(),n.state={relateidObj:i,origQueryWorkbenchData:[],disableDeduplicate:!0,duplicateInEditing:!1},n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"componentWillUnmount",value:function(){this.props.clearData(),window.onbeforeunload=null}},{key:"componentWillMount",value:function(){window.onbeforeunload=this.loadPage}},{key:"componentDidMount",value:function(){var e=this;(0,w.getMulti)({moduleId:"DesktopSetting",domainName:"workbench",callback:function(t){e.props.setJson(t)}});var t={isuser:this.state.relateidObj.code};"0"===this.state.relateidObj.code&&(t.relateid=this.state.relateidObj.data);var n=this.props.location&&this.props.location.search;if(n&&-1!==n.indexOf("pk_responsibility")){this.state.relateidObj.code="0",this.setState({relateidObj:(0,r.default)({},this.state.relateidObj,{code:"0"})}),t.isuser="0";var o=n.substring(n.indexOf("pk_responsibility")),a=o.substring(o.indexOf("=")+1);t.relateid=a}else n&&-1!==n.indexOf("is_group=true")&&(t.isuser="2");(0,l.default)({url:"/nccloud/platform/appregister/queryworkbench.do",info:{name:this.props.json["DesktopSetting-000004"],action:this.props.json["DesktopSetting-000024"]},data:t,loading:!0,success:function(t){if(t){var n=t.data,r=n.data,o=n.success;e.setState({origQueryWorkbenchData:r}),o&&r&&r.length>0&&(e.setState({disableDeduplicate:!r[0].isdisplay}),c.default.forEach(r[0].groups,(function(e){e.type="group",c.default.forEach(e.apps,(function(e){e.isShadow=!1,e.isChecked=!1,e.apptype=Number(e.apptype),e.gridx=Number(e.gridx),e.gridy=Number(e.gridy),e.height=Number(e.height),e.width=Number(e.width)}))})),e.props.updateGroupList(r[0].groups),e.props.initGroups(r[0].groups))}}})}},{key:"render",value:function(){return[u.default.createElement(x,{areaCode:x.config.HEADER},u.default.createElement(x,{fieldid:this.props.json["DesktopSetting-000043"],areaCode:x.config.Title})),u.default.createElement("div",{className:"nc-desktop-setting"},u.default.createElement(h.default,(0,r.default)({relateidObj:this.state.relateidObj,ref:this.siderRef},this.props)),u.default.createElement(g.default,{relateidObj:this.state.relateidObj,unLoad:this.loadPage,siderComponent:this.siderRef&&this.siderRef.current,origQueryWorkbenchData:this.state.origQueryWorkbenchData,disableDeduplicate:this.state.disableDeduplicate,duplicateInEditing:this.state.duplicateInEditing,onCheckDeduplication:this.onCheckDeduplication}),u.default.createElement(y.default,null))]}}]),t}(d.Component);t.default=(0,k.connect)((function(e){return{json:e.templateDragData.json}}),{updateGroupList:b.updateGroupList,clearData:b.clearData,initGroups:b.initGroups,setJson:b.setJson})((0,f.default)(D))},981:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCardList=t.hasCardContainInGroups=t.getRelateidObj=t.removeTargetCardsInGroup=t.hasExpiredCardInGroups=t.hasCheckedCardInGroups=t.hasScrolled=t.calWHtoPx=t.calGridXY=t.checkInContainer=t.calGridItemPosition=t.getContainerMaxHeight=t.layoutBottom=t.layoutHorizontalRowLength=t.calColCount=t.calColWidth=t.setGridXGridYMaxInCards=t.getNewGroupItemNum=t.checkCardContainInGroup=t.setPropertyValueForCardsInCards=t.setPropertyValueForCards=t.removeCardByGroupIndexAndCardID=t.removeCardInGroupByCardID=t.getCardByGroupIDAndCardID=t.getGroupIndexByGroupID=t.getGroupByGroupID=void 0;var r,o=n(89),a=(r=o)&&r.__esModule?r:{default:r};t.getGroupByGroupID=function(e,t){var n={};return a.default.forEach(e,(function(e){if(e.pk_app_group===t)return n=e,!1})),n},t.getGroupIndexByGroupID=function(e,t){var n=void 0;return a.default.forEach(e,(function(e,r){if(e.pk_app_group===t)return n=r,!1})),n},t.getCardByGroupIDAndCardID=function(e,t,n){var r={},o={};return a.default.forEach(e,(function(e){if(e.pk_app_group===t)return r=e,!1})),a.default.forEach(r.apps,(function(e){if(e.cardid===n)return o=e,!1})),o},t.removeCardInGroupByCardID=function(e,t){return a.default.remove(e.apps,(function(e){return e.cardid===t}))[0]},t.removeCardByGroupIndexAndCardID=function(e,t,n){var r=t;return a.default.remove(e[r].apps,(function(e){return e.cardid===n}))[0]},t.setPropertyValueForCards=function(e,t,n){a.default.forEach(e,(function(e,r){a.default.forEach(e.apps,(function(e){e[t]=n}))}))},t.setPropertyValueForCardsInCards=function(e,t,n){a.default.forEach(e,(function(e){e[t]=n}))},t.checkCardContainInGroup=function(e,t){var n=!1;return a.default.forEach(e.apps,(function(e){e.cardid===t&&!1===e.isShadow&&(n=!0)})),n},t.getNewGroupItemNum=function e(t,n,r){var o=r||1,i=!1;return a.default.forEach(n,(function(e){if(e.groupname===t+"("+o+")")return i=!0,!1})),i?e(t,n,++o):o},t.setGridXGridYMaxInCards=function(e){a.default.forEach(e,(function(e){e.gridy=999}))},t.calColWidth=function(e,t,n,r){return r?(e-2*n[0]-r[0]*(t+1))/t:(e-2*n[0]-0*(t+1))/t},t.calColCount=function(e,t,n,r){if(r)return Math.floor((t-2*n[0]-r[0])/(e+r[0]))},t.layoutHorizontalRowLength=function(e){for(var t=0,n=void 0,r=0,o=e.length;r<o;r++)(n=e[r].gridx+e[r].width)>t&&(t=n);return t};var i=t.layoutBottom=function(e){for(var t=0,n=void 0,r=0,o=e.length;r<o;r++)(n=e[r].gridy+e[r].height)>t&&(t=n);return t},s=(t.getContainerMaxHeight=function(e,t,n){var r=i(e);return r*t+(r-1)*n[1]+2*n[1]},t.calGridItemPosition=function(e,t,n,r,o){return{x:Math.round(e*o+n[0]*(e+1)),y:Math.round(t*r+n[1]*(t+1))}},t.checkInContainer=function(e,t,n,r){return e+r>n-1&&(e=n-r),e<0&&(e=0),t<0&&(t=0),{gridX:e,gridY:t}});t.calGridXY=function(e,t,n,r,o,a,i){var p=Math.floor(e/o*a),d=Math.floor(t/(i+(r?r[1]:0)));return s(p,d,a,n)},t.calWHtoPx=function(e,t,n,r,o){return{wPx:Math.round(e*o+(e-1)*n[0]),hPx:Math.round(t*r+(t-1)*n[1])}},t.hasScrolled=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vertical";return"vertical"===t?e.scrollHeight>e.clientHeight:"horizontal"===t?e.scrollWidth>e.clientWidth:void 0},t.hasCheckedCardInGroups=function(e){var t=!1;return a.default.forEach(e,(function(e){if(a.default.forEach(e.apps,(function(e){if(!0===e.isChecked)return t=!0,!1})),t)return!1})),t},t.hasExpiredCardInGroups=function(e){var t=!1;return a.default.forEach(e,(function(e){if(a.default.forEach(e.apps,(function(e){if(!1===e.haspower)return t=!0,!1})),t)return!1})),t},t.removeTargetCardsInGroup=function(e,t,n){a.default.forEach(e,(function(e){a.default.remove(e.apps,(function(e){return e[t]===n}))}))},t.getRelateidObj=function(e,t){return e?{data:e,code:"0",type:"responsibility"}:t?{data:Boolean(t),code:"2",type:"is_group"}:{data:"",code:"1",type:"userID"}},t.hasCardContainInGroups=function(e,t){var n=!1;return a.default.forEach(e,(function(e){if(a.default.forEach(e.apps,(function(e){if(e.cardid===t)return n=!0,!1})),n)return!1})),n},t.getCardList=function(e,t){var n=[];return a.default.forEach(e,(function(e,r){a.default.forEach(e.children,(function(e,o){(e.checked||e.value===t)&&n.push({cardid:e.value,width:e.width,height:e.height,name:e.label,isShadow:!1,isChecked:!1,gridx:666+100*r+o,gridy:999})}))})),n}}}]);
//# sourceMappingURL=DesktopSetting.js.map