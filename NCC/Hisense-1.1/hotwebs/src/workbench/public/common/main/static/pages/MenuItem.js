(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1e3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(55)),i=f(n(2)),o=f(n(21)),r=f(n(5)),l=f(n(7)),s=f(n(4)),c=f(n(6));n(131);var u=n(1),d=f(u);function f(e){return e&&e.__esModule?e:{default:e}}var p=n(919).high.Refer,h=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleChange=function(e){var t=n.props.onChange;t&&t(e)},n.handleMouseEnter=function(){n.setState({visible:!0})},n.handleMouseLeave=function(){n.setState({visible:!1})},n.state={visible:!1},n}return(0,c.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.form,o=e.options,r=n.getFieldError(this.props.id),l=!!r;return d.default.createElement(a.default,{placement:"top",overlayClassName:"tootip-white",visible:this.state.visible&&l,title:r&&r[r.length-1]},d.default.createElement("div",{style:{height:"30px"},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.default.createElement(p,(0,i.default)({value:t,fieldid:this.props.fieldid,onChange:this.handleChange},o))))}}]),t}(u.Component);t.default=h},1001:function(e,t,n){var a=n(1002);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(13)(a,i);a.locals&&(e.exports=a.locals)},1002:function(e,t,n){(e.exports=n(12)(!1)).push([e.i,".ant-form-item{display:flex!important}.ant-form-item-label{min-width:150px}.ant-form-item-control-wrapper{flex:1;width:0}.ant-form-item-control-wrapper .form-display-content{height:30px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ant-form-item-control-wrapper .u-checkbox-label{display:initial}.has-error .nc-select.u-select .u-select-selection.u-select-selection--single{border-color:red}",""])},1033:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateLangMulti=t.setGetSelectedTreeDataFun=t.setModalVisible=t.setMenuId=t.updateMenuItemData=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(384));t.updateMenuItemData=function(e){return{type:a.MENUDATA,value:e}},t.setMenuId=function(e){return{type:a.MENUID,value:e}},t.setModalVisible=function(e){return{type:a.VISIBLE,value:e}},t.setGetSelectedTreeDataFun=function(e){return{type:a.GETSELECTEDTREEDATA,value:e}},t.updateLangMulti=function(e){return{type:a.LANGMULTI,value:e}}},1233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=m(n(109)),i=m(n(21)),o=m(n(5)),r=m(n(7)),l=m(n(4)),s=m(n(6)),c=m(n(922));n(130),n(921);var u=n(1),d=m(u),f=m(n(229)),p=n(972),h=n(19);function m(e){return e&&e.__esModule?e:{default:e}}var g=m(n(26)).default.base.NCDiv,v=c.default.TreeNode,k=function(e){function t(e){(0,o.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.onExpand=function(e){n.props.isDisabled||(e=e.concat(["00"]),n.props.setExpandedKeys(e),n.setState({autoExpandParent:!1}))},n.onChange=function(e){var t=e.target.value;n.setState({searchValue:t},(function(){n.props.onSearch(t,n.handleExpanded)}))},n.handleExpanded=function(e){if(n.state.searchValue.length>0){var t=e.map((function(e,t){return e.menuitemcode}));n.props.setExpandedKeys(t)}else n.props.setExpandedKeys(["00"]);n.setState({autoExpandParent:!0})},n.handleSearchDel=function(){n.props.isDisabled||n.setState({searchValue:""},(function(){n.props.onSearch("",n.handleExpanded)}))},n.handleSelect=function(e){0!==e.length&&n.props.setSelectedKeys(e)},n.hanldeDoubleClick=function(e,t){if(!n.props.isDisabled){var a=t.props.refData.menuitemcode,i=n.props.expandedKeys.concat([a]);n.props.setExpandedKeys(i)}},n.state={searchValue:"",autoExpandParent:!1},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.langMultiData,n=this.state,i=n.searchValue,o=n.autoExpandParent,r=[{menuitemname:(0,h.langCheck)("102202MENU-000048",!0,t),menuitemcode:"00",children:(0,p.createTree)(this.props.dataSource,"menuitemcode","parentcode")}];return d.default.createElement(g,{className:"menuitem-tree-search",fieldid:"menuitem",areaCode:g.config.TREE},d.default.createElement("div",{className:"fixed-search-input"},d.default.createElement(a.default,{disabled:this.props.isDisabled,value:i,placeholder:(0,h.langCheck)("102202MENU-000049",!0,t),onChange:this.onChange,suffix:i.length>0?d.default.createElement("span",{className:"fixed-search-icon-group"},d.default.createElement("i",{className:"iconfont icon-qingkong",onClick:this.handleSearchDel}),d.default.createElement("i",{className:"iconfont icon-sousuo"})):d.default.createElement("span",{className:"fixed-search-icon-group"},d.default.createElement("i",{className:"iconfont icon-sousuo"})),fieldid:"search"})),d.default.createElement(g,{className:"tree-content workbench-scroll",fieldid:"menuitem",areaCode:g.config.TreeCom},d.default.createElement(c.default,{showLine:!0,showIcon:!0,onExpand:this.onExpand,expandedKeys:this.props.expandedKeys,selectedKeys:this.props.selectedKeys,onSelect:this.handleSelect,autoExpandParent:o,onDoubleClick:this.hanldeDoubleClick},function t(n){return n.map((function(n){var a=n.menuitemcode,o=n.menuitemname,r=void 0,l=(r="00"===a?""+o:a+" "+o).indexOf(i),s=r.substr(0,l),c=r.substr(l+i.length),u=l>-1?d.default.createElement("span",null,s,d.default.createElement("span",{style:{color:"#f50"}},i),c):d.default.createElement("span",null,r),p=e.props.isDisabled&&n.menuitemcode!==e.props.selectedKeys[0],h="00"===a?"fieldid_"+o+"_node":"fieldid_"+a+"_node";return n.children?d.default.createElement(v,{icon:function(e){var t=e.expanded;return d.default.createElement(f.default,{width:20,height:20,xlinkHref:t?"#icon-wenjianjiadakai":"#icon-wenjianjia"})},switcherIcon:function(e){var t=e.expanded;return d.default.createElement("i",{className:"font-size-18 iconfont "+(t?"icon-shu_zk":"icon-shushouqi")})},key:a,title:u,refData:n,disabled:p,className:h},t(n.children)):d.default.createElement(v,{icon:d.default.createElement("span",{className:"tree-dot"}),key:a,title:u,refData:n,disabled:p,className:h})}))}(r))))}}]),t}(u.Component);t.default=k},1234:function(e,t,n){var a=n(1235);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(13)(a,i);a.locals&&(e.exports=a.locals)},1235:function(e,t,n){(e.exports=n(12)(!1)).push([e.i,".nc-workbench-page .nc-workbench-menuitem{overflow:hidden}.nc-workbench-page .nc-workbench-menuitem .nc-workbench-ownpage-left .menuitem-tree-search{height:100%;display:flex;flex-direction:column}.nc-workbench-page .nc-workbench-menuitem .nc-workbench-ownpage-left .menuitem-tree-search .fixed-search-input{padding:15px 20px;width:100%;display:flex}.nc-workbench-page .nc-workbench-menuitem .nc-workbench-ownpage-left .menuitem-tree-search .fixed-search-input .ant-input-affix-wrapper{width:240px}.nc-workbench-page .nc-workbench-menuitem .nc-workbench-ownpage-left .menuitem-tree-search .fixed-search-input .ant-input-affix-wrapper .ant-input-suffix .fixed-search-icon-group .iconfont{font-size:18px;display:inline-block}.nc-workbench-page .nc-workbench-menuitem .nc-workbench-ownpage-left .menuitem-tree-search .fixed-search-input .ant-input-affix-wrapper .ant-input-suffix .fixed-search-icon-group .icon-qingkong{display:none}.nc-workbench-page .nc-workbench-menuitem .nc-workbench-ownpage-left .menuitem-tree-search .fixed-search-input .ant-input-affix-wrapper:hover .ant-input-suffix .fixed-search-icon-group .iconfont{color:rgba(0,0,0,.65);font-size:18px;display:inline-block}.nc-workbench-page .nc-workbench-menuitem .nc-workbench-ownpage-left .menuitem-tree-search .tree-content{flex:1;padding:0 20px}.nc-workbench-page .nc-workbench-menuitem .nc-workbench-menuitem-form{padding:16px 10px;min-width:300px}.nc-workbench-page .nc-workbench-menuitem .nc-workbench-menuitem-form .ant-form{padding:24px;background:#fbfbfb;border-radius:6px}",""])},956:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=U(n(368)),i=U(n(110)),o=U(n(924)),r=U(n(171)),l=U(n(112)),s=U(n(17)),c=U(n(2)),u=U(n(21)),d=U(n(5)),f=U(n(7)),p=U(n(4)),h=U(n(6));n(369);var m=n(1),g=U(m),v=U(n(0)),k=n(37),b=U(n(89)),y=n(969),w=n(1033),x=n(973),E=U(n(35)),_=n(19),C=U(n(1233)),M=U(n(976)),N=U(n(68)),D=n(379),S=n(365),L=n(19),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(233));function U(e){return e&&e.__esModule?e:{default:e}}n(1234);var I=U(n(26)).default.base.NCDiv,O=function(e){function t(e){(0,d.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.handleBtnClick=function(e){switch(e){case"add":n.add();break;case"edit":var t=n.props.form.getFieldsValue();n.historyData=(0,c.default)({},n.state.fields,t),n.setState({isedit:!0,formData:t,fields:n.historyData});break;case"save":n.save();break;case"cancle":(0,D.CancelPrompts)((function(){n.props.form.resetFields(),n.setState({isedit:!1,isNew:!1,fields:(0,c.default)({},n.historyData),formData:{menuitemcode:n.historyData.menuitemcode,menuitemname:n.historyData.menuitemname,appcodeRef:n.historyData.appcodeRef,menudes:n.historyData.menudes,resid:n.historyData.resid,image_src:n.historyData.image_src}})}));break;case"del":n.del()}},n.add=function(){var e=n.state.fields,t=void 0,a=n.state.opttype;if(""===n.state.parentKey||"00"===n.state.parentKey){var i=n.state.treeData.filter((function(e){return 2===e.menuitemcode.length}));t=""+(i[i.length-1].menuitemcode-0+1)}else{var o=e.children;if(o&&0!==o.length)t=""+(o[o.length-1].menuitemcode-0+1),t=(0,_.Pad)(t,o[o.length-1].menuitemcode.length);else{var r=e;t=r.menuitemcode?r.menuitemcode+"01":"01"}}n.setState({isedit:!0,isNew:!0,fields:{pk_menu:n.state.id,menuitemcode:t,menuitemname:"",menudes:"",resid:"",appcodeRef:{refcode:"",refname:"",refpk:""}},formData:{menuitemcode:"",menuitemname:"",menudes:"",resid:"",appcodeRef:{refcode:"",refname:"",refpk:""}},opttype:a+1})},n.save=function(){var e=n.props.langMultiData,t=n.state,a=t.fields,i=t.isNew,o=t.parentKey;n.props.form.validateFields((function(t){if(!t){var r=n.props.form.getFieldsValue(),l=(0,c.default)({},a,r),u=l.appcodeRef,d=l.menuitemcode,f=l.menuitemname,p=l.menudes,h=l.pk_menu,m=l.resid,g=void 0,v=void 0;i?(g=""===o||"00"===o?{menuitemcode:d,menuitemname:f,menudes:p,pk_menu:h,resid:m}:{menuitemcode:d,menuitemname:f,menudes:p,pk_menu:h,parentcode:o,resid:m},v="/nccloud/platform/appregister/insertappmenuitem.do",a.appcodeRef&&(g.appcode=u.refcode,g.appid=u.refpk)):(v="/nccloud/platform/appregister/editappmenuitem.do",g=(0,c.default)({},l),a.appcodeRef&&(g.appcode=u.refcode,g.appid=u.refpk)),(0,E.default)({url:v,data:g,info:{name:(0,L.langCheck)("102202MENU-000000",!0,e),action:(0,L.langCheck)("102202MENU-000001",!0,e)},success:function(e){var t=e.data.data;if(t){var a=[].concat((0,s.default)(n.state.treeData)),o=void 0;i?(a=n.setMenuTreeDataLevelFlag(b.default.concat(a,t)),o=a[b.default.findIndex(a,(function(e){return e.pk_menuitem===t.pk_menuitem}))]):t.map((function(e){var t=b.default.findIndex(a,(function(t){return t.pk_menuitem===e.pk_menuitem})),n=a[t].flag;e.flag=n,a[t]=e,o=e})),n.setState({isedit:!1,isNew:!1,treeData:a,fields:o},(function(){n.setSelectedKeys([o.menuitemcode]),o.parentcode&&n.setExpandedKeys([o.parentcode])})),(0,N.default)({status:"success",msg:t.msg})}}})}}))},n.del=function(){var e=n.props.langMultiData;(0,D.DelPrompts)((function(){var t=n.state.fields,a=n.state.treeData.filter((function(e){return e.parentcode==t.menuitemcode}));a&&a.length>0?(0,N.default)({status:"warning",msg:(0,L.langCheck)("102202MENU-000038",!0,e)}):(0,E.default)({url:"/nccloud/platform/appregister/deleteappmenuitem.do",data:{pk_menuitem:t.pk_menuitem},info:{name:(0,L.langCheck)("102202MENU-000000",!0,e),action:(0,L.langCheck)("102202MENU-000029",!0,e)},success:function(e){var a=e.data.data;if(a){var i=n.state.treeData;b.default.remove(i,(function(e){return e.pk_menuitem===t.pk_menuitem})),n.setState({isedit:!1,isNew:!1,treeData:i,parentKey:""}),(0,N.default)({status:"success",msg:a.true})}}})}))},n.handleSearch=function(e,t){var a=n.props.langMultiData;(0,_.DeferFn)((function(){(0,E.default)({url:"/nccloud/platform/appregister/searchappmenuitem.do",data:{search_content:e,pk_menu:n.state.id},info:{name:(0,L.langCheck)("102202MENU-000030",!0,a),action:(0,L.langCheck)("102202MENU-000039",!0,a)},success:function(e){var a=e.data,i=a.success,o=a.data;i&&o&&n.setState({treeData:n.setMenuTreeDataLevelFlag(o)},(function(){t(o)}))}})}))},n.setExpandedKeys=function(e){1===e.length&&(e=e.concat(n.state.expandedKeys)),e=(0,l.default)(new r.default(e)),n.setState({expandedKeys:e})},n.setSelectedKeys=function(e){if(!n.treeNodeChange()){var t=e[0];if("00"!==t&&void 0!==t){var a=2===t.length?t:t.slice(0,4);n.queryMenuIcons(a).then((function(){var a=n.state.treeData.find((function(e){return e.menuitemcode===t}));a.menudes||(a.menudes=""),a.resid||(a.resid=""),a.appcodeRef||(a.appcodeRef={refcode:"",refname:"",refpk:""}),a.image_src||(a.image_src=""),n.historyData=(0,c.default)({},a),n.setState({selectedKeys:e,isedit:!1,parentKey:t,fields:(0,c.default)({},a),formData:(0,c.default)({},a),opttype:a.flag})}))}else n.queryMenuIcons("").then((function(){n.setState({selectedKeys:e,isedit:!1,isNew:!1,parentKey:"",fields:n.newFormData,formData:(0,c.default)({},n.newFormData),opttype:-1})}))}},n.treeNodeChange=function(){var e=!0;return n.state.isedit?(0,D.SavePrompts)((function(){n.handleBtnClick("save"),e=!1})):e=!1,e},n.pageBack=function(){window.history.back(-1)},n.setMenuTreeDataLevelFlag=function(e){var t=new o.default;return e.map((function(e){var n=e.menuitemcode,a=e.parentcode;return a?t.set(n,t.get(a)+1):t.set(n,0),e.flag=t.get(n),e}))},n.imgsFun=function(){return P.optimize},n.queryMenuIcons=function(e){return new i.default((function(t){var a=n.props.langMultiData;(0,E.default)({url:"/nccloud/platform/appregister/queryappmenuimage.do",data:{menuitemcode:e},info:{name:(0,L.langCheck)("102202MENU-000030",!0,a),action:(0,L.langCheck)("102202MENU-000051",!0,a)},success:function(e){var a=e.data,i=a.success,o=a.data;i&&o&&(n.setState({menuicons:o}),t())}})}))},n.state={id:"",mt:"",mn:"",parentKey:"",isedit:!1,isNew:!1,expandedKeys:["00"],selectedKeys:["00"],treeData:[],fields:{},formData:{menuitemcode:"",menuitemname:"",menudes:"",appcodeRef:{},resid:""},opttype:-1,menuicons:{}},n.newFormData={menuitemcode:"",menuitemname:"",menudes:"",appcodeRef:{},resid:""},n.historyData,n}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){var e=(0,_.GetQuery)(this.props.location.search),t=e.id,n=e.mn,a=e.mt;this.setState({id:t,mn:n&&"null"!=n?n:"",mt:a-0})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.langMultiData;t["102202MENU-000000"]||(0,S.getMulti)({moduleId:"102202MENU",domainName:"workbench",callback:function(t){e.props.updateLangMulti(t)}}),(0,E.default)({url:"/nccloud/platform/appregister/queryappmenus.do",data:{pk_menu:this.state.id},info:{name:(0,L.langCheck)("102202MENU-000030",!0,t),action:(0,L.langCheck)("102202MENU-000039",!0,t)},success:function(t){var n=t.data,a=n.success,i=n.data;a&&i&&e.setState({treeData:e.setMenuTreeDataLevelFlag(i)},(function(){if(i.length>0){var t=i[0].menuitemcode;e.setSelectedKeys([t])}}))}})}},{key:"render",value:function(){var e=this.props.langMultiData,t=this.state,n=t.treeData,a=t.mn,i=t.mt,o=t.isedit,r=t.isNew,l=t.fields,s=t.expandedKeys,c=t.selectedKeys,u=t.parentKey,d=t.opttype,f=this.state.formData,p=f.menuitemcode,h=f.menuitemname,m=f.appcodeRef,v=f.resid,k=f.menudes,b=f.image_src,w=void 0===b?"":b,E=void 0;r?u.length<=6&&(E=u.length+2):p.length<=6&&(E=p.length);var _=[{code:"menuitemcode",type:"string",label:(0,L.langCheck)("102202MENU-000040",!0,e),isRequired:!0,isedit:o,initialValue:p,len:E,xs:24,md:12,lg:12},{code:"menuitemname",type:"string",label:(0,L.langCheck)("102202MENU-000041",!0,e),isRequired:!0,isedit:o,initialValue:h,xs:24,md:12,lg:12},{type:"refer",code:"appcodeRef",label:(0,L.langCheck)("102202MENU-000042",!0,e),initialValue:m,options:{placeholder:"",refName:(0,L.langCheck)("102202MENU-000042",!0,e),refCode:"appcodeRef",refType:"tree",isTreelazyLoad:!1,onlyLeafCanSelect:!0,queryTreeUrl:"/nccloud/platform/appregister/appregref.do",disabled:this.state.fields.menuitemcode&&this.state.fields.menuitemcode.length<8&&o,columnConfig:[{name:[(0,L.langCheck)("102202MENU-000044",!0,e),(0,L.langCheck)("102202MENU-000045",!0,e)],code:["refcode","refname"]}],isMultiSelectedEnabled:!1},isedit:o,xs:24,md:12,lg:12},{code:"resid",type:"string",label:(0,L.langCheck)("102202MENU-000046",!0,e),isRequired:!1,isedit:o,initialValue:v,xs:24,md:12,lg:12},{code:"menudes",type:"string",label:(0,L.langCheck)("102202MENU-000018",!0,e),isRequired:!1,isedit:o,initialValue:k,xs:24,md:12,lg:12}],N=[{name:(0,L.langCheck)("102202MENU-000047",!0,e),code:"add",type:"primary",group:!0,isshow:(l.menuitemcode&&l.menuitemcode.length<8||""===this.state.parentKey||"00"===this.state.parentKey)&&!o&&!i},{name:(0,L.langCheck)("102202MENU-000000",!0,e),code:"edit",group:!0,isshow:""!==this.state.parentKey&&"00"!==this.state.parentKey&&!o&&!i},{name:(0,L.langCheck)("102202MENU-000029",!0,e),code:"del",group:!0,isshow:""!==this.state.parentKey&&"00"!==this.state.parentKey&&!o&&!i},{name:(0,L.langCheck)("102202MENU-000001",!0,e),code:"save",type:"primary",isshow:o},{name:(0,L.langCheck)("102202MENU-000002",!0,e),code:"cancle",isshow:o}];return 0!==d&&2!==d||_.push({label:"图标路径",type:"chooseIcon",code:"image_src",isRequired:!1,options:this.state.menuicons,hidden:!1,initialValue:w,md:24,lg:12,xl:12,isedit:o}),g.default.createElement(y.PageLayout,{header:g.default.createElement(y.PageLayoutHeader,{pageback:this.pageback},g.default.createElement("div",{className:"pageLayoutHeaderOwn"},g.default.createElement("i",{className:"iconfont icon-danjufanhuiicon",onClick:this.pageBack}),g.default.createElement(I,{fieldid:a,areaCode:I.config.Title},a)),g.default.createElement(M.default,{dataSource:N,onClick:this.handleBtnClick})),className:"nc-workbench-menuitem"},g.default.createElement(y.PageLayoutLeft,null,g.default.createElement(C.default,{isDisabled:this.state.isedit,setExpandedKeys:this.setExpandedKeys,expandedKeys:s,setSelectedKeys:this.setSelectedKeys,selectedKeys:c,onSearch:this.handleSearch,dataSource:n,langMultiData:e})),g.default.createElement(y.PageLayoutRight,{className:"workbench-auto-scroll"},g.default.createElement("div",{className:"nc-workbench-menuitem-form"},""!==this.state.parentKey&&"00"!==this.state.parentKey||r?g.default.createElement(x.FormContent,{datasources:(0,x.dataDefaults)(this.state.formData,_,"code"),form:this.props.form,formData:_,fieldid:"menuitem"}):"")))}}]),t}(m.Component);O.propTypes={menuItemData:v.default.object.isRequired,langMultiData:v.default.object.isRequired,updateLangMulti:v.default.func.isRequired},O=a.default.create()(O),t.default=(0,k.connect)((function(e){return{menuItemData:e.menuRegisterData.menuItemData,langMultiData:e.menuRegisterData.langMultiData}}),{updateLangMulti:w.updateLangMulti})(O)},969:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageLayoutRight=t.PageLayoutLeft=t.PageLayoutHeader=t.PageScrollLayout=t.PageLayout=void 0;var a=d(n(21)),i=d(n(5)),o=d(n(7)),r=d(n(4)),l=d(n(6)),s=n(1),c=d(s),u=d(n(0));function d(e){return e&&e.__esModule?e:{default:e}}n(970);var f=d(n(26)).default.base.NCDiv,p=!1,h=function(e){function t(e){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"handleMouseUp",value:function(){p=!1,console.log(this.test)}},{key:"handleMouseMove",value:function(e){if(p){var t=e.clientX,n=document.querySelector("#layoutLeft"),a=n.getBoundingClientRect().left,i=parseInt(t-a)+3;i<200||(n.style.width=i+"px")}}},{key:"render",value:function(){return c.default.createElement("div",{className:"nc-workbench-page"},this.props.header?this.props.header:null,c.default.createElement("div",{onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this),className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+(this.props.className||"")},this.props.children))}}]),t}(s.Component),m=function(e){function t(e){(0,i.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={suck:!1},n.initScrollContainerTop,n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"handleMouseUp",value:function(){p=!1}},{key:"handleMouseMove",value:function(e){if(p){var t=e.clientX,n=document.querySelector("#layoutLeft"),a=n.getBoundingClientRect().left,i=parseInt(t-a)+3;i<200||(n.style.width=i+"px")}}},{key:"handleScroll",value:function(e){var t=this.refs.ncWorkbenchPageScroll.getBoundingClientRect().y;if(t==this.initScrollContainerTop&&this.setState({suck:!1}),t<this.initScrollContainerTop){if(this.state.suck)return;this.containerWidthChange(),this.setState({suck:!0})}}},{key:"containerWidthChange",value:function(){var e=this.refs.ncWorkbenchPageOwnpage.getBoundingClientRect().width;document.getElementsByClassName("nc-workbench-page-header")[0].style.width=e+"px",document.getElementById("suckTableHeader")&&(document.getElementById("suckTableHeader").style.width=e+"px")}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.containerWidthChange);var e=this.refs.ncWorkbenchPageScroll.getBoundingClientRect().y;this.initScrollContainerTop=e}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.containerWidthChange)}},{key:"render",value:function(){var e=this.state.suck;return c.default.createElement("div",{className:"nc-workbench-page-scroll",onScroll:this.handleScroll.bind(this)},c.default.createElement("div",{className:" nc-workbench-page "},c.default.createElement("div",{className:"nc-workbench-page-container "+(e?"nc-workbench-suck":""),ref:"ncWorkbenchPageScroll"},this.props.header?this.props.header:null,c.default.createElement("div",{onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this),ref:"ncWorkbenchPageOwnpage",className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+(this.props.className||"")},this.props.children))))}}]),t}(s.Component),g=function(e){function t(e){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"handleMouseDown",value:function(){p=!0}},{key:"render",value:function(){return c.default.createElement("div",{id:"layoutLeft",className:"nc-workbench-ownpage-left "+(this.props.className||""),style:this.props.style?this.props.style:{background:"#f6f6f6"}},c.default.createElement("span",{className:"layout-drag-block",onMouseDown:this.handleMouseDown.bind(this)}),this.props.children)}}]),t}(s.Component),v=function(e){function t(e){(0,i.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.handleBindKey=n.handleBindKey.bind(n),n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleBindKey,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleBindKey,!1)}},{key:"handleBindKey",value:function(e){var t=e||window.event||arguments.callee.caller.arguments[0];t&&t.keyCode&&t.shiftKey&&27==t.keyCode&&this.props.pageback&&this.props.pageback()}},{key:"render",value:function(){return c.default.createElement(f,{areaCode:f.config.HEADER,className:"nc-workbench-page-header "+(this.props.className||"")},this.props.children)}}]),t}(s.Component),k=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"nc-workbench-ownpage-right "+(this.props.className||"")},this.props.children)}}]),t}(s.Component);h.propTypes={children:u.default.any.isRequired},g.propTypes={children:u.default.any.isRequired},k.propTypes={children:u.default.any.isRequired},t.PageLayout=h,t.PageScrollLayout=m,t.PageLayoutHeader=v,t.PageLayoutLeft=g,t.PageLayoutRight=k},970:function(e,t,n){var a=n(971);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(13)(a,i);a.locals&&(e.exports=a.locals)},971:function(e,t,n){(e.exports=n(12)(!1)).push([e.i,'.nc-workbench-page{position:absolute;top:0;z-index:10;height:100%;width:100%;padding:8px 0 0;display:flex;flex-direction:column}.nc-workbench-page .nc-workbench-page-header{flex:0 0 45px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #d9d9d9;border-radius:3px 3px 0 0;background:#fff;padding:0 20px}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn{display:flex;align-items:center;font-size:16px;color:#111;font-weight:700}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont{margin-right:16px;border-radius:50%;font-size:16px;padding:0 4px;font-weight:400;line-height:24px;cursor:pointer}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont:hover{background:#e8e8e8}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn img{margin-right:10px}.nc-workbench-page .nc-workbench-page-header .header_in_icon{display:flex;font-weight:700;font-size:16px;color:#111;line-height:24px}.nc-workbench-page .nc-workbench-page-header .header_in_icon span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-ownpage{min-width:800px;height:calc(100% - 61px);border-radius:0 0 3px 3px}.nc-workbench-page .nc-workbench-ownpage-all{display:flex;justify-content:flex-start;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nc-workbench-page .nc-workbench-ownpage-left{position:relative;height:100%;min-width:280px}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block{position:absolute;right:-3px;z-index:10;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:block;padding:0 3px;height:100%;border-radius:3px;cursor:w-resize}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:after{content:"";display:block;width:1px;height:100%;background:#d9d9d9}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:hover:after{width:2px;background:rgba(0,0,0,.54)}.nc-workbench-page .nc-workbench-ownpage-right{min-width:50%;flex:1}.nc-workbench-page-scroll{height:100%;width:100%;overflow-y:auto}.nc-workbench-page-scroll .nc-workbench-page-container{margin-top:0;min-height:100%;background:#fff;border-radius:3px}.nc-workbench-page-scroll .nc-workbench-page-container .nc-workbench-page-header{position:static;transition:top .7s ease;height:46px}.nc-workbench-page-scroll .nc-workbench-page-container .suck-table-header{position:static;transition:top .7s ease}.nc-workbench-page-scroll .nc-workbench-suck{padding-top:80px}.nc-workbench-page-scroll .nc-workbench-suck .nc-workbench-page-header{position:fixed;z-index:1;top:44px}.nc-workbench-page-scroll .nc-workbench-suck .suck-table-header{position:fixed;z-index:1;top:94px}@media screen and (min-width:1280px){.nc-workbench-page{padding:8px 16px}}@media screen and (min-width:1440px){.nc-workbench-page{padding:8px 16px}}@media screen and (min-width:1600px){.nc-workbench-page{padding:8px 16px}}',""])},972:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTree=void 0;var a,i=n(89),o=(a=i)&&a.__esModule?a:{default:a};t.createTree=function(e,t,n){e=o.default.cloneDeep(e);var a=r(e,n),i=a.treeArray,c=a.treeObject;return c=l(c,t),s(i,c,t)};var r=function(e,t){var n=[],a={};return e.map((function(e,i){e[t]?(a.hasOwnProperty(e[t])||(a[e[t]]=[]),a[e[t]].push(e)):n.push(e)})),{treeArray:n,treeObject:a}},l=function(e,t){for(var n in e)e.hasOwnProperty(n)&&(e[n]=s(e[n],e,t));return e},s=function(e,t,n){return e.map((function(e,a){return t.hasOwnProperty(e[n])&&(e.children=t[e[n]]),e}))}},973:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataDefaults=t.FormContent=void 0;var a=w(n(77)),i=w(n(370)),o=w(n(374)),r=w(n(21)),l=w(n(5)),s=w(n(7)),c=w(n(4)),u=w(n(6)),d=w(n(368));n(371),n(375),n(369);var f=n(1),p=w(f),h=w(n(89)),m=w(n(988)),g=w(n(993)),v=w(n(998)),k=w(n(999)),b=w(n(1e3)),y=n(19);function w(e){return e&&e.__esModule?e:{default:e}}n(1001);var x=w(n(26)).default.base,E=x.NCCheckbox,_=x.NCDiv,C=d.default.Item,M=function(e){function t(e){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.value;return p.default.createElement("div",{className:"form-display-content",title:e},this.props.value)}}]),t}(f.Component),N=function(e){function t(e){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.value&&this.props.value.refname?this.props.value.refname:"";return p.default.createElement("div",{className:"form-display-content",title:e},e)}}]),t}(f.Component),D=function(e){function t(e){(0,l.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.showValue=function(){var e=n.props,t=e.options,a=e.value,i=t.find((function(e){return e.value===a}));return i?i.text:""},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.showValue();return p.default.createElement("div",{className:"form-display-content",title:e},e)}}]),t}(f.Component),S=function(e){function t(e){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.checked?(0,y.langCheck)("0000PUB-000009"):(0,y.langCheck)("0000PUB-000010");return p.default.createElement("div",{className:"form-display-content",title:e},e)}}]),t}(f.Component);t.FormContent=function(e){function t(e){(0,l.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.createComponent=function(e,t){var a=n.props.form.getFieldDecorator,i=e.type,o=void 0===i?"string":i,r=e.isRequired,l=void 0!==r&&r,s=e.label,c=void 0===s?"":s,u=e.code,d=e.isedit,f=void 0!==d&&d,h=e.check,w=e.len,x=e.initialValue;switch(o){case"string":return p.default.createElement(C,{className:"form-item margin-bottom-8",colon:!f,label:c},a(u,{initialValue:x,rules:[{type:"string",message:""+c+(0,y.langCheck)("0000PUB-000015")+"-string"},{required:l&&f,whitespace:!0,message:""+c+(0,y.langCheck)("0000PUB-000016")},{len:w,message:""+c+(0,y.langCheck)("0000PUB-000017")+w},{validator:h||function(e,t,n){n()}}]})(f?p.default.createElement(v.default,{form:n.props.form,fieldid:e.fieldid||u}):p.default.createElement(M,null)));case"refer":return p.default.createElement(C,{className:"form-item margin-bottom-8",colon:!f,label:c},a(u,{initialValue:x,rules:[{required:l&&f,validator:l?function(e,t,n){t&&t.refname?n():n(""+c+(0,y.langCheck)("0000PUB-000016"))}:function(e,t,n){n()}},{type:"object",message:""+c+(0,y.langCheck)("0000PUB-000015")+"-object",validator:null}]})(f?p.default.createElement(b.default,{form:n.props.form,options:e.options,fieldid:e.fieldid||u}):p.default.createElement(N,null)));case"select":return p.default.createElement(C,{className:"form-item margin-bottom-8",colon:!f,label:c},a(u,{initialValue:x,rules:[{type:"string",message:""+c+(0,y.langCheck)("0000PUB-000015")+"-string",validator:null},{required:l&&f,message:""+c+(0,y.langCheck)("0000PUB-000016")}]})(f?p.default.createElement(k.default,{form:n.props.form,placeholder:""+(0,y.langCheck)("0000PUB-000018")+c,options:e.options,fieldid:e.fieldid||u}):p.default.createElement(D,{options:e.options})));case"checkbox":return p.default.createElement(C,{colon:!f,label:c,className:"form-item margin-bottom-8"},a(u,{initialValue:x,valuePropName:"checked"})(f?p.default.createElement(E,{disabled:!f}):p.default.createElement(S,null)));case"chooseImage":return p.default.createElement(C,{label:c},a(u,{initialValue:x,rules:[{required:l&&f,message:(0,y.langCheck)("0000PUB-000011")}]})(p.default.createElement(m.default,{form:n.props.form,isedit:f,data:e.options,title:f?(0,y.langCheck)("0000PUB-000012"):(0,y.langCheck)("0000PUB-000013")})));case"chooseIcon":return p.default.createElement(C,{label:c},a(u,{initialValue:x,rules:[{required:l&&f,message:(0,y.langCheck)("0000PUB-000011")}]})(p.default.createElement(g.default,{form:n.props.form,isedit:f,data:e.options,title:f?(0,y.langCheck)("0000PUB-000012"):(0,y.langCheck)("0000PUB-000013")})))}},n.createFormItem=function(){return n.props.formData.map((function(e,t){var a=e.xs,i=void 0===a?24:a,r=e.md,l=void 0===r?12:r,s=e.lg,c=void 0===s?12:s,u=e.xl,d=void 0===u?8:u,f=e.code,h=e.hidden;return!0===(void 0!==h&&h)?null:p.default.createElement(o.default,{xs:i,md:l,lg:c,xl:d,key:f,fieldid:e.fieldid||f},n.createComponent(e,t))}))},n.history,n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(){this.history=this.props.datasources}},{key:"componentDidMount",value:function(){this.props.form.setFieldsValue(this.props.datasources)}},{key:"componentDidUpdate",value:function(){h.default.isEqual(this.props.datasources,this.history)||this.props.form.setFieldsValue(this.props.datasources)}},{key:"render",value:function(){return p.default.createElement(_,{fieldid:this.props.fieldid,areaCode:_.config.FORM},p.default.createElement(d.default,{layout:"inline"},p.default.createElement(i.default,null,this.createFormItem())))}}]),t}(f.Component),t.dataDefaults=function(e,t){if("{}"!=(0,a.default)(t)){var n={};return t.map((function(t){e.hasOwnProperty(t.code)&&(n[t.code]=e[t.code])})),n}console.error((0,y.langCheck)("0000PUB-000014"))}},976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(21)),i=u(n(5)),o=u(n(7)),r=u(n(4)),l=u(n(6)),s=n(1),c=u(s);function u(e){return e&&e.__esModule?e:{default:e}}n(977);var d=u(n(26)).default.base,f=d.NCButtonGroup,p=d.NCButton,h=d.NCMenu,m=d.NCDropdown,g=function(e){function t(e){(0,i.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.createBtn=function(e){return e.map((function(e){if(e.isshow){if("btn"==e.divide)return c.default.createElement(p,{className:"divide-btn",key:e.code,colors:e.type,fieldid:e.fieldid||e.code,disabled:e.disabled,onClick:function(){n.props.onClick(e.code)}},e.name);if("select"==e.divide){var t=c.default.createElement(h,{onClick:function(){n.props.onClick(e.code)}},c.default.createElement(h.Item,{key:"1",fieldid:e.fieldid||e.code},c.default.createElement("div",null,e.name)));return c.default.createElement(m,{overlay:t,trigger:["click"],fieldid:e.dropdownFieldid},c.default.createElement(p,{className:"margin-left-1",key:e.code,colors:e.type,fieldid:e.fieldid||e.code,is_arrow:!0,style:{minWidth:18}},c.default.createElement("i",{className:"iconfont icon-hangcaozuoxiala1"})))}return c.default.createElement(p,{className:"margin-left-6 "+(e.className?e.className:""),key:e.code,colors:e.type,fieldid:e.fieldid||e.code,disabled:e.disabled,onClick:function(){n.props.onClick(e.code)}},e.name)}return null}))},n.createBtnGroup=function(e){if(e.length>0){var t=e.filter((function(e){return e.isshow})),a=n.createBtn(e);return 1===t.length?a:c.default.createElement(f,null,a)}return null},n.createButton=function(e){var t=e.filter((function(e){return e.group})),a=e.filter((function(e){return!e.group}));return c.default.createElement("div",null,c.default.createElement("div",{style:{marginLeft:6}},n.createBtnGroup(t)),n.createBtn(a))},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"buttons-component "+(this.props.className?this.props.className:"")},this.createButton(this.props.dataSource))}}]),t}(s.Component);t.default=g},977:function(e,t,n){var a=n(978);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(13)(a,i);a.locals&&(e.exports=a.locals)},978:function(e,t,n){(e.exports=n(12)(!1)).push([e.i,".buttons-component div{display:flex;align-items:center}.buttons-component .ant-btn-group{margin-left:6px}body .divide-btn{margin-left:6px;border-top-right-radius:0;border-bottom-right-radius:0}body .margin-left-1{margin-left:1px;width:18px;border-top-left-radius:0;border-bottom-left-radius:0;display:flex;justify-content:center;align-items:center;padding:0}body .margin-left-1 .iconfont{font-size:12px}",""])},988:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(55)),i=f(n(21)),o=f(n(5)),r=f(n(7)),l=f(n(4)),s=f(n(6));n(131);var c=n(1),u=f(c),d=f(n(989));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,o.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.handleChange=function(e){var t=n.props.onChange;t&&t(e)},n.handleMouseEnter=function(){n.setState({visible:!0})},n.handleMouseLeave=function(){n.setState({visible:!1})},n.state={visible:!1},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldError(this.props.id),t=!!e;return u.default.createElement(a.default,{placement:"top",overlayClassName:"tootip-white",visible:this.state.visible&&t,title:e&&e[e.length-1]},u.default.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement(d.default,this.props)))}}]),t}(c.Component);t.default=p},989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i,o=k(n(21)),r=k(n(5)),l=k(n(7)),s=k(n(4)),c=k(n(6)),u=n(1),d=k(u),f=k(n(990)),p=k(n(364)),h=n(32),m=n(19);n(991);var g=k(n(26)),v=k(n(367));function k(e){return e&&e.__esModule?e:{default:e}}var b=g.default.appIcons,y=(i=a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.showModal=function(){n.props.isedit&&n.setState({visible:!0})},n.handleOk=function(e){var t=n.state.value;n.value=t,n.setState({visible:!1},n.triggerChange(t))},n.handleCancel=function(e){var t=n.state,a=t.listData,i=t.value;i=n.value,a=n.updateListData(a,i),n.setState({visible:!1,value:i,listData:a})},n.handleSelect=function(e){var t=n.state,a=t.listData,i=t.value;i=e.value,a=n.updateListData(a,i),n.setState({listData:a,value:i})},n.triggerChange=function(e){var t=n.props.onChange;t&&t(e)},n.updateListData=function(e,t){return e.map((function(e,n){return e.iconList.map((function(e){return e.selected=!1,e.value===t&&(e.selected=!0),e})),e}))},n.state={visible:!1,selected:"",listData:[],value:""},n.value="",n}return(0,c.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.data,n=e.value;this.value=n;var a=this.updateListData(t,n);this.setState({listData:a,value:n})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.data,n=e.value;this.value=n;var a=this.updateListData(t,n);this.setState({listData:a,value:n})}},{key:"render",value:function(){var e=this,t=this.state,n=t.listData,a=t.value,i=(0,h.getStore)("nccIcon")||"";return i=i.length?i+"_":i,a||(a=""),d.default.createElement("div",{className:"choose-imgae"},-1===a.indexOf("/")?d.default.createElement("div",{onClick:this.props.isedit?this.showModal:null,className:"choose-btn",style:a.length>0?{background:"url("+(b[i+a]?b[i+a]:v.default[i]?v.default[i]:v.default.defaultIcon)+") 0px 0px /contain no-repeat"}:null},this.props.isedit?d.default.createElement("i",{className:"iconfont icon-tianjiayingyong font-size-80"}):null):d.default.createElement("div",{className:"choose-btn",style:a.length>0?{background:"url("+a+") 0px 0px /contain no-repeat"}:null,onClick:this.props.isedit?this.showModal:null},this.props.isedit?d.default.createElement("i",{className:"iconfont icon-tianjiayingyong font-size-80"}):null),d.default.createElement(p.default,{maskClosable:!1,className:"choose-imgae-modal",width:640,title:this.props.title,visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,cancelText:(0,m.langCheck)("0000PUB-000000"),okText:(0,m.langCheck)("0000PUB-000001"),fieldid:"chooseImage"},d.default.createElement("div",{className:"choose-imgae-container"},n.map((function(t){return d.default.createElement(f.default,{iconListData:t,onSelected:e.handleSelect})})))))}}]),t}(u.Component),a.defaultProps={isedit:!0},i);t.default=y},990:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i,o=p(n(21)),r=p(n(5)),l=p(n(7)),s=p(n(4)),c=p(n(6)),u=n(1),d=p(u),f=n(32);function p(e){return e&&e.__esModule?e:{default:e}}var h=p(n(26)).default.appIcons,m=(i=a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleSelect=function(e){n.props.onSelected(e)},n.createIconList=function(e){var t=(0,f.getStore)("nccIcon")||"";return t=t.length?t+"_":t,e.map((function(e){var a=e.name,i=e.src,o=e.selected;return d.default.createElement("li",{key:i},d.default.createElement("div",{title:a,onClick:function(){n.handleSelect(e)}},-1===i.indexOf("/")?d.default.createElement("div",{className:"icon "+(o?"img-selected":""),style:{background:"url("+h[t+i]+") no-repeat 0px 0px",backgroundSize:"contain"},fieldid:i}):d.default.createElement("img",{width:"80",src:i,alt:a}),d.default.createElement("div",{className:"icon-title"},a)))}))},n}return(0,c.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.iconListData,t=e.title,n=e.iconList;return d.default.createElement("div",{className:"choose-imgae-list"},d.default.createElement("div",{className:"title"},t),d.default.createElement("ul",null,this.createIconList(n)))}}]),t}(u.Component),a.defaultProps={isedit:!0},i);t.default=m},991:function(e,t,n){var a=n(992);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(13)(a,i);a.locals&&(e.exports=a.locals)},992:function(e,t,n){(e.exports=n(12)(!1)).push([e.i,'.choose-imgae .choose-btn{border:1px solid #d9d9d9;width:100px;height:100px;display:flex;justify-content:center;align-items:center;color:#d9d9d9}.choose-imgae .choose-btn .font-size-80{font-size:80px}.choose-imgae .icon-image{height:100%;width:100%}.has-error .choose-imgae .choose-btn{border:1px solid #f5222d}.choose-imgae-modal .u-modal-body{padding:0}.choose-imgae-modal .choose-imgae-container{height:400px;overflow:auto;padding:24px}.choose-imgae-modal .choose-imgae-container .choose-imgae-list{display:flex;justify-content:flex-start;align-items:center;margin-top:20px}.choose-imgae-modal .choose-imgae-container .choose-imgae-list:first-child{margin-top:0}.choose-imgae-modal .choose-imgae-container .choose-imgae-list .title{color:#111;padding:10px}.choose-imgae-modal .choose-imgae-container .choose-imgae-list ul{display:flex;justify-content:flex-start;flex-wrap:wrap}.choose-imgae-modal .choose-imgae-container .choose-imgae-list ul li{margin:6px}.choose-imgae-modal .choose-imgae-container .choose-imgae-list ul li .icon{height:40px;width:40px;overflow:hidden}.choose-imgae-modal .choose-imgae-container .choose-imgae-list ul li .icon-title{line-height:20px;font-size:12px;text-align:center}.choose-imgae-modal .choose-imgae-container .choose-imgae-list .img-selected{font-family:iconfont!important;position:relative;color:#52c41a;font-size:20px;overflow:unset!important}.choose-imgae-modal .choose-imgae-container .choose-imgae-list .img-selected:after{position:absolute;z-index:10;right:-5px;bottom:-5px;content:"\\E689";display:block;height:20px;width:20px;line-height:20px;text-align:center;background-color:#fff;border-radius:9px}',""])},993:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(55)),i=f(n(21)),o=f(n(5)),r=f(n(7)),l=f(n(4)),s=f(n(6));n(131);var c=n(1),u=f(c),d=f(n(994));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,o.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.handleMouseEnter=function(){n.setState({visible:!0})},n.handleMouseLeave=function(){n.setState({visible:!1})},n.state={visible:!1},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldError(this.props.id),t=!!e;return u.default.createElement(a.default,{placement:"top",overlayClassName:"tooltip-white",visible:this.state.visible&&t,title:e&&e[e.length-1]},u.default.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement(d.default,this.props)))}}]),t}(c.Component);t.default=p},994:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i,o=g(n(111)),r=g(n(21)),l=g(n(5)),s=g(n(7)),c=g(n(4)),u=g(n(6)),d=n(1),f=g(d),p=g(n(364)),h=(n(32),n(19));n(995);g(n(26));var m=g(n(997));!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(233));function g(e){return e&&e.__esModule?e:{default:e}}var v=(i=a=function(e){function t(e){(0,l.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onChooseBtnClick=function(){n.props.isedit&&n.setState({visible:!0})},n.onOkClick=function(){var e=n.state.value;n.value=e,n.setState({visible:!1},n.triggerChange(e))},n.triggerChange=function(e){n.props.onChange&&n.props.onChange(e)},n.onCancelClick=function(){var e=n.value,t=n.updateIconListData(e);n.setState({visible:!1,value:e,listData:t})},n.getBtnStyle=function(e){return e?{background:"url("+n.findIconSrc(e)+") 0px 0px /contain no-repeat"}:null},n.findIconSrc=function(e){var t=void 0;return n.state.listData.forEach((function(n){n.icons.forEach((function(n){n.key===e&&(t=n.src)}))})),t},n.updateIconListData=function(e){var t,a=n.props.data;return t=(0,o.default)(a).map((function(t,n){var i=a[t]||[];return i=i.map((function(t){var n=t.lastIndexOf("/")+1,a=t.lastIndexOf(".");a=a<0?t.length:a;var i=t.substring(n,a);return{key:i,src:t+(t.lastIndexOf(".")<0?".svg":""),selected:e===i}})),{id:t,name:"defaultmenuimage"===t?(0,h.langCheck)("0000PUB-000379"):(0,h.langCheck)("0000PUB-000380"),icons:i}})),console.log(t),t},n.onSelected=function(e){var t=e.key,a=n.updateIconListData(t);n.setState({listData:a,value:t})},n.state={visible:!1,selected:"",listData:[],value:""},n.value="",n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.value;this.value=e||"";var t=this.updateIconListData(e);this.setState({listData:t,value:e})}},{key:"componentWillReceiveProps",value:function(e){var t=e.value,n=this.updateIconListData(t);this.value=t,this.setState({listData:n,value:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isedit,a=t.title,i=this.state,o=i.value,r=i.visible,l=i.listData;return f.default.createElement("div",{className:"choose-icon"},f.default.createElement("div",{className:"choose-btn",onClick:this.onChooseBtnClick,style:this.getBtnStyle(o)},n?f.default.createElement("i",{className:"iconfont icon-tianjiayingyong font-size-80"}):null),f.default.createElement(p.default,{className:"choose-icon-modal",maskClosable:!1,width:640,title:a,visible:r,onOk:this.onOkClick,onCancel:this.onCancelClick,okText:(0,h.langCheck)("0000PUB-000001"),cancelText:(0,h.langCheck)("0000PUB-000000"),fieldid:"chooseIcon"},f.default.createElement("div",{className:"choose-icon-container"},l.map((function(t){return t.icons&&t.icons.length>0?f.default.createElement(f.default.Fragment,null,f.default.createElement("h3",null,t.name),f.default.createElement(m.default,{iconListData:t.icons,onSelected:e.onSelected})):null})))))}}]),t}(d.Component),a.defaultProps={isedit:!0},i);t.default=v},995:function(e,t,n){var a=n(996);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(13)(a,i);a.locals&&(e.exports=a.locals)},996:function(e,t,n){(e.exports=n(12)(!1)).push([e.i,'.choose-icon .choose-btn{border:1px solid #d9d9d9;width:100px;height:100px;display:flex;justify-content:center;align-items:center;color:#d9d9d9}.choose-icon .font-size-80{font-size:80px}.choose-icon-list{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;overflow:auto}.choose-icon-list li{padding:10px;width:20%;text-align:center}.choose-icon-list .icon{margin:0 auto;width:50px;height:50px;border:1px solid #d9d9d9}.choose-icon-list .icon.selected{font-family:iconfont!important;position:relative;color:#52c41a;font-size:20px;overflow:unset}.choose-icon-list .icon.selected:after{position:absolute;z-index:10;right:-5px;bottom:-5px;content:"\\E689";display:block;height:20px;width:20px;line-height:20px;text-align:center;background-color:#fff;border-radius:9px}',""])},997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(21)),i=u(n(5)),o=u(n(7)),r=u(n(4)),l=u(n(6)),s=n(1),c=u(s);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,i.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.onSelect=function(e){n.props.onSelected(e)},n.renderIconList=function(){return n.props.iconListData.map((function(e){var t=e.key,a=e.src,i=e.selected;return c.default.createElement("li",{key:t},c.default.createElement("div",{className:["icon",i?"selected":""].join(" "),style:{background:"url("+a+") no-repeat 0 0",backgroundSize:"contain"},onClick:function(){n.onSelect(e)},fieldid:a}))}))},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement("ul",{className:"choose-icon-list"},this.renderIconList())}}]),t}(s.Component);t.default=d},998:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(55)),i=f(n(109)),o=f(n(21)),r=f(n(5)),l=f(n(7)),s=f(n(4)),c=f(n(6));n(131),n(130);var u=n(1),d=f(u);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleChange=function(e){var t=n.props.onChange;t&&t(e)},n.handleMouseEnter=function(){n.setState({visible:!0})},n.handleMouseLeave=function(){n.setState({visible:!1})},n.state={visible:!1},n}return(0,c.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.form.getFieldError(this.props.id),o=!!n;return d.default.createElement(a.default,{placement:"top",overlayClassName:"tootip-white",visible:this.state.visible&&o,title:n&&n[n.length-1]},d.default.createElement("div",{style:{height:"30px"},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.default.createElement(i.default,{value:t,onChange:this.handleChange,onMouseOut:this.handleMouseOut,onMouseOver:this.handleMouseOver})))}}]),t}(u.Component);t.default=p},999:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(55)),i=d(n(21)),o=d(n(5)),r=d(n(7)),l=d(n(4)),s=d(n(6));n(131);var c=n(1),u=d(c);function d(e){return e&&e.__esModule?e:{default:e}}var f=d(n(26)).default.base.NCSelect,p=f.NCOption,h=function(e){function t(e){(0,o.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.createOption=function(e){return e.map((function(e,t){return u.default.createElement(p,{title:e.text,key:e.value,value:e.value},e.text)}))},n.handleChange=function(e){var t=n.props.onChange;t&&t(e)},n.handleMouseEnter=function(){n.setState({visible:!0})},n.handleMouseLeave=function(){n.setState({visible:!1})},n.state={visible:!1},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.form,i=e.placeholder,o=n.getFieldError(this.props.id),r=!!o;return u.default.createElement(a.default,{placement:"top",overlayClassName:"tootip-white",visible:this.state.visible&&r,title:o&&o[o.length-1]},u.default.createElement("div",{style:{height:"30px",lineHeight:1},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement(f,{value:t,placeholder:i,showClear:!1,fieldid:this.props.fieldid,onChange:this.handleChange},this.createOption(this.props.options))))}}]),t}(c.Component);t.default=h}}]);
//# sourceMappingURL=MenuItem.js.map