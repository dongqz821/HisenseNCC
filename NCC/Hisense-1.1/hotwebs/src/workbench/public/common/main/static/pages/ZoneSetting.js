(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1003:function(e,t,a){e.exports=a.p+"images/nodata.png"},1004:function(e,t,a){e.exports=a.p+"images/idea.png"},1005:function(e,t,a){var n=a(1006);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},1006:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".CoverPosition-container .CoverPosition-content,.CoverPosition-container .CoverPosition-content-treeCardTable{display:flex;flex-direction:column;justify-content:center;align-items:center}.CoverPosition-container .CoverPosition-content-treeCardTable img{width:25px;height:25px}.CoverPosition-container .CoverPosition-content-treeCardTable span{margin-left:8px;font-size:13px;color:#aeaeae}",""])},1008:function(e,t,a){"use strict";(function(e){var n,r,l,o=m(a(169)),i=m(a(377)),s=m(a(21)),c=m(a(378)),d=m(a(927)),u=m(a(234)),p=m(a(136)),f=m(a(28));function m(e){return e&&e.__esModule?e:{default:e}}!function(o,i){"object"==(0,f.default)(t)&&"object"==(0,f.default)(e)?e.exports=i(a(919),a(1),a(9)):(r=[a(919),a(1),a(9)],void 0===(l="function"==typeof(n=i)?n.apply(t,r):n)||(e.exports=l))}(window,(function(e,t,a){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||(0,p.default)(e,t,{enumerable:!0,get:n})},a.r=function(e){void 0!==u.default&&d.default&&(0,p.default)(e,d.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":(0,f.default)(e))&&e&&e.__esModule)return e;var n=(0,c.default)(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=1)}([function(t,a){t.exports=e},function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,p.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(2),l=m(r),o=(m(a(3)),a(0)),d=m(a(4)),u=a(5);function m(e){return e&&e.__esModule?e:{default:e}}var g=o.base.NCModal,h=o.base.NCButton,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":(0,f.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.callBack=function(){a.props.confirm(a.state.VaryID.refpk),a.props.close(a.state.VaryID.refpk)},a.onChange=function(e){a.setState({VaryID:e})},a.onClose=function(){a.props.close("close")},a.componentWillMount=function(){var e=a;(0,u.ctmsCheckClickCanUsed)(a.props.flag,null)?(0,o.ajax)({data:{code:a.props.flag},loading:!0,url:"/nccloud/riasm/change/ctmsconfig.do",success:function(t){t.data<0&&(e.props.confirm("undefined"),e.props.close("undefined")),e.setState({show:!0})},error:function(e){(0,o.toast)({color:"warning",content:e.message})}}):e.props.close("undefined")},a.state={VaryID:{},show:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,f.default)(t)));e.prototype=(0,c.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement(g,{show:this.state.show},l.default.createElement(g.Header,null,l.default.createElement(g.Title,null,"选择变更号")),l.default.createElement(g.Body,null,l.default.createElement(d.default,{value:this.state.VaryID,onChange:this.onChange})),l.default.createElement(g.Footer,null,l.default.createElement(h,{onClick:this.onClose},"关闭"),l.default.createElement(h,{onClick:this.callBack,color:"primary"},"确认"))))}}]),t}(r.Component);t.default=b},function(e,a){e.exports=t},function(e,t){e.exports=a},function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},refType:"grid",refName:"变更号",placeholder:"变更号",queryGridUrl:"/nccloud/riasm/change/varyidref.do",isHasDisabledData:!1,columnConfig:[{name:["1880000025-000002","1880000025-000003"],code:["refcode","refname"]}]};return React.createElement(r,n({},t,e))};var r=a(0).high.Refer},function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.ctmsCheckAppEnvIsProduct=t.ctmsCheckClickCanUsed=void 0;var n=a(0);t.ctmsCheckClickCanUsed=function(e,t){var a=!0;return(0,n.ajax)({loading:!0,url:"/nccloud/riasm/ctmsconfig/qrycurrentappcanused.do",data:e,async:!1,success:function(e){return 0==e.data.result&&(null==t||""==t?(0,n.toast)({color:"warning",content:e.data.msg}):(0,n.toast)({color:"warning",content:t}),a=!1),a},error:function(e){(0,n.toast)({color:"danger",content:e})}}),a},t.ctmsCheckAppEnvIsProduct=function(){var e=!1;return(0,n.ajax)({loading:!0,url:"/nccloud/riasm/ctmsconfig/systemtype.do",data:null,async:!1,success:function(t){return"product"==t.data&&(e=!0),e},error:function(e){(0,n.toast)({color:"danger",content:e.message})}}),e}}])}))}).call(this,a(235)(e))},1009:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(920),l=a(926),o=(n=l)&&n.__esModule?n:{default:n};t.default=(0,r.DragDropContext)(o.default)},1030:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setJson=t.clearZoneData=t.setTemplateDataFun=t.setZoneDataFun=t.setNewList=t.setZoneState=t.setZoneTempletid=t.setZoneData=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(390));t.setZoneData=function(e){return{type:n.SETZONEDATA,data:e}},t.setZoneTempletid=function(e){return{type:n.ZONETEMPLATID,data:e}},t.setZoneState=function(e){return{type:n.ZONESTATE,data:e}},t.setNewList=function(e){return{type:n.SETNEWLIST,data:e}},t.setZoneDataFun=function(e){return{type:n.ZONEDATAFUN,getFromData:e}},t.setTemplateDataFun=function(e){return{type:n.SETTEMPLATEFUN,getTemplateFromData:e}},t.clearZoneData=function(){return{type:n.CLEARDATA}},t.setJson=function(e){return{type:n.JSON,data:e}}},1031:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processClass=function(e){return String(e).replace(/\.|\&|\#/g,"-")}},1032:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(a(2)),r=u(a(924)),l=u(a(21)),o=u(a(5)),i=u(a(7)),s=u(a(4)),c=u(a(6)),d=(u(a(1079)),u(a(1048)));function u(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,o.default)(this,t),(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e))}return(0,c.default)(t,e),(0,i.default)(t,[{key:"getMetaTreeData",value:function(){var e=this.getRoot(),a=t.serialize(this).nodes.reverse(),l=new r.default;a.forEach((function(e){var t=e.data,a=e.children;a&&a.length>0?(a=a.map((function(e){return l.get(e.data.myUniqID)})),l.set(t.myUniqID,(0,n.default)({},t,{children:a}))):l.set(t.myUniqID,t)}));var o=l.get(e.data.myUniqID);return console.log(o),o}}],[{key:"createBigTree",value:function(e,a,n){if(!e||0===e.length)return console.error(new Error("Cannot create tree")),null;a&&n||console.error(new Error("getMainKeyFn, getParentKeyFn cannot be undefined"));var l=new r.default,o=null,i=null;return console.time("traverseAndInitAllNodes"),e.forEach((function(e){if(n(e)){var r=new d.default(e);l.set(a(e),r)}else o=new t(e),i=o.getRoot(),l.set(a(e),i)})),console.timeEnd("traverseAndInitAllNodes"),console.time("createTree"),console.log(l.size),l.forEach((function(e,t,r){var l=a(e.data),o=n(e.data);if(l!==a(i.data)){var s=r.get(o);e.parent=s,s.children.push(e)}})),console.timeEnd("createTree"),o}}]),t}(u(a(1080)).default);t.default=p},1048:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=a(5),l=(n=r)&&n.__esModule?n:{default:n};t.default=function e(t){(0,l.default)(this,e),this.data=t,this.parent=null,this.children=[]}},1049:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(924)),r=f(a(2)),l=f(a(14)),o=f(a(110));t.asyncQueryMetaPro=function(e){var t=this.props.json;return new o.default((function(a,n){(0,i.default)({url:"/nccloud/platform/templet/querymetapro.do",info:{name:(0,s.langCheck)("ZoneSetting-000017","pages",t),action:(0,s.langCheck)("ZoneSetting-000020","pages",t)},data:{metaid:e},success:function(e){if(e){var n=e.data,r=n.data,l=n.success;l&&r&&r.rows&&r.rows.length>0?a(r):(0,u.default)({status:"warning",msg:(0,s.langCheck)("ZoneSetting-000021","pages",t)})}}})}))},t.queryMetaTreeData=function(e,t){var a=this.props.json;return new o.default((function(n,r){(0,i.default)({url:"/nccloud/platform/templet/searchmeta.do",data:{metaid:e,text:t},info:{name:(0,s.langCheck)("ZoneSetting-000017","pages",a),action:(0,s.langCheck)("ZoneSetting-000020","pages",a)},success:function(e){var t=e.data.data;n(t)}})}))},t.createMetaTreeIns=function(e,t){console.time("InitMetaTreeData");var a,r=[],l=new n.default,o=[],i=e,s=null;o.push(i);for(;o.length>0;){var d=i,u=(d.pid,d.refcode,d.refpk,d.childs),p=i.children?i.children:u;if(i.children=p,s=m.call(this,i,l,t),l.set(s.myUniqID,s),p&&p.length>0)for(var f=p.length-1;f>=0;f--)p[f].pUniqID=s.myUniqID,o.push(p[f]);i=o.pop()}return l.forEach((function(e){r.push(e)})),console.log(r,r.length),l.clear(),console.timeEnd("InitMetaTreeData"),console.time("CreateMetaTreeIns"),a=c.default.createBigTree(r,(function(e){return e.myUniqID}),(function(e){return e.pUniqID})),console.timeEnd("CreateMetaTreeIns"),console.log(a),a},t.appendMetaTreeNodes=function(e,t,a){var n=this.props.targetAreaType,l=a.getNode((function(e){return e.data.myUniqID===t})),o=l.data,i=(o.children,o.refpk,o.myUniqID),s=o.notSearchAreaCode,c=o.datatype,u=(o.dataRef,[]),p=e.map((function(e){var a=(0,r.default)({},e,{title:e.refcode+" "+e.refname,key:i+"."+e.refcode,pUniqID:t,myUniqID:i+"."+e.refcode,isLeaf:e.isleaf});"0"!==n&&s&&(a.notSearchAreaCode=s+"."+e.refcode),"0"!==n&&"205"===c&&(a.notSearchAreaCode=""+e.refcode);var o=new d.default(a);return o.parent=l,u.push(o),a}));return l.data.children=p,l.children=u,a},t.queryMetaPropByKeyWords=function(e,t,a){var o=t.getRoot(),i=c.default.serialize(t).nodes.reverse(),s=new n.default;i.forEach((function(e){return s.set(e.data.myUniqID,e)}));var d=p.default.filter(i,(function(t){return t.data.title.indexOf(e)>-1})),u=[],f=void 0;for(;d.length>0;){var m=(f=d.pop()).data.pUniqID;m&&function(){var e=s.get(m);e&&("0"===e.data.myUniqID||p.default.find(d,(function(t){return t.data.myUniqID===e.data.myUniqID}))||d.unshift(e),!e.data.isLeaf&&a.indexOf(m)<0&&a.push(m),!f.data.isLeaf&&f.children.length>0&&!p.default.find(d,(function(e){return e.data.pUniqID===f.data.myUniqID}))&&a.push(f.data.myUniqID))}(),u.push(f.data)}if(0===(u=p.default.filter(u,(function(e){return"0"!==e.myUniqID}))).length){var g=o.data,h=(g.children,(0,l.default)(g,["children"])),b=(0,r.default)({},h,{children:[]});u.unshift(b)}else u.unshift(o.data);return c.default.createBigTree(u,(function(e){return e.myUniqID}),(function(e){return e.pUniqID}))};var i=f(a(35)),s=a(19),c=(f(a(1080)),f(a(1032))),d=f(a(1048)),u=f(a(68)),p=f(a(89));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t,a){var n=void 0,o=e.children,i=(0,l.default)(e,["children"]),s=i.refcode,c=i.refname,d=i.pid,u=i.refpk,p=i.isleaf,f=i.pUniqID,m=(i.datatype,t.get(f));return d?(n=(0,r.default)({},i,{children:o,title:s+" "+c,key:("0"===m.myUniqID?"":m.myUniqID+".")+s,pUniqID:m.myUniqID,myUniqID:("0"===m.myUniqID?"":m.myUniqID+".")+s,level:m.level+1,isLeaf:p}),"0"!==a&&m.notSearchAreaCode&&(n.notSearchAreaCode=m.notSearchAreaCode+"."+s),"0"!==a&&"205"===m.datatype&&(n.notSearchAreaCode=""+s)):n=(0,r.default)({},i,{children:o,title:"",key:u,pUniqID:null,myUniqID:"0",level:0,isLeaf:p}),n}},1050:function(e,t,a){var n=a(1181);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},1076:function(e,t,a){var n=a(1141);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},1077:function(e,t,a){var n=a(1148);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},1078:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,l=k(a(77)),o=k(a(21)),i=k(a(5)),s=k(a(7)),c=k(a(4)),d=k(a(6)),u=k(a(2)),p=k(a(17)),f=k(a(1)),m=a(37),g=a(920),h=k(a(26)),b=a(968),v=a(1031),y=k(a(1171));function k(e){return e&&e.__esModule?e:{default:e}}var C=h.default.base,S=C.NCButton,x=C.NCTabs,E=x.NCTabPane,w=function(e,t,a){return e.renderCard({item:t,cardIndex:a,areaType:e.type})},T=function(e){return f.default.createElement("ul",{className:"area-item-content",fieldid:"content",style:{display:e.isShow?"block":"none"}},f.default.createElement("div",{className:"search-area-content"},f.default.createElement("div",{className:"query-btn-area"},f.default.createElement(S,{colors:"primary",fieldid:"search"},f.default.createElement("i",{className:"iconfont icon-sousuo"}))),e.listWithBlank.map((function(t,a){return w(e,t,a)}))))},A=(0,g.DropTarget)("area",{drop:function(e,t,a){"card"===t.getItem().type&&e.onTabPaneDrop(t)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=(0,y.default)("form")(n=function(e){function t(){var e,a,n,r;(0,i.default)(this,t);for(var s=arguments.length,d=Array(s),u=0;u<s;u++)d[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),n.getAllTabs=function(){return[n.props.areaItem].concat(n.props.areaItem.formTabs)},n.formTabChange=function(e,t){n.props.onTabChange&&n.props.onTabChange(e),n.props.updateSearchBox({isHighlight:!0}),n.props.onAreaClick(void 0,t)},n.renderTabCard=function(e,t,a){var r=n.props.areaList.findIndex((function(e){return e.pk_area===t.pk_area}));return n.props.renderCard({item:e,cardIndex:a,areaType:"form",areaIndex:r,shouldHideGray:n.props.areaVisible[t.pk_area]||!1})},n.renderTabsFormArea=function(){var e=n.props,t=e.areaItem,a=e.activeTabKey,r=e.connectDropTarget,o=(e.areaHide,n.getAllTabs()),i=function(e){var t,a=(t=e,o.find((function(e){return e.code===t})));n.props.onTabChange&&n.props.onTabChange(e),n.props.updateSearchBox({isHighlight:!0}),n.props.onAreaClick(void 0,a)};return r(f.default.createElement("div",{className:"table-tabs-container",onClick:function(e){return e.stopPropagation()},"data-searchcodes":(0,l.default)(o.map((function(e){return e.code})))},f.default.createElement(x,{activeKey:a||t.code,tabBarStyle:"simple",extraContent:n.props.tabsExtraArea,onChange:i,onTabClick:i,onPrevClick:function(e){console.log("onPrevClick",e)},onNextClick:function(e){console.log("onNextClick",e)}},o.map((function(e){var t=[].concat((0,p.default)(e.queryPropertyList),[{blank:!0,areaid:e.pk_area,code:"blank"}]).map((function(t,a){return n.renderTabCard(t,e,a)}));return f.default.createElement(E,{tab:e.name,key:e.code},n.renderFormArea(t,e))})))))},n.renderFormArea=function(e,t){var a=n.props,r=a.areaItem,l=a.children,o=t?t.code:r.code,i=e||n.props.listWithBlank.map((function(e,t){return w(n.props,e,t)}));return f.default.createElement("ul",{className:"area-item-content",fieldid:"content",style:{display:n.props.isShow?"block":"none"}},f.default.createElement("div",{className:"form-area-content drag-mask-content-"+(r?(0,v.processClass)(o):"")},i),l&&l(t))},n.renderArea=function(){return Array.isArray(n.props.areaItem.formTabs)?n.renderTabsFormArea():n.renderFormArea()},r=a,(0,c.default)(n,r)}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){return this.renderArea()}}]),t}(f.default.Component))||n)||n,_=(0,g.DropTarget)("area",{drop:function(e,t,a){"card"===t.getItem().type&&e.onTabPaneDrop(t)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(r=(0,y.default)("table")(r=function(e){function t(){var e,a,n,r;(0,i.default)(this,t);for(var s=arguments.length,d=Array(s),u=0;u<s;u++)d[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),n.hasTabs=function(){return n.props.areaItem.tabs&&n.props.areaItem.tabs.length>0},n.getAreaIndexByPk=function(e){if(e){var t=void 0;return n.props.areaList.map((function(a,n){a.pk_area===e.pk_area&&(t=n)})),t}},n.getAllTabs=function(){return[n.props.areaItem].concat(n.props.areaItem.tabs)},n.renderTableContent=function(e,t){var a=t?t.code:n.props.areaItem.code,r=e||n.props.listWithBlank.map((function(e,t){return w(n.props,e,t)})),l=t?t.isShow:n.props.isShow;return f.default.createElement("ul",{className:"area-item-content search-area-"+(String(a).replace(/\.|\&|\#/g,"")||"unknow"),fieldid:"content",style:{display:l?"block":"none"}},f.default.createElement("div",{className:"table-area-content "+(n.props.isTile?"tile-view":"")+" drag-mask-content-"+(0,v.processClass)(a)},r),n.props.children&&n.props.children(t))},n.renderTabCard=function(e,t,a){var r=n.getAreaIndexByPk(t);return n.props.renderCard({item:e,cardIndex:a,areaType:"table",areaIndex:r,shouldHideGray:n.props.areaVisible[t.pk_area]||!1})},n.renderTabsTableArea=function(){var e=n.props,t=e.areaItem,a=e.activeTabKey,r=e.connectDropTarget,o=e.areaHide,i=n.getAllTabs(),s=function(e){var t,a=(t=e,i.find((function(e){return e.code===t})));n.props.onTabChange&&n.props.onTabChange(e),n.props.updateSearchBox({isHighlight:!0}),n.props.onAreaClick(void 0,a)};return r(f.default.createElement("div",{className:"table-tabs-container",onClick:function(e){return e.stopPropagation()},"data-searchcodes":(0,l.default)(i.map((function(e){return e.code})))},f.default.createElement(x,{activeKey:a||t.code,tabBarStyle:"simple",extraContent:n.props.tabsExtraArea,onChange:s,onTabClick:s,onPrevClick:function(e){console.log("onPrevClick",e)},onNextClick:function(e){console.log("onNextClick",e)}},i.map((function(e){var t=[].concat((0,p.default)(e.queryPropertyList),[{blank:!0,areaid:e.pk_area,code:"blank"}]).map((function(t,a){return n.renderTabCard(t,e,a)}));return!o[e.pk_area]&&f.default.createElement(E,{tab:e.name,key:e.code},n.renderTableContent(t,e))})))))},n.renderTableArea=function(){return n.hasTabs()?n.renderTabsTableArea():n.renderTableContent()},r=a,(0,c.default)(n,r)}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){return this.renderTableArea()}}]),t}(f.default.Component))||r)||r;t.default=(0,m.connect)((function(e){return{areaList:e.zoneSettingData.areaList,areaVisible:e.zoneSettingData.areaVisible,areaHide:e.zoneSettingData.areaHide,newAreaList:e.zoneSettingData.newAreaList}}),{updateSelectArea:b.updateSelectArea,updateSearchBox:b.updateSearchBox})((function(e){return f.default.createElement(f.default.Fragment,null,e.renderHeader,function(){var t=void 0;switch(e.listWithBlank=[].concat((0,p.default)(e.areaItem.queryPropertyList),[{blank:!0,code:"blank",areaid:e.areaItem.pk_area}]),e.areaItem.areatype){case"0":t=f.default.createElement(T,(0,u.default)({type:"search"},e));break;case"1":t=f.default.createElement(A,(0,u.default)({type:"form"},e));break;case"2":t=f.default.createElement(_,(0,u.default)({type:"table"},e))}return t}())}))},1079:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(5)),r=o(a(7)),l=o(a(1048));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(t){(0,n.default)(this,e),this._root=t instanceof l.default?t:this.initNode(t)}return(0,r.default)(e,[{key:"initNode",value:function(e){return new l.default(e)}},{key:"traverseDF",value:function(e){var t=[],a=[],n=this._root;if(n)for(a.push(n);0!=a.length;){n=a.pop(),t.push(n);for(var r=n.children,l=r.length-1;l>=0;l--)a.push(r[l])}t.forEach((function(t){e(t)}))}},{key:"traverseBF",value:function(e){var t=[];t.unshift(this._root);for(var a=t.pop();a;){for(var n=0,r=a.children.length;n<r;n++)t.unshift(a.children[n]);e(a),a=t.pop()}}},{key:"contains",value:function(e,t){t.call(this,e)}},{key:"add",value:function(e,t,a){var n=this.initNode(e),r=null;if(this.contains((function(e){e.data===t&&(r=e)}),a),!r)throw new Error("Cannot add node to a non-existent parent.");return r.children.push(n),n.parent=r,n}},{key:"remove",value:function(e,t,a){var n=null,r=void 0;if(this.contains((function(e){e.data===t&&(n=e)}),a),!n)throw new Error("Parent does not exist.");if(!((r=n.children.findIndex((function(t){return t.data===e})))>-1))throw new Error("Node to remove does not exist.");return n.children.splice(r,1)}},{key:"getRoot",value:function(){return this._root}}]),e}();t.default=i},1080:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(a(924)),r=p(a(952)),l=p(a(21)),o=p(a(5)),i=p(a(7)),s=p(a(4)),c=p(a(6)),d=p(a(1079)),u=p(a(1048));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return(0,o.default)(this,t),(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e))}return(0,c.default)(t,e),(0,i.default)(t,[{key:"getNode",value:function(e,t){var a=null;return t||(t=this.traverseDF),this.contains((function(t){e(t)&&(a=t)}),t),a}},{key:"before",value:function(e,t,a){a||(a=this.traverseDF);var n=this.getNode((function(t){return t.data===e}),a),l=this.getNode((function(e){return e.data===t}),a),o=null,i=null,s=null,c=null,d=-1,p=-1,f=null;if(null===l)throw new Error("Target Node is not in the tree");return p=(c=(i=l.parent).children).findIndex((function(e){return e.data===t})),null===n?(n=new u.default(e),i.children=(0,r.default)(c.slice(0,p),n,c.slice(p)),n.parent=i):(d=(s=(o=n.parent).children).findIndex((function(t){return t.data===e})),o===i?(p=d<p?p-1:p,f=c.splice(d,1),i.children=(0,r.default)(c.slice(0,p),f,c.slice(p))):(f=s.splice(d,1),i.children=(0,r.default)(c.slice(0,p),f,c.slice(p)),n.parent=i),f=null),n}},{key:"after",value:function(e,t,a){a||(a=this.traverseDF);var n=this.getNode((function(t){return t.data===e}),a),l=this.getNode((function(e){return e.data===t}),a),o=null,i=null,s=null,c=null,d=-1,p=-1,f=null;if(null===l)throw new Error("Target Node is not in the tree");return p=(c=(i=l.parent).children).findIndex((function(e){return e.data===t})),null===n?(n=new u.default(e),i.children=(0,r.default)(c.slice(0,p+1),n,c.slice(p+1)),n.parent=i):(d=(s=(o=n.parent).children).findIndex((function(t){return t.data===e})),o===i?(p=d<p?p-1:p,f=c.splice(d,1),i.children=(0,r.default)(c.slice(0,p+1),f,c.slice(p+1))):(f=s.splice(d,1),i.children=(0,r.default)(c.slice(0,p+1),f,c.slice(p+1)),n.parent=i),f=null),n}},{key:"append",value:function(e,t,a){a||(a=this.traverseDF);var n=this.getNode((function(t){return t.data===e}),a),r=this.getNode((function(e){return e.data===t}),a),l=null,o=-1;if(null===r)throw new Error("Target Node is not in the tree");return null===n?n=this.add(e,t,this.traverseDF):(o=(l=n.parent.children).findIndex((function(t){return t.data===e})),l.splice(o,1),r.children.push(n),n.parent=r,null),n}}],[{key:"serialize",value:function(e,a){var n={isDF:!0===a,nodes:[]};if(e instanceof t!=!0)return console.error(new Error("it it not instanceof TreeModel")),n;return(!0===a?e.traverseDF:e.traverseBF).call(e,(function(e){n.nodes.push(e)})),n}},{key:"createTree",value:function(e,a,r){if(!e||0===e.length)return console.error(new Error("Cannot create tree")),null;a&&r||console.error(new Error("getMainKeyFn, getParentKeyFn cannot be undefined"));var l=new n.default,o=null;return e.forEach((function(e){if(l.set(a(e),e),r(e)){var n=l.get(r(e));o.add(e,n,o.traverseBF)}else o=new t(e)})),o}}]),t}(d.default);t.default=f},1081:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(21)),r=d(a(5)),l=d(a(7)),o=d(a(4)),i=d(a(6)),s=a(1),c=d(s);function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.renderChildren=function(){var e=a.props,t=e.children,n=e.onDragItemClick;return c.default.Children.map(t,(function(e){return c.default.cloneElement(e,{onDragItemClick:n&&n.bind(a,e.props)})}))},a.state={},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.headerTitle,a=e.renderHeader;return c.default.createElement("div",{className:"side-panel"},c.default.createElement("div",{className:"panel-header"},a||c.default.createElement("span",{className:"title"},t)),c.default.createElement("div",{className:"panel-content clearfix"},this.renderChildren()))}}]),t}(s.Component);t.default=u},1141:function(e,t,a){var n=a(236);(e.exports=a(12)(!1)).push([e.i,'.reset-antd-checkbox .ant-checkbox-checked .ant-checkbox-inner,.reset-antd-checkbox .ant-checkbox-indeterminate .ant-checkbox-inner{background-color:#e14c46;border-color:#e14c46}.reset-antd-checkbox .ant-checkbox-input:focus+.ant-checkbox-inner,.reset-antd-checkbox .ant-checkbox-wrapper:hover .ant-checkbox-inner,.reset-antd-checkbox .ant-checkbox:hover .ant-checkbox-inner{border-color:#e14c46}.reset-antd-select .ant-select-selection:hover{border-color:#40a9ff}.reset-antd-select .ant-select-selection:focus{border-color:#007ace}.empty-area-style{color:#9b9b9b}.empty-area-style .iconfont{color:#f0871a;font-size:13px;margin-right:2px}.hover-property{background:#2797ff;left:-2px}.hover-property,.hover-property-after{content:"";position:absolute;width:2px;top:0;bottom:0;z-index:10}.hover-property-after{background:#f7c1c1;left:0}.template-setting-page{width:100%;padding:7px 16px 0}.template-setting-page .ant-input-sm{height:24px}.template-setting-page .template-setting-steps{margin:8px 30px;background:#fff;height:54px;display:flex;justify-content:center;align-items:center;padding:0 20px}.template-setting-page .template-setting-steps .ant-steps-item-process .ant-steps-item-title:after{background-color:#ccc}.template-setting-page .template-setting-steps .ant-steps{margin:0 19%}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-finish .ant-steps-item-icon{height:20px;line-height:20px;width:20px;background:#e14c46;border:1px solid #e14c46;margin-top:1px}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-finish .ant-steps-item-icon span{color:#fff}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-finish .ant-steps-item-content .ant-steps-item-title:after{background:#e14c46}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-process .ant-steps-item-icon{height:20px;line-height:20px;width:20px;background:#fff;border:1px solid #e14c46;margin-top:1px}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-process .ant-steps-item-icon span{color:#e14c46}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-wait .ant-steps-item-icon{height:20px;line-height:20px;width:20px;background:#fff;border:1px solid #bfbfbf;margin-top:1px}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-wait .ant-steps-item-icon span{color:#bfbfbf}.template-setting-page .display_none{display:none}.template-setting-page .template-setting-header{align-items:center;background:#fff;display:flex;height:45px;justify-content:space-between;padding-left:20px;padding-right:20px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom:1px solid #e0e0e0}.template-setting-page .template-setting-header .header-name{display:flex;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;font-style:normal;align-items:center}.template-setting-page .template-setting-header .header-name .iconfont{margin-right:6px;border-radius:50%;font-size:16px;padding:0 4px;font-weight:400;line-height:24px;cursor:pointer}.template-setting-page .template-setting-header .header-name .iconfont:hover{background:#e8e8e8}.template-setting-page .template-setting-header .header-name span{font-size:16px;color:#111;font-weight:700}.template-setting-page .template-setting-container{position:relative;display:flex;flex-flow:row;background:#fff;min-height:calc(100vh - 178px);border-bottom-left-radius:3px;border-bottom-right-radius:3px}.template-setting-page .template-setting-container .plat-def{height:30px!important;line-height:30px!important}.template-setting-page .template-setting-container .plat-def .refer{width:88%!important;left:6%!important}.template-setting-page .template-setting-container .dragWidthCom_right{display:flex;width:100%}.template-setting-page .template-setting-container .dragWidthCom_left{position:relative;overflow:unset;max-width:440px}.template-setting-page .template-setting-container .dragWidthCom_line:active,.template-setting-page .template-setting-container .dragWidthCom_line:hover,.template-setting-page .template-setting-container .dragWidthCom_line:visited{background:rgba(0,0,0,.54)}.template-setting-page .template-setting-container .template-setting-left-sider-container{border-right:1px solid #eaeaea}.template-setting-page .template-setting-container .template-setting-left-sider-container:hover .toggle-left-btn{display:block}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-tab{height:31px;background:#fff;display:flex;justify-content:space-around;color:rgba(85,85,85,.65)}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-tab div{height:100%;line-height:31px;font-weight:500;cursor:pointer}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-tab div.active{border-bottom:2px solid #e14c46;color:#e14c46}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree{height:100%;overflow:hidden;padding-bottom:15px}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .tree-contianer{overflow:auto;width:100%}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .tree-contianer .u-tree{padding-left:10px}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .tree-contianer .u-tree li span.u-tree-iconEle,.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .tree-contianer .u-tree li span.u-tree-switcher{height:26px;line-height:26px}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .tree-contianer .u-tree.u-tree-show-line li:not(:last-child)>.u-tree-switcher-noop{background-position:-56px -13px}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .tree-contianer .u-tree li a{padding:0}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .tip{font-size:12px;margin:10px 2px 12px 12px;color:#111}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .tip .iconfont{color:#f0871a;font-size:13px;margin-right:2px}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .checkbox-hotkey-wrapper,.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .left-tree-search{margin-left:12px}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .left-tree-search .ant-select-sm{height:33px}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .left-tree-search .ant-select-selection .ant-select-selection__rendered{height:28px;overflow:hidden}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .left-tree-search .ant-select-selection .ant-select-selection__rendered ul{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:flex-start}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .left-tree-search .ant-select-selection .ant-select-selection__rendered ul li.ant-select-selection__choice{height:22px;line-height:22px;max-width:50%}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .left-tree-search .ant-select-selection .ant-select-selection__rendered ul .ant-select-selection__choice.ant-select-selection__choice__disabled{min-width:57px}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .left-tree-search .ant-select-selection .ant-select-selection__rendered ul li.ant-select-search input{height:22px}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .tree-feature-container{z-index:1;width:100%}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .check-all-tree{margin-bottom:10px}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .u-tree-node-selected{background:#a8ccef}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .u-tree-node-selected .u-tree-title{background:#a8ccef;color:#111}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .moved-tree-node>a.u-tree-node-selected{background:unset}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .moved-tree-node>a>.u-tree-title{color:#999;cursor:not-allowed}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree li.drag-over-gap-top>a[draggable]{border-top:unset}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree li.drag-over-gap-bottom>a[draggable]{border-bottom:unset}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .nc-tree.u-tree li .u-tree-node-content-wrapper .iconfont{color:#ffcf31}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .nc-tree.u-tree li .u-tree-node-content-wrapper .u-tree-title{background:inherit}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .nc-tree.u-tree li .u-tree-node-content-wrapper:hover:not(.u-tree-node-selected){background:#d9d9d9;color:#111}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .nc-tree.u-tree li.moved-tree-node>.u-tree-node-content-wrapper:hover{background:unset}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .not-have-meta-data{position:absolute;top:180px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);color:#888;font-size:14px;text-align:center}.template-setting-page .template-setting-container .template-setting-left-sider-container .left-side-meta-tree .not-have-meta-data img{display:block;width:80px;height:80px;margin-bottom:10px}.template-setting-page .template-setting-container .template-setting-left-sider{width:279px;padding:5px;height:calc(100vh - 110px);overflow-y:auto;background-color:#f1f2f4;border-bottom-left-radius:3px}.template-setting-page .template-setting-container .template-setting-left-sider.implement{height:calc(100vh - 140px)}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel{padding:10px 10px 2px}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-header .title{font-size:13px;font-weight:500}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-header .tip{font-size:12px;margin:0 2px 16px 12px;color:#9b9b9b;color:#111}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-header .tip .iconfont{color:#f0871a;font-size:13px;margin-right:2px}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content{display:flex;margin-top:10px;flex-wrap:wrap}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item-wrapper{display:flex;cursor:move;background:#fff;color:#111;width:48%;height:35px;padding:6px 12px;margin-right:4%;margin-bottom:8px;border:1px solid transparent;box-shadow:0 0 3px 1px hsla(0,0%,78.4%,.5);border-radius:3px;justify-content:left;align-items:center;word-break:keep-all;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item-wrapper:hover{border-color:#0c88fe}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item-wrapper:active{border-color:#0c88fe;color:#0073e1}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item-wrapper:nth-child(2n){margin-right:0}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item{line-height:16px}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item .name{font-size:13px;vertical-align:middle}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item .iconfont{font-size:16px;margin-right:4px;vertical-align:middle}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item svg{width:16px;height:16px;margin-right:4px;vertical-align:middle}.template-setting-page .template-setting-container .template-setting-right-sider{border-left:1px solid #dddfe1;width:256px;background:#fafafa;border-bottom-right-radius:5px;min-height:calc(100vh - 178px)}.template-setting-page .template-setting-container .template-setting-right-sider .ant-tabs-tabpane{height:calc(100vh - 190px);overflow-y:auto}.template-setting-page .template-setting-container .template-setting-right-sider .basic-property{display:flex;flex-wrap:wrap;padding:0 10px;color:#2b3441;align-items:center}.template-setting-page .template-setting-container .template-setting-right-sider .basic-property li:nth-child(odd){list-style-type:none;width:35%;display:inline-block;line-height:1.3;text-align:right;padding:0 6px 6px 0}.template-setting-page .template-setting-container .template-setting-right-sider .basic-property li:nth-child(2n){list-style-type:none;width:65%;display:inline-block;line-height:30px;padding-bottom:6px}.template-setting-page .template-setting-container .template-setting-right-sider .basic-property .metapath{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.template-setting-page .template-setting-container .template-setting-right-sider .attachmentSearch .ant-input-suffix .anticon-search{display:none}.template-setting-page .template-setting-container .template-setting-right-sider .attachmentSearch .icon-danchuang{font-size:13px;color:rgba(0,0,0,.45);cursor:pointer;transition:all .3s;display:inline-block;font-style:normal;vertical-align:-.125em;text-align:center;text-transform:none;line-height:1;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased}.template-setting-page .template-setting-container .from-card{padding:10px 10px 0;border-radius:0 0 3px 3px}.template-setting-page .template-setting-container .from-card .ant-row{display:flex;flex-direction:column}.template-setting-page .template-setting-container .from-card .ant-row div{flex-direction:row}.template-setting-page .template-setting-container .from-card .ant-row .ant-col-lg-12,.template-setting-page .template-setting-container .from-card .ant-row .ant-col-md-24,.template-setting-page .template-setting-container .from-card .ant-row .ant-col-xl-8{width:100%;padding:0!important}.template-setting-page .template-setting-container .from-card .ant-row .ant-col-lg-12 .ant-form-item,.template-setting-page .template-setting-container .from-card .ant-row .ant-col-md-24 .ant-form-item,.template-setting-page .template-setting-container .from-card .ant-row .ant-col-xl-8 .ant-form-item{margin:0 0 3px}.template-setting-page .template-setting-container .from-card .ant-form-item{display:flex}.template-setting-page .template-setting-container .from-card .ant-form-item .ant-input{font-size:13px}.template-setting-page .template-setting-container .from-card .ant-form-item-control-wrapper{flex:1}.template-setting-page .template-setting-container .from-card .ant-form-item-label{min-width:96px;line-height:34px}.template-setting-page .template-setting-container .from-card .ant-form-item-label label:after{content:" ";margin-right:6px}.template-setting-page .template-setting-container .toggle-left-btn{display:none;position:absolute;cursor:pointer;background-color:#737b8d;top:50%;left:300px;width:15px;text-align:center;line-height:40px;-webkit-transform:translateY(-50%);transform:translateY(-50%);border-top-right-radius:3px;border-bottom-right-radius:3px;z-index:21}.template-setting-page .template-setting-container .toggle-left-btn .iconfont{font-size:12px;color:#cbd0dc}.template-setting-page .template-setting-container .toggle-left-btn:hover{background-color:#8499c3}.template-setting-page .template-setting-container .toggle-left-btn.show{display:block}.template-setting-page .template-setting-container .toggle-left-btn.show .iconfont{display:inline-block;-webkit-transform:scaleX(-1);transform:scaleX(-1)}.template-setting-page .template-setting-container .toggle-left-btn.hide{display:none}.template-setting-page .template-setting-container .toggle-left-btn.implement{left:unset;right:-14px}.template-setting-page .template-setting-container .spread-height .toggle-left-btn.implement{right:-5px}.template-setting-page .template-setting-container .template-setting-left-sider.implement{width:100%}.template-setting-page .template-setting-container .template-setting-left-sider-container.spread-height{height:calc(100vh - 140px)}.template-setting-page .template-setting-container .u-tree-searchable-filter{color:#e14c46;transition:all .3s ease}.template-setting-page .template-setting-container .nc-select-wrapper{line-height:100%}.template-setting-page .template-setting-content{height:calc(100vh - 110px);overflow-y:auto;flex:1;padding:12px 10px 10px;scroll-behavior:smooth}.template-setting-page .template-setting-content .content-area-template-name{font-size:16px;color:#111;font-weight:500}.template-setting-page .template-setting-content .area-item{background:#fff;border-radius:3px;border:1px solid #ccc;margin-top:15px;box-shadow:0 0 3px 1px #c8c8c8;position:relative}.template-setting-page .template-setting-content .area-item.active{border:1px solid #0073e1;box-shadow:0 0 0 2px #8ac6ff}.template-setting-page .template-setting-content .area-item:hover{border-color:#0073e1}.template-setting-page .template-setting-content .area-item.active .area-item-button,.template-setting-page .template-setting-content .area-item.card-active .area-item-button,.template-setting-page .template-setting-content .area-item:hover .area-item-button{display:flex}.template-setting-page .template-setting-content .area-item .area-item-header{position:relative;cursor:move;background:#fff;height:40px;padding:0 10px;border-radius:3px}.template-setting-page .template-setting-content .area-item .area-item-header .area-item-name-wrapper{cursor:pointer;flex:1}.template-setting-page .template-setting-content .area-item .area-item-header .ant-checkbox-inner{width:14px;height:14px}.template-setting-page .template-setting-content .area-item .area-item-header.hide{display:none}.template-setting-page .template-setting-content .area-item .area-item-name{font-size:14px}.template-setting-page .template-setting-content .area-item .area-item-name .area-name{font-weight:500;padding-left:8px;color:#111;vertical-align:middle;line-height:40px}.template-setting-page .template-setting-content .area-item .area-item-name .iconfont{font-size:12px;color:#999696;vertical-align:middle}.template-setting-page .template-setting-content .area-item .area-item-name .expand.tab{position:absolute;left:10px;bottom:-30px;z-index:1}.template-setting-page .template-setting-content .area-item .area-item-button{display:none;align-items:center}.template-setting-page .template-setting-content .area-item .area-item-button label{font-size:12px;margin-right:8px}.template-setting-page .template-setting-content .area-item .area-item-button a{font-size:12px;margin-right:16px}.template-setting-page .template-setting-content .area-item .area-item-button a.disabled{color:#b9b9b9}.template-setting-page .template-setting-content .area-item .area-item-button .link,.template-setting-page .template-setting-content .area-item .area-item-button a{color:#555}.template-setting-page .template-setting-content .area-item .area-item-button a:not(.disabled):hover{color:#0073e1}.template-setting-page .template-setting-content .area-item .area-item-button .opr-btn:hover{color:#e14c46}.template-setting-page .template-setting-content .area-item .area-item-button .opr-btn:hover:not(.icon-btn){border:1px solid #e14c46}.template-setting-page .template-setting-content .area-item .area-item-button.float{position:absolute;top:-16px;right:-4px;height:28px;background:#f6f6f6;border-radius:3px;padding:2px 5px;box-shadow:0 1px 3px 0 hsla(0,0%,46.3%,.5);z-index:1}.template-setting-page .template-setting-content .area-item .opr-btn{display:inline-block;cursor:pointer;background:#fff;width:30px;height:30px;line-height:30px;text-align:center;margin-right:0;border:1px solid #d0d0d0;border-radius:3px;vertical-align:middle}.template-setting-page .template-setting-content .area-item .opr-btn .iconfont{font-size:20px}.template-setting-page .template-setting-content .area-item .opr-btn .icon-shanchu,.template-setting-page .template-setting-content .area-item .opr-btn .icon-xinzengfenzu{font-size:16px}.template-setting-page .template-setting-content .area-item .opr-btn .iconfont.disabled{color:#b9b9b9}.template-setting-page .template-setting-content .area-item .opr-btn.icon-btn{border:none;background:transparent;width:22px;height:24px;line-height:24px}.template-setting-page .template-setting-content .area-item .opr-btn.icon-btn .iconfont{font-size:18px}.template-setting-page .template-setting-content .area-item .btn-group>span{display:inline-block}.template-setting-page .template-setting-content .area-item .btn-group>.opr-btn:not(.icon-btn){border-radius:0;border-right:0}.template-setting-page .template-setting-content .area-item .btn-group>.opr-btn:not(.icon-btn):hover{border-right:0}.template-setting-page .template-setting-content .area-item .btn-group>.opr-btn:not(.icon-btn):hover:last-child{border-right:1px solid #e14c46}.template-setting-page .template-setting-content .area-item .btn-group .opr-btn:not(.icon-btn)+.opr-btn:hover,.template-setting-page .template-setting-content .area-item .btn-group>.opr-btn:not(.icon-btn):hover+.opr-btn{border-left:1px solid #e14c46}.template-setting-page .template-setting-content .area-item .btn-group .opr-btn:not(.icon-btn):first-child:not(:last-child){border-top-left-radius:3px;border-bottom-left-radius:3px}.template-setting-page .template-setting-content .area-item .btn-group .opr-btn:not(.icon-btn):last-child:not(:first-child){border-top-right-radius:3px;border-bottom-right-radius:3px}.template-setting-page .template-setting-content .area-item .btn-group .opr-btn:first-child:last-child{border-radius:3px}.template-setting-page .template-setting-content .area-item .btn-group .opr-btn:not(.icon-btn):last-child{border-right:1px solid #d0d0d0}.template-setting-page .template-setting-content .area-item .area-item-content{position:relative;min-height:73px;background-color:#fafafa}.template-setting-page .template-setting-content .area-item .area-item-content .property-item{transition:all .2s ease-out;position:relative;width:25%;padding:1px;display:inline-block;vertical-align:top;cursor:move}.template-setting-page .template-setting-content .area-item .area-item-content .property-item.disabled-card .item-content{position:relative}.template-setting-page .template-setting-content .area-item .area-item-content .property-item.disabled-card .item-content:after{content:"";position:absolute;width:100%;top:0;left:0;bottom:0;z-index:5}.template-setting-page .template-setting-content .area-item .area-item-content .property-item .item-content .item-wrapper{position:relative}.template-setting-page .template-setting-content .area-item .area-item-content .property-item .item-content .item-wrapper:after{content:"";position:absolute;width:calc(100% - 30px);height:30px;left:0;top:0;z-index:2}.template-setting-page .template-setting-content .area-item .area-item-content .property-item .item-content .icon-danchuang{background:#fff;border-radius:3px;border:1px solid #ccc}.template-setting-page .template-setting-content .area-item .area-item-content .property-item .hidden-tag{position:absolute;background:url('+n(a(1142))+') no-repeat;background-size:contain;width:20px;height:18px;top:3px;right:2px;z-index:2}.template-setting-page .template-setting-content .area-item .area-item-content .property-item.table-content{margin:0;padding:0;width:auto;border-radius:0}.template-setting-page .template-setting-content .area-item .area-item-content .property-item.table-content .hidden-tag{top:0;right:-1px}.template-setting-page .template-setting-content .area-item .area-item-content .property-item:hover .delete-card,.template-setting-page .template-setting-content .area-item .area-item-content .property-item:hover .move-card-selection{display:inline-block}.template-setting-page .template-setting-content .area-item .area-item-content .property-item:not(.table-content).hover:before{content:"";position:absolute;width:2px;background:#2797ff;left:-2px;top:0;bottom:0;z-index:10}.template-setting-page .template-setting-content .area-item .area-item-content .property-item:not(.table-content).hover:after{content:"";position:absolute;width:2px;background:#f7c1c1;left:0;top:0;bottom:0;z-index:10}.template-setting-page .template-setting-content .area-item .area-item-content .property-item.card-checkbox .card-item{justify-content:flex-start}.template-setting-page .template-setting-content .area-item .area-item-content .control-icon-show .delete-card,.template-setting-page .template-setting-content .area-item .area-item-content .control-icon-show .move-card-selection{display:inline-block}.template-setting-page .template-setting-content .area-item .area-item-content .card-item{display:flex;transition:all .2s ease-out;color:#474d54;text-overflow:ellipsis;min-height:32px;width:100%;padding:2px;align-items:center;justify-content:space-around}.template-setting-page .template-setting-content .area-item .area-item-content .card-item .item-name{width:80px;padding-right:4px;text-align:right;line-height:1.2;word-break:break-word}.template-setting-page .template-setting-content .area-item .area-item-content .card-item .item-content{width:100%;line-height:12px;white-space:normal;border:1px solid transparent}.template-setting-page .template-setting-content .area-item .area-item-content .card-item .title{position:relative}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-content .required-card .card-item .title:after,.template-setting-page .template-setting-content .area-item .area-item-content .search-area-content .required-card .card-item:after,.template-setting-page .template-setting-content .area-item .area-item-content .table-area-content .required-card .item-name:after{position:absolute;content:"*";color:red;height:20px;top:50%;left:6px;margin-top:-10px;z-index:10}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-content .required-card .card-item .title:after{left:-8px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-content .property-item.select-card .card-item,.template-setting-page .template-setting-content .area-item .area-item-content .search-area-content .property-item.select-card .card-item{border-radius:3px;background-color:#b6dcff}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-content{padding:5px;border-top:1px solid #e4e4e4;position:relative}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-content .property-item .card-item .item-content{width:calc(100% - 84px)}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-content .property-item.is-blank-dom{height:38px;cursor:default;width:0;position:absolute}.template-setting-page .template-setting-content .area-item .area-item-content .search-area-content{padding:5px 10px;border-top:1px solid #e4e4e4}.template-setting-page .template-setting-content .area-item .area-item-content .search-area-content .property-item{width:16.6%}.template-setting-page .template-setting-content .area-item .area-item-content .search-area-content .property-item.is-blank-dom{height:39px;cursor:default;background:unset;border-bottom:unset;width:0;position:absolute}.template-setting-page .template-setting-content .area-item .area-item-content .table-area-content .property-item.select-card .item-name{background-color:#b6dcff}.template-setting-page .template-setting-content .area-item .area-item-content .card-item.normal-card:hover{background-color:rgba(0,153,255,.14901961)}.template-setting-page .template-setting-content .area-item .area-item-content .table-area-content .normal-card:hover .item-name{background-color:#fff}.template-setting-page .template-setting-content .area-item .area-item-content .move-card-selection{position:absolute;right:23px;top:0;height:18px;width:18px;line-height:8px;color:#fff;border-radius:50%;text-align:center;font-size:17px;cursor:pointer;z-index:9;display:none}.template-setting-page .template-setting-content .area-item .area-item-content .delete-card{position:absolute;right:0;top:0;width:18px;height:18px;line-height:15px;text-align:center;border-radius:50%;display:none;color:#fff;cursor:pointer;z-index:9}.template-setting-page .template-setting-content .area-item .area-item-content .delete-card,.template-setting-page .template-setting-content .area-item .area-item-content .move-card-selection{background:#a7adb6}.template-setting-page .template-setting-content .area-item .area-item-content .delete-card:hover,.template-setting-page .template-setting-content .area-item .area-item-content .move-card-selection:hover{background:#878e9a}.template-setting-page .template-setting-content .area-item .area-item-content .search-card .delete-card,.template-setting-page .template-setting-content .area-item .area-item-content .search-card .move-card-selection{top:-10px}.template-setting-page .template-setting-content .area-item .area-item-content .search-card .card-checkbox-container{position:absolute;right:0;z-index:9}.template-setting-page .template-setting-content .area-item .area-item-content .table-item{position:relative;min-width:120px}.template-setting-page .template-setting-content .area-item .area-item-content .table-item .item-name{position:relative;background-color:#f0f4fb;color:#4b4b4b;border-top:1px solid #e4e4e4;border-bottom:1px solid #e4e4e4;white-space:nowrap;font-weight:700}.template-setting-page .template-setting-content .area-item .area-item-content .table-item .item-name .title{display:inline-block;padding:6px 15px}.template-setting-page .template-setting-content .area-item .area-item-content .table-item .item-content{min-height:40px;padding:5px;line-height:12px;background:#fff}.template-setting-page .template-setting-content .area-item .area-item-content .table-item .item-content .refer-wrapper .refer:hover{padding-right:20px!important}.template-setting-page .template-setting-content .area-item .area-item-content .table-item .card-checkbox-container{margin-top:5px}.template-setting-page .template-setting-content .area-item .area-item-content .query-btn-area{float:right;margin-right:20px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group{position:relative}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group.active .form-area-content{background-color:rgba(221,236,250,.5)}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group.active .area-item-button,.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group:hover .area-item-button{display:flex}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .area-item-header{border-top:1px solid #ccc}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header{position:relative;display:flex;color:#555;margin:6px 14px 0;height:24px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .form-group-title{line-height:24px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .form-group-title .iconfont{cursor:pointer;font-size:12px;padding-right:4px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .group-name{padding:0 7px 0 14px;cursor:pointer}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .group-btns{position:absolute;right:0;top:-14px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .group-btns .btn-group>.opr-btn:hover+.opr-btn{border-left:0}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .group-btns .opr-btn:hover{border:none;color:#e14c46}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .group-btns .opr-btn:last-child{border-right:0}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .dashed-line{flex-grow:1}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .dashed-line:after{content:"";position:relative;display:block;height:1px;top:50%;border-top:1px dashed #c7c6c6}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-area-content{min-height:48px;border-top:0}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .empty-area{text-align:center;padding:10px;font-size:13px;color:#9b9b9b}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .empty-area .iconfont{color:#f0871a;font-size:13px;margin-right:2px}.template-setting-page .template-setting-content .area-item .table-area-content{display:flex;overflow-x:auto;white-space:nowrap;min-height:73px;position:relative}.template-setting-page .template-setting-content .area-item .table-area-content .property-item.hover .table-item:before{content:"";position:absolute;width:2px;background:#2797ff;left:-2px;top:0;bottom:0;z-index:10}.template-setting-page .template-setting-content .area-item .table-area-content .property-item.hover .table-item:after{content:"";position:absolute;width:2px;background:#f7c1c1;left:0;top:0;bottom:0;z-index:10}.template-setting-page .template-setting-content .area-item .table-area-content.tile-view{display:block;white-space:normal}.template-setting-page .template-setting-content .area-item .table-area-content.tile-view .property-item.table-content{width:16.6%}.template-setting-page .template-setting-content .area-item .table-area-content .card-checkbox{text-align:center}.template-setting-page .template-setting-content .area-item .table-area-content .property-item.is-blank-dom{height:73px}.template-setting-page .template-setting-content .area-item .table-area-content .property-item.is-blank-dom.hover:before{content:"";position:absolute;width:2px;background:#2797ff;left:-2px;top:0;bottom:0;z-index:10}.template-setting-page .template-setting-content .area-item .table-area-content .property-item.is-blank-dom.hover:after{content:"";position:absolute;width:2px;background:#f7c1c1;left:0;top:0;bottom:0;z-index:10}.template-setting-page .template-setting-content .area-item .table-tabs-container .tab-opr-more{cursor:pointer;width:21px;height:21px;line-height:21px;color:#7c7c7c;background:#fff;border-radius:3px;border:1px solid #bcbcbc;box-shadow:0 1px 3px 0 rgba(163,156,156,.5);text-align:center;margin-top:10px;margin-right:10px}.template-setting-page .template-setting-content .area-item .table-tabs-container .tab-opr-more .iconfont{display:block;-webkit-transform:scale(.8);transform:scale(.8);color:#666}.template-setting-page .template-setting-content .area-item .table-tabs-container .tab-opr-more:hover{background:#efefef}.template-setting-page .template-setting-content .area-item .table-tabs-container .u-tabs-bar{padding-left:20px}.template-setting-page .template-setting-content .area-item .table-tabs-container .u-tabs-top{border-radius:3px}.template-setting-page .template-setting-content .area-item .table-tabs-container .u-tabs-top .u-tabs-nav-container{padding-left:10px!important;padding-right:64px!important}.template-setting-page .template-setting-content .area-item .table-tabs-container .u-tabs-top .u-tabs-nav-container .u-tabs-tab-next-icon,.template-setting-page .template-setting-content .area-item .table-tabs-container .u-tabs-top .u-tabs-nav-container .u-tabs-tab-prev-icon{width:20px;height:20px;line-height:20px;border-radius:50%;background-color:#dedddd}.template-setting-page .template-setting-content .area-item .table-tabs-container .u-tabs-top .u-tabs-nav-container .u-tabs-tab-btn-disabled{color:#b1b1b1}.template-setting-page .template-setting-content .area-item .table-tabs-container .u-tabs-top .u-tabs-nav-container .u-tabs-tab-btn-disabled .u-tabs-tab-next-icon,.template-setting-page .template-setting-content .area-item .table-tabs-container .u-tabs-top .u-tabs-nav-container .u-tabs-tab-btn-disabled .u-tabs-tab-prev-icon{background-color:#ececec}.template-setting-page .template-setting-content .area-item .table-tabs-container .u-tabs-top .u-tabs-tab-prev{width:20px;left:auto;right:34px}.template-setting-page .template-setting-content .area-item .table-tabs-container .u-tabs-top .u-tabs-nav-wrap .u-tabs-tab:nth-child(2){margin-left:0!important}.template-setting-page .template-setting-content .table-fold-area{position:relative}.template-setting-page .template-setting-content .table-fold-area.card-active .area-item-button{display:flex}.template-setting-page .template-setting-content .empty-content{position:relative;text-align:center;top:50%;-webkit-transform:translateY(-70%);transform:translateY(-70%)}.template-setting-page .template-setting-content .empty-content img{width:120px;margin-bottom:16px}.template-setting-page .template-setting-content .empty-content p{color:#888;font-size:14px;line-height:1.5;margin:0}.template-setting-page .ant-drawer,.template-setting-page .ant-drawer .ant-drawer-mask{width:auto}.template-setting-page .ant-drawer .ant-drawer-content-wrapper{top:96px;height:calc(100vh - 110px)}.template-setting-page .ant-drawer .ant-drawer-mask,.template-setting-page .ant-drawer.ant-drawer-open .ant-drawer-content-wrapper{top:96px;right:272px}.template-setting-page .ant-drawer .drawer-content{height:100%;padding:0;overflow-x:hidden}.template-setting-page .ant-drawer .drawer-content .table-side-area .area-item-header{position:absolute;cursor:auto;top:0;left:0;width:100%;z-index:20}.template-setting-page .ant-drawer .drawer-content .table-side-area .area-item-header .area-item-button{display:flex}.template-setting-page .ant-drawer .drawer-content .table-side-area .area-item-header .drawer-close-btn{cursor:pointer;width:25px;margin-left:26px}.template-setting-page .ant-drawer .drawer-content .table-side-area .area-item-header .drawer-close-btn .iconfont{font-size:18px}.template-setting-page .ant-drawer .drawer-content .table-side-area .area-item-header .drawer-close-btn:hover{color:#e14c46}.template-setting-page .ant-drawer .drawer-content .area-item.side-area{border:0;margin:0;padding-top:40px}.template-setting-page .ant-drawer .drawer-content .area-item .area-item-content .form-area-content{border-top:0}.template-setting-page .ant-drawer .drawer-content .area-item .area-item-content .form-area-content .property-item{width:33.33333%}.template-setting-page .ant-drawer .drawer-content .area-item .area-item-content .form-area-content .is-blank-dom{width:unset}.template-setting-page .ant-drawer .drawer-content .grandson-content{border-top:1px solid #e4e4e4;padding:0 20px 5px}.template-setting-page .ant-drawer .drawer-content .grandson-content .area-item,.template-setting-page .ant-drawer .drawer-content .grandson-content .area-item .area-item-header{cursor:move}.template-setting-page .ant-drawer .drawer-content .grandson-content .area-item .table-area-content.tile-view .property-item.table-content{width:20%}.template-setting-page .ant-popover{z-index:220}.template-setting-page .ant-checkbox-checked .ant-checkbox-inner,.template-setting-page .ant-checkbox-indeterminate .ant-checkbox-inner{background-color:#e14c46;border-color:#e14c46}.template-setting-page .ant-checkbox-input:focus+.ant-checkbox-inner,.template-setting-page .ant-checkbox-wrapper:hover .ant-checkbox-inner,.template-setting-page .ant-checkbox:hover .ant-checkbox-inner{border-color:#e14c46}.template-setting-page .ant-select-selection:hover{border-color:#40a9ff}.template-setting-page .ant-select-selection:focus{border-color:#007ace}.template-setting-page .hide-drag-line .dragWidthCom .dragWidthCom_line,.template-setting-page .hide-drag-line .dragWidthCom .dragWidthCom_lines{display:none}.template-setting-color-select{display:flex;align-items:center}.template-setting-color-select .color-select-color{margin-left:5px;width:15px;height:15px;border:1px solid #ccc;display:inline-block}.realate-meta-modal .nc-workbench-page{position:static;height:100%;padding:0;margin:0}.realate-meta-modal .nc-workbench-page .sider-list{height:100%;overflow-y:auto;overflow-x:hidden;margin-right:20px;border-radius:4px}.realate-meta-modal .nc-workbench-page .sider-list table,.realate-meta-modal .nc-workbench-page .sider-list td,.realate-meta-modal .nc-workbench-page .sider-list th{border:1px solid #ccc}.realate-meta-modal .nc-workbench-page .sider-list table .close-and-text,.realate-meta-modal .nc-workbench-page .sider-list td .close-and-text,.realate-meta-modal .nc-workbench-page .sider-list th .close-and-text{display:flex;align-items:center}.realate-meta-modal .nc-workbench-page .sider-list td,.realate-meta-modal .nc-workbench-page .sider-list th{padding-left:5px}.realate-meta-modal .nc-workbench-page .sider-list table{width:100%}.realate-meta-modal .nc-workbench-page .sider-list tbody tr:hover{background-color:#e6f7ff}.realate-meta-modal .nc-workbench-page .sider-list tbody tr.select{background-color:#bae7ff}.realate-meta-modal .nc-workbench-page .sider-list tbody i{font-size:18px;cursor:pointer}.realate-meta-modal .nc-workbench-page .sider-tree{height:100%;overflow:auto;border:1px solid #d9d9d9;border-radius:4px;margin-right:15px}.Formula{overflow:auto!important}.template-setting-sider .ant-form-item-label label{color:#2b3441}.template-setting-sider .sider-content.meta-tree{position:relative}.template-setting-sider .sider-content .sider-search{text-align:center}.template-setting-sider .sider-content .sider-search input{border-top:none;border-right:none;border-left:none}.template-setting-sider .sider-content .sider-search input:focus,.template-setting-sider .sider-content .sider-search input:hover{box-shadow:none}.template-setting-sider .sider-content .sider-search span.ant-input-group-addon{cursor:pointer;background:#fff;border:1px solid #d9d9d9;border-radius:16px;padding:0 8px}.template-setting-sider .sider-content .sider-search span.ant-input-group-addon:hover{border-color:#40a9ff}.template-setting-sider .sider-content .sider-tab{text-align:center}.template-setting-sider .sider-content .sider-tab .rightTemplate .required:before{color:#f5222d;content:"*";display:inline-block;font-family:SimSun;font-size:14px;line-height:1;margin-right:4px}.template-setting-sider .sider-content .sider-tab .rightTemplate li .refer-wrapper{margin-top:7px}.template-setting-sider .sider-content .sider-tab .rightTemplate .isgrandsonRadio>div{text-align:left}.template-setting-sider .meta-tree .sider-tree .nc-tree.u-tree .u-tree-node-content-wrapper .iconfont{color:#ffcf31}.template-setting-sider .meta-tree .sider-tree .nc-tree.u-tree .u-tree-node-content-wrapper .u-tree-searchable-filter{color:#e14c46;transition:all .3s ease}.add-not-meta-data .u-modal-body .code-div span{margin-right:16px}.add-not-meta-data .u-modal-body .code-div:before{color:#f5222d;content:"*";display:inline-block;font-family:SimSun;font-size:14px;line-height:1;margin-right:4px}.add-not-meta-data .u-modal-body .not-code span{margin-right:16px}.add-not-meta-data .u-modal-body .not-code:before{color:#f5222d;content:"*";display:inline-block;font-family:SimSun;font-size:14px;line-height:1;margin-right:4px}.add-not-meta-data .u-modal-body input{width:300px}.add-not-meta-data .u-modal-body input.has-error,.add-not-meta-data .u-modal-body input.has-error:focus{border-color:red;box-shadow:none}.add-not-meta-data .u-modal-body .form-explain{color:red;margin-left:5px}.zonesetting-moneyModal .descrip_label{padding:10px;margin-bottom:10px;border-bottom:1px solid #eee;font-weight:700}.zonesetting-moneyModal .mdcontent{display:flex}.zonesetting-moneyModal .mdcontent div .money-label{margin:0 10px 0 20px}.zonesetting-referModal .descrip_label{padding:10px;margin-bottom:10px;border-bottom:1px solid #eee;font-weight:700;background:#f3f3f3;border-radius:3px 3px 0 0}.zonesetting-referModal .mdcontent{display:flex;flex-direction:column;margin:20px 0}.zonesetting-referModal .mdcontent .mdcontentItem{margin-top:10px}.zonesetting-referModal .mdcontent .mdcontentItem .refer_label{min-width:150px;display:inline-block;margin-right:10px;text-align:right}.zonesetting-referModal .mdcontent .mdcontentItem .radio-group-hotkey-wrapper{display:inline-block}.zonesetting-referModal .mdcontent .mdcontentItem .radio-group-hotkey-wrapper .u-radio-label{min-width:50px}.zonesetting-referModal .ant-input{max-width:60%;margin-right:20px}.zonesetting-customModal .u-modal-body{padding:20px!important}.zonesetting-customModal .u-modal-body .mdcontent{display:flex;flex-direction:column;margin-top:10px}.zonesetting-customModal .u-modal-body .mdcontent .mdcontentItem{margin-top:10px}.zonesetting-customModal .u-modal-body .mdcontent .mdcontentItem .refer_label{min-width:150px;display:inline-block;margin-right:10px;text-align:right}.zonesetting-customModal .u-modal-body .mdcontent .radio-group-hotkey-wrapper{display:inline-block}.zonesetting-customModal .u-modal-body .mdcontent .radio-group-hotkey-wrapper .u-radio-label{min-width:50px}.zonesetting-customModal .u-modal-body .def-refer{width:80%}.custom-filter-dropdown input.ant-input.ant-input-sm{height:24px;margin-right:8px}.custom-filter-dropdown button{margin-right:8px}.ant-select-sm .ant-select-selection.ant-select-selection--single{height:24px}.ant-select-sm .ant-select-selection.ant-select-selection--single .ant-select-selection__rendered{line-height:22px}.zonesetting-batch-setting-modal.ant-modal{padding-bottom:0}.zonesetting-batch-setting-modal .ant-modal-content{height:100%}.zonesetting-batch-setting-modal .ant-modal-body{padding:12px 16px 0 15px}.zonesetting-batch-setting-modal .ant-modal-body .ant-table-fixed-header .ant-table-scroll .ant-table-header{padding-bottom:0}.zonesetting-batch-setting-modal .u-modal-footer{position:absolute;width:100%;left:0;bottom:0}.zonesetting-batch-setting-modal .ant-checkbox-checked .ant-checkbox-inner,.zonesetting-batch-setting-modal .ant-checkbox-indeterminate .ant-checkbox-inner{background-color:#e14c46;border-color:#e14c46}.zonesetting-batch-setting-modal .ant-checkbox-input:focus+.ant-checkbox-inner,.zonesetting-batch-setting-modal .ant-checkbox-wrapper:hover .ant-checkbox-inner,.zonesetting-batch-setting-modal .ant-checkbox:hover .ant-checkbox-inner{border-color:#e14c46}.zonesetting-batch-setting-modal .batch-setting-table .ant-table-body{height:calc(100vh - 190px)}.ant-modal-wrap{overflow:hidden}.ant-spin-container .ant-table .ant-table-content .ant-table-scroll .ant-table-header{overflow:hidden;margin-bottom:0!important;padding-bottom:0!important}.u-modal-dialog{-webkit-transform:translateY(0)!important;transform:translateY(0)!important}.meta-add-modal .u-modal-header{padding:5px 16px 5px 0}.meta-add-modal .u-modal-header .customer-header{padding-left:20px;font-weight:400;line-height:30px}.meta-add-modal .u-modal-header .custom-title{display:inline;font-weight:700;margin-right:25px}.meta-add-modal .ant-checkbox-checked .ant-checkbox-inner,.meta-add-modal .ant-checkbox-indeterminate .ant-checkbox-inner{background-color:#e14c46;border-color:#e14c46}.meta-add-modal .ant-checkbox-input:focus+.ant-checkbox-inner,.meta-add-modal .ant-checkbox-wrapper:hover .ant-checkbox-inner,.meta-add-modal .ant-checkbox:hover .ant-checkbox-inner{border-color:#e14c46}.meta-add-modal .ant-tree li .ant-tree-checkbox.ant-tree-checkbox-checked .ant-tree-checkbox-inner{background-color:#e14c46;border-color:#e14c46}.meta-add-modal .ant-tree li .ant-tree-checkbox.ant-tree-checkbox-checked .ant-tree-checkbox-inner:hover{border-color:#e14c46}.u-modal-open .meta-add-modal.u-modal .u-modal-dialog .u-modal-content .customer-header{position:relative;z-index:2;width:90%;height:40px;background-color:#fff}.setting-header-left{display:flex}.zonesetting-batch-setting-modal.u-modal .u-modal-body{padding:0 12px}.zonesetting-batch-setting-modal.u-modal .u-modal-body .batch-setting-tabs{margin-bottom:2px}.move-card-menu{background:#fff;text-align:center;box-shadow:0 2px 4px 2px rgba(0,0,0,.16)}.move-card-menu ul{min-width:80px;min-height:64px}.move-card-menu ul li{padding:5px;cursor:pointer;font-size:12px}.move-card-menu ul li:hover{background:#f3f3f3}.test-hide-item .u-dropdown-menu{max-height:345px;overflow:auto;background:#fff;z-index:1000}.batch-setting-tabs .u-tabs.u-tabs-top.u-tabs-simple.lightapp-component-tabs .u-tabs-bar .u-tabs-nav-container{padding-left:32px!important}.batch-setting-tabs .u-tabs .u-tabs-tab-next-icon,.batch-setting-tabs .u-tabs .u-tabs-tab-prev-icon{width:24px;height:24px;background-color:#dedddd;line-height:24px;border-radius:12px;text-align:center;font-size:14px;padding-left:2px}.batch-setting-tabs .u-tabs .u-tabs-tab-next-icon:hover,.batch-setting-tabs .u-tabs .u-tabs-tab-prev-icon:hover{background-color:#c4c3c3}.batch-setting-tabs .u-tabs .u-tabs-tab-next-icon{padding-left:2px}.batch-setting-tabs .u-tabs .u-tabs-tab-btn-disabled .u-tabs-tab-next-icon,.batch-setting-tabs .u-tabs .u-tabs-tab-btn-disabled .u-tabs-tab-prev-icon{background-color:#ececec}.tree-node-layer{position:fixed;pointer-events:none;z-index:200;left:0;top:0;min-width:100px;height:24px;background:#fff;box-shadow:0 0 4px 1px #3b79b5;border:1px solid #4da8ff;font-size:15px;color:#111;padding:auto 5px;text-align:center}.tree-node-layer span{margin:auto 5px}.dragging-meta-tree .area-item.area-can-drop-meta{border:1px solid #0073e1;box-shadow:0 0 0 2px #8ac6ff}.dragging-meta-tree .mask{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;border-radius:3px}.dragging-meta-tree .mask.mask-bg-color{background:rgba(255,218,218,.3);box-shadow:0 0 0 2px #ffaab7;border:1px solid red}.metatree-search-input{position:relative;margin:5px 8px}.metatree-search-input .ant-input-affix-wrapper{width:250px}.metatree-search-input .u-form-control{padding-right:30px}.metatree-search-input:hover .icon-qingkong{display:block}.metatree-search-input .icon-qingkong{position:absolute;display:none;color:#999;font-size:16px;top:3px;right:30px;cursor:pointer}.multabs-menu-list .mutitabs-menu{left:30px;top:-50px;max-height:300px;overflow-y:auto}.multabs-menu-list .mutitabs-menu .u-dropdown-menu-item{padding:5px 0 7px 20px;font-size:13px;line-height:18px;height:30px;min-width:110px}.areahide-menu .u-dropdown-menu-item{padding:0!important;height:42px}.areahide-menu .u-dropdown-menu-item .checkbox-hotkey-wrapper{display:block;padding:0;height:inherit}.areahide-menu .u-dropdown-menu-item .checkbox-hotkey-wrapper label.nc-checkbox{display:block;margin:0;padding:0 5px;height:inherit}.areahide-menu .u-dropdown-menu-item .checkbox-hotkey-wrapper label.nc-checkbox .u-checkbox-label{display:block;position:relative;height:100%;margin:0;line-height:42px;padding:0 0 0 20px;vertical-align:middle}.areahide-menu .u-dropdown-menu-item .checkbox-hotkey-wrapper label.nc-checkbox .u-checkbox-label:after,.areahide-menu .u-dropdown-menu-item .checkbox-hotkey-wrapper label.nc-checkbox .u-checkbox-label:before{top:14px}',""])},1142:function(e,t,a){e.exports=a.p+"images/hiddenProperty.png"},1143:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Z(a(3)),r=Z(a(2)),l=Z(a(17)),o=Z(a(169)),i=Z(a(110)),s=Z(a(77)),c=Z(a(372)),d=Z(a(170)),u=Z(a(230)),p=Z(a(21)),f=Z(a(5)),m=Z(a(7)),g=Z(a(4)),h=Z(a(6)),b=a(1),v=Z(b),y=a(37),k=Z(a(35)),C=Z(a(68)),S=Z(a(979)),x=(Z(a(1144)),a(114)),E=Z(a(984)),w=a(19),T=a(113),A=Z(a(975)),_=Z(a(364)),M=a(1030),D=a(968),I=a(366),N=Z(a(89)),L=Z(a(26)),P=Z(a(1147));function Z(e){return e&&e.__esModule?e:{default:e}}var O=L.default.metaCache,j=O.getMetaCache,V=O.removeMetaCache,F=L.default.base,q=F.NCDiv,z=F.NCButton,B=F.NCDropdown,R=F.NCMenu,H=F.NCCheckbox,K=(F.NCTooltip,R.Item),U=R.NCSubMenu,G=function(e){function t(e){(0,f.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return a.urlRequestObj=(0,w.GetQuery)(a.props.location.search),a.state={previewVisibel:!1,backModalShow:!1,areaItemVisible:{}},a.handleBindKey=a.handleBindKey.bind(a),a.setPreviewModalVisibel=a.setPreviewModalVisibel.bind(a),a.validateEmptyArea=a.validateEmptyArea.bind(a),a.validateCode=a.validateCode.bind(a),a.setAreaListValidate=a.setAreaListValidate.bind(a),a.saveTemplate=a.saveTemplate.bind(a),a.saveZoneData=a.saveZoneData.bind(a),a.saveData=a.saveData.bind(a),a.toggleBackModal=a.toggleBackModal.bind(a),a.handleBack=a.handleBack.bind(a),a.setDefault=a.setDefault.bind(a),a.back=a.back.bind(a),a.handleSaveBack=a.handleSaveBack.bind(a),a.handleNotSaveBack=a.handleNotSaveBack.bind(a),a.handleCancelBack=a.handleCancelBack.bind(a),a.handleTabSettingModal=a.handleTabSettingModal.bind(a),a.getPreviewData=a.getPreviewData.bind(a),a.showTabLayoutBtn=a.showTabLayoutBtn.bind(a),a.getAreaHideproperty=a.getAreaHideproperty.bind(a),a}return(0,h.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleBindKey,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleBindKey,!1)}},{key:"handleBindKey",value:function(e){var t=e||window.event||arguments.callee.caller.arguments[0];t&&t.keyCode&&t.shiftKey&&27==t.keyCode&&this.handleBack()}},{key:"setPreviewModalVisibel",value:function(e){this.setState({previewVisibel:e})}},{key:"trim",value:function(e){if("string"==typeof e)return e.trim()}},{key:"validateEmptyArea",value:function(){var e=this.props,t=e.json,a=e.areaList,n=e.newAreaList,r=N.default.cloneDeep(a),l=!0,o=(0,w.langCheck)("102202APP-000038","pages",t),i=(0,w.langCheck)("102202APP-000039","pages",t),s=[],p=a.filter((function(e){return!e.code||!e.name})),f=n.filter((function(e){return null!==e}));return p&&p.length>0&&(f.forEach((function(e,a){if(!e.code||!e.name){var r=m(e,""+(0,w.langCheck)("ZoneSetting-000046","pages",t)+(a+1));s.push(r)}f.length!==n.length&&function(e){var a={groups:(0,w.langCheck)("ZoneSetting-000208","pages",t),sides:{edit:(0,w.langCheck)("ZoneSetting-000222","pages",t),browse:(0,w.langCheck)("ZoneSetting-000215","pages",t)},grandsons:(0,w.langCheck)("ZoneSetting-000223","pages",t)},n=function(a,n){var r=f.findIndex((function(t){return t.pk_area===e.pk_area}))+1,o=(0,w.langCheck)("ZoneSetting-000046","pages",t);a in e&&e[a].forEach((function(e,t,i){if(!e.code||!e.name){var c="sides"===a?""+n[e.areastatus]:""+n+(t+1),d=m(e,""+o+r+"-"+c);s.push(d),l=!1}}))},r=!0,o=!1,i=void 0;try{for(var p,g=(0,d.default)((0,c.default)(a));!(r=(p=g.next()).done);r=!0){var h=p.value,b=(0,u.default)(h,2),v=b[0],y=b[1];n(v,y)}}catch(e){o=!0,i=e}finally{try{!r&&g.return&&g.return()}finally{if(o)throw i}}}(e)})),l=!1),l||((0,C.default)({status:"error",TextArr:[(0,w.langCheck)("ZoneSetting-000012","pages",t),(0,w.langCheck)("ZoneSetting-000011","pages",t),(0,w.langCheck)("ZoneSetting-000224","pages",t)],content:(0,w.langCheck)("102202APP-000012","pages",t),groupOperation:!0,groupOperationMsg:s}),this.setAreaListValidate(r,p),this.props.updateAreaList(r),this.props.updateAreaValidate(l)),l;function m(e,t){var a="";return e.code||e.name?e.code?e.name||(a=t+"："+i):a=t+"："+o:a=t+"："+[o,i].join(),a}}},{key:"validateCode",value:function(e){var t=this.props.json,a=N.default.cloneDeep(e),n=!0,r=(0,I.findRepeatItemsByCode)(e),l=this.validateEmptyArea();if(!1===l)return l;if(r&&r.length>0){var o=r.map((function(e){return e.name}));(0,C.default)({status:"error",msg:""+(0,w.langCheck)("ZoneSetting-000046","pages",t)+(0,s.default)(o)+(0,w.langCheck)("102202APP-000011","pages",t)}),n=!1,this.setAreaListValidate(a,r),this.props.updateAreaList(a),this.props.updateAreaValidate(n)}return n}},{key:"setAreaListValidate",value:function(e,t){e.forEach((function(a,n){a.validate=!0,t.forEach((function(t){a.pk_area===t.pk_area&&(e[n].validate=!1)}))}))}},{key:"saveTemplate",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new i.default((function(a){e.saveZoneData(t).then((function(n){e.saveData({newAreaData:n&&n.area,newTempletid:n.templetid,refresh:t}).then(a),e.props.zoneFormData.isdefault&&e.setDefault(n&&n.templetid)}))}))}},{key:"saveZoneData",value:function(e){var t=this;return new i.default((function(a,n){var r=t.props,l=r.json,i=r.areaList,s=r.zoneDatas,c=(0,w.GetQuery)(t.props.location.search),d=void 0;var u=t.props.zoneFormData;if(!i.some((function(e){return"0"!==e.areatype}))||u.headcode)if(u&&u.code&&t.trim(u.code)&&t.trim(u.name))if(!i||i.length<=0)(0,C.default)({status:"warning",msg:(0,w.langCheck)("102202APP-000019","pages",l)});else{var p=t.validateCode(i),f=N.default.cloneDeep(i);f.map((function(e,t){e.newArea&&e.pk_area&&delete e.pk_area,e.formPropertyList=[],e.queryPropertyList=[],e.position=t+1+""})),d={pk_page_templet:s.pk_page_templet,pagecode:s.pagecode||c.pcode,pageid:s.pageid||c.pid,parentid:s.parentid||"root",areaList:f,isdefault:u.isdefault,appcode:c.appcode||s.appcode,mateid:s.mateid,ts:t.ts},d=(0,o.default)(u,d),p&&(0,k.default)({url:"/nccloud/platform/templet/settempletarea.do",data:d,info:{name:(0,w.langCheck)("102202APP-000013","pages",l),action:(0,w.langCheck)("102202APP-000014","pages",l)},success:function(n){var r=n.data;r.success&&r.data&&(r.data.templetid||(0,C.default)({status:"error",msg:r.data.msg}),e&&I.queryAllArea.call(t,r.data.templetid),a(r.data))},error:function(e){n(),console.log(e.data)}})}else(0,C.default)({status:"warning",msg:(0,w.langCheck)("102202APP-000063","pages",l)});else(0,C.default)({status:"warning",msg:(0,w.langCheck)("102202APP-000073","pages",l)})}))}},{key:"saveData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.newAreaData,n=t.refresh,r=t.newTempletid;return new i.default((function(t){var l=!0,o=e.props,i=o.areaList,s=o.pcode,c=o.appcode,d=o.json,u=e.props.templetid||r;if(N.default.forEach(i,(function(t,a){"0"===t.areatype&&N.default.forEach(t.queryPropertyList,(function(e,a){"204"!==e.datatype||"-99"!==e.refname&&""!==e.refname&&null!==e.refname&&void 0!==e.refname||((0,C.default)({status:"typeError",msg:(0,w.langCheck)("ZoneSetting-000046","pages",d)+' "'+t.name+'" '+(0,w.langCheck)("ZoneSetting-000047","pages",d)+' "'+e.label+'" '+(0,w.langCheck)("ZoneSetting-000048","pages",d)+' "'+(0,w.langCheck)("ZoneSetting-000030","pages",d)+'" '+(0,w.langCheck)("ZoneSetting-000049","pages",d)+"，"+(0,w.langCheck)("ZoneSetting-000050","pages",d)+"。"}),l=!1)})),"1"==t.areatype&&N.default.forEach(t.queryPropertyList,(function(a,n){a.colnum<0&&((0,C.default)({status:"typeError",msg:(0,w.langCheck)("ZoneSetting-000046","pages",d)+' "'+t.name+'" '+(0,w.langCheck)("ZoneSetting-000047","pages",d)+' "'+a.label+'" '+(0,w.langCheck)("ZoneSetting-000048","pages",d)+' "'+(0,w.langCheck)("ZoneSetting-000031","pages",d)+'" '+(0,w.langCheck)("ZoneSetting-000051","pages",d)+"，"+(0,w.langCheck)("ZoneSetting-000050","pages",d)+"。"}),l=!1),e.props.ismobile&&"300"===a.datatype&&("photo"===a.itemtype?(N.default.isInteger(+a.uploadquantity)?N.default.isInteger(+a.uploadquantity)&&+a.uploadquantity<1&&((0,C.default)({status:"typeError",msg:(0,w.langCheck)("ZoneSetting-000321","pages",d)+" "}),l=!1):((0,C.default)({status:"typeError",msg:(0,w.langCheck)("ZoneSetting-000320","pages",d)+" "}),l=!1),""!=a.uploadquantity&&(a.uploadquantity=+a.uploadquantity)):"attachment"===a.itemtype&&(""===a.uploadquantity||!N.default.isNaN(+a.uploadquantity)&&N.default.isInteger(+a.uploadquantity)||((0,C.default)({status:"typeError",msg:(0,w.langCheck)("ZoneSetting-000320","pages",d)+" "}),l=!1)),1===a.watermarktype&&N.default.isNumber(a.watermarkalpha)&&(a.watermarkalpha=a.watermarkalpha/100))}))})),!l)return!1;var p=[],f=[];N.default.forEach(i,(function(e,t){N.default.forEach(e.queryPropertyList,(function(e){-1!==e.pk_query_property.indexOf("new")&&(e.pk_query_property="")}))})),N.default.forEach(i,(function(e,t){if(e.newArea){var n=a&&a.find((function(t){return t.code===e.code}));e.queryPropertyList.map((function(e){e.areaid=n&&n.pk_area}))}"0"===e.areatype?f=f.concat(e.queryPropertyList):p=p.concat(e.queryPropertyList)}));var m={};m.templetid=u,m.formPropertyList=p,m.queryPropertyList=f,m.ismobile=e.props.ismobile,m.varyId=e.state.varyId,(0,k.default)({url:"/nccloud/platform/templet/setareaproperty.do",info:{name:(0,w.langCheck)("ZoneSetting-000017","pages",d),action:(0,w.langCheck)("ZoneSetting-000033","pages",d)},data:m,loading:!0,success:function(a){var r=a.data,l=r.data,o=r.success;o?((0,C.default)({status:"success",msg:l.msg}),j(c,s)&&V(c,s),n&&I.queryTemplateProperty.call(e,u),e.props.updateSaveFlag(!0),e.props.updateSelectCard({}),e.ts=l.ts,t()):(0,C.default)({status:"error",msg:l})}})}))}},{key:"toggleBackModal",value:function(e){this.setState({backModalShow:e})}},{key:"handleBack",value:function(){this.props.isSave?this.handleNotSaveBack():this.toggleBackModal(!0)}},{key:"setDefault",value:function(e){(0,k.default)({url:"/nccloud/platform/templet/setdefaulttemplet.do",info:{name:(0,w.langCheck)("102202APP-000074","pages",this.props.langJson),action:(0,w.langCheck)("102202APP-000117","pages",this.props.langJson)},data:{pagecode:this.props.zoneDatas.pagecode,appcode:this.props.zoneDatas.appcode,templetid:e},success:function(){}})}},{key:"back",value:function(){var e=this.props,t=e.json,a=e.status;if(a)"templateSetting"===a?"mobile"===this.urlRequestObj.templettype?(0,T.openPage)("/MobileTemplateSetting",!1,{},["status","templetid"]):(0,T.openPage)("/TemplateSetting",!1,{},["status","templetid"]):"templateSetting-unit"===a&&(0,T.openPage)("/TemplateSetting-unit",!1,{},["status","templetid"]);else{var n="/ar",r="102202APP",l=(0,w.langCheck)("ZoneSetting-000044","pages",t);"mobile"===this.urlRequestObj.templettype&&(n="/MobileAppRegister",r="102202MOBILE",l=(0,w.langCheck)("ZoneSetting-000228","pages",t)),(0,T.openPage)(n,!1,{b1:(0,w.langCheck)("ZoneSetting-000041","pages",t),b2:(0,w.langCheck)("ZoneSetting-000042","pages",t),b3:(0,w.langCheck)("ZoneSetting-000043","pages",t),n:l,c:r},["templetid","appcode","pcode","pid","templettype"])}}},{key:"handleSaveBack",value:function(){this.saveTemplate(!1).then(this.back),this.toggleBackModal(!1)}},{key:"handleNotSaveBack",value:function(){this.back()}},{key:"handleCancelBack",value:function(){this.toggleBackModal(!1)}},{key:"handleTabSettingModal",value:function(){this.props.setTabLayModalVisible(!0)}},{key:"getPreviewData",value:function(){var e=N.default.cloneDeep(this.props.areaList);return e.forEach((function(e){e.formPropertyList=[].concat((0,l.default)(e.queryPropertyList)),e.formPropertyList.forEach((function(e){e.position=e.position&&e.position+""})),e.queryPropertyList.forEach((function(e){e.position=e.position&&e.position+""}))})),e}},{key:"countAllChecked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!0;return e.map((function(e){t[e.pk_area]||(a=!1)})),a}},{key:"showTabLayoutBtn",value:function(){var e=this.props.newAreaList,t=e.find((function(e){return e&&"1"===e.areatype&&e.formTabs})),a=t&&t.formTabs.length>1;return e.filter((function(e){return e&&(e.tabs||e.tabheadcode||a||e.grandsons)})).length>0}},{key:"getAreaHideproperty",value:function(){var e=this,t=N.default.cloneDeep(this.props.newAreaList),a=[];t.filter((function(e){return e})).map((function(e){if(a.push(e),e.sides){var t=e.sides.find((function(e){return"browse"===e.areastatus}));t&&a.push(t);var n=e.sides.find((function(e){return"edit"===e.areastatus}));n&&a.push(n)}}));var l=this.props,o=l.areaVisible,i=l.json,s=l.areaHide,c=a.filter((function(e){return e.areahide})),d=a.map((function(e){return e.pk_area})),u=c.map((function(e){return e.pk_area})),p={},f={};return v.default.createElement(R,{className:"areahide-menu",onSelect:function(e,t,a){console.log(e,t,a)},selectable:!1,style:{width:"150px"},mode:"vertical"},v.default.createElement(U,{key:"hide-item",title:(0,w.langCheck)("ZoneSetting-000248","pages",i),popupClassName:"test-hide-item"},v.default.createElement(K,{key:"hide-item-all"},v.default.createElement(H,{onChange:function(t){d.forEach((function(e){return p[e]=t})),e.props.setAreaItemVisible(p)},checked:this.countAllChecked(a,o)},(0,w.langCheck)("ZoneSetting-000250","pages",i))),a.map((function(t){return v.default.createElement(K,{key:t.pk_area},v.default.createElement(H,{checked:o[t.pk_area]||!1,onChange:function(a){e.props.setAreaItemVisible((0,r.default)({},e.props.areaVisible,(0,n.default)({},t.pk_area,a)))}},t.name))}))),v.default.createElement(U,{key:"hide-area",title:(0,w.langCheck)("ZoneSetting-000249","pages",i),disabled:!c.length,popupClassName:"test-hide-item"},v.default.createElement(K,{key:"hide-area-all"},v.default.createElement(H,{onChange:function(t){u.forEach((function(e){return f[e]=t})),e.props.setAreaHide(f),t&&e.props.updateSelectArea({})},checked:this.countAllChecked(c,s)},(0,w.langCheck)("ZoneSetting-000250","pages",i))),c.map((function(t,a){return v.default.createElement(K,{key:t.code},v.default.createElement(H,{checked:s[t.pk_area]||!1,onChange:function(a){if(e.props.setAreaHide((0,r.default)({},e.props.areaHide,(0,n.default)({},t.pk_area,a))),t.associatedtab&&(0,I.setActiveTabKey)({activeKey:t.associatedtab,areaCode:t.associatedtab}),a&&"edit"==t.areastatus&&"1"==t.areatype){var l=document.querySelector(".search-area-"+(String(t.code).replace(/\.|\&|\#/g,"")||"unknow")),o=l&&l.querySelector(".drawer-close-btn");o&&o.click()}a&&e.props.updateSelectArea({})}},t.name))}))))}},{key:"render",value:function(){var e=this,t=this.state.previewVisibel,a=this.props,n=a.json,r=a.zoneDatas,l=a.newAreaList,o=a.areaHide,i=a.areaVisible,s=(0,w.GetQuery)(window.location.hash),c=s.c,d=s.hideback,u={pagecode:r.pagecode,appcode:r.appcode,templetid:this.props.templetid};return v.default.createElement(q,{className:"template-setting-header",areaCode:q.config.HEADER},v.default.createElement("div",{className:"setting-header-left"},v.default.createElement("div",{className:"header-name"},!d&&v.default.createElement("i",{className:"iconfont icon-danjufanhuiicon",onClick:this.handleBack}),v.default.createElement(S.default,{appCode:c}),v.default.createElement(q,{fieldid:(0,w.langCheck)("ZoneSetting-000035","pages",n),areaCode:q.config.Title},(0,w.langCheck)("ZoneSetting-000035","pages",n))),v.default.createElement(P.default,{sourceData:l,ts:(new Date).getTime(),areaHide:o,areaVisible:i,json:n})),v.default.createElement("div",{className:"button-list"},v.default.createElement(z,{colors:"primary",fieldid:"save",onClick:function(){return e.props.showVaryModal()}},(0,w.langCheck)("ZoneSetting-000038","pages",n)),this.props.isImplement?v.default.createElement(B,{trigger:["click"],overlay:this.getAreaHideproperty(),animation:"slide-up",overlayClassName:"drop-more"},v.default.createElement(z,{fieldid:"hide"},(0,w.langCheck)("ZoneSetting-000252","pages",n))):null,this.showTabLayoutBtn()&&v.default.createElement(z,{fieldid:"tabSetting",onClick:this.handleTabSettingModal},(0,w.langCheck)("ZoneSetting-000259","pages",n)),v.default.createElement(z,{fieldid:"preview",onClick:function(){e.setPreviewModalVisibel(!0)}},(0,w.langCheck)("ZoneSetting-000039","pages",n))),t&&v.default.createElement(E.default,{previewVisibel:t,setModalVisibel:this.setPreviewModalVisibel,templetData:u,requestUrl:"/nccloud/platform/templet/previewtemplet.do",requestData:this.getPreviewData()}),v.default.createElement(_.default,{mask:!0,closable:!1,title:(0,w.langCheck)("ZoneSetting-000207","pages",n),visible:this.state.backModalShow,maskClosable:!1,width:410,height:200,className:"prompt-box-project",fieldid:"back",footer:[v.default.createElement(z,{colors:"primary",fieldid:"save",onClick:this.handleSaveBack},(0,w.langCheck)("ZoneSetting-000038","pages",n)," "),v.default.createElement(z,{fieldid:"unsave",onClick:this.handleNotSaveBack},(0,w.langCheck)("ZoneSetting-000206","pages",n)," "),v.default.createElement(z,{fieldid:"cancel",onClick:this.handleCancelBack},(0,w.langCheck)("ZoneSetting-000006","pages",n)," ")]},v.default.createElement("p",{className:"prompt-title"},v.default.createElement("i",{className:"icon iconfont icon-zhuyi1 warning"}),v.default.createElement("span",null,(0,w.langCheck)("ZoneSetting-000204","pages",n))," "),v.default.createElement("p",{className:"prompt-content"},(0,w.langCheck)("ZoneSetting-000205","pages",n))," "))}}]),t}(b.Component);G=(0,A.default)((function(e,t){t.setState({varyId:e},t.saveTemplate)}))(G),t.default=(0,y.connect)((function(e){var t=e.zoneSettingData,a=t.areaList,n=t.newAreaList,r=t.zoneFormData,l=t.isSave,o=t.areaVisible,i=t.isImplement,s=t.serverData,c=t.areaHide,d=t.ismobile;return{areaList:a,zoneFormData:r,zoneDatas:e.zoneRegisterData.zoneDatas,isSave:l,newAreaList:n,areaVisible:o,isImplement:i,serverData:s,areaHide:c,ismobile:d}}),{setZoneData:M.setZoneData,updateAreaList:D.updateAreaList,updateSaveFlag:D.updateSaveFlag,setZoneDataFun:D.setZoneDataFun,updateAreaValidate:D.updateAreaValidate,setAreaItemVisible:D.setAreaItemVisible,setServerData:D.setServerData,setAreaHide:D.setAreaHide,setTabLayModalVisible:D.setTabLayModalVisible,updateSelectArea:D.updateSelectArea,updateSelectCard:D.updateSelectCard})((0,x.withRouter)(G))},1144:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(21)),r=d(a(5)),l=d(a(7)),o=d(a(4)),i=d(a(6)),s=a(1),c=d(s);function d(e){return e&&e.__esModule?e:{default:e}}var u=d(a(26)).default.base,p=(u.NCDiv,u.NCButton,u.NCDropdown,u.NCMenu),f=u.NCCheckbox;p.Item,p.NCSubMenu;a(1145);var m=function(e){function t(e){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.list;return c.default.createElement("ul",{className:"hide-box",onClick:function(e){e.stopPropagation()}},c.default.createElement("li",{className:"item all"},c.default.createElement(f,null),c.default.createElement("span",null,"全部")),e.map((function(e,t){return c.default.createElement("li",{className:"item"},c.default.createElement(f,null),c.default.createElement("span",null,e.name))})),c.default.createElement("li",{className:"item confirm"},c.default.createElement("span",null,"确定")))}}]),t}(s.Component);t.default=m},1145:function(e,t,a){var n=a(1146);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},1146:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".hide-box{width:244px;background:#fff;box-shadow:0 2px 4px 2px #000;border-radius:3px}.hide-box .item{height:30px}.hide-box .item:hover{background:#f3f3f3}",""])},1147:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,l=S(a(112)),o=S(a(170)),i=S(a(17)),s=S(a(77)),c=S(a(2)),d=S(a(14)),u=S(a(21)),p=S(a(5)),f=S(a(7)),m=S(a(4)),g=S(a(6)),h=a(1),b=S(h),v=a(37),y=(a(1030),a(968)),k=a(19),C=S(a(26));a(0);function S(e){return e&&e.__esModule?e:{default:e}}a(1077);var x=C.default.base,E=x.NCSelect,w=x.NCFormControl,T=E.NCOption,A=function(e){return String(e).toLocaleLowerCase()},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\.|\&|\#/g,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return String(e).replace(t,a)},M=function(e,t){var a=String(e).match(new RegExp(""+t,"ig"));return a?a[0]:""},D=function(e,t){if(!e)return null;for(var a=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e&&!a.call(e,t);)e=e.parentElement;return e},I="search-units-selected",N="search-units-active",L="search-units-nolabel",P=function(e,t){return Z(e)+O(t)+j()},Z=function(e){return" .search-area-"+_(e)+" "},O=function(e){return" .search-unit-"+_(e)+" "},j=function(){return" .search-unit-label "},V=(r=n=function(e){function t(e){(0,p.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));a.lockService=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;a.lock=!0,setTimeout((function(){a.lock=!1,e&&e()}),t)},a.handleChange=function(e){a.search(e),a.setState({key:e})},a.clear=function(){a.clearAllHightLight(),a.setState({highlights:[],key:"",current:0,total:0})},a.prev=function(){a.moveSearch("prev")},a.next=function(){a.moveSearch("next")};var n=e.sourceData,r=void 0===n?[]:n,l=(0,d.default)(e,["sourceData"]);return a.state=(0,c.default)({},l),a.sourceData=r,a.lock=!1,a}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.handleSourceData(),t=e.selectOptions,a=void 0===t?[]:t,n=e.relations;this.relations=n,this.setState({selectOptions:a})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.sourceData,n=void 0===a?[]:a,r=e.boxStatus,l=void 0===r?{}:r,o=e.areaHide,i=void 0===o?{}:o,c=e.areaVisible,d=void 0===c?{}:c,u=e.areaList,p=void 0===u?[]:u,f=this.state,m=f.areaCode,g=void 0===m?{}:m,h=f.areaVisible,b=void 0===h?{}:h,v=f.areaHide,y=f.areaVisible,k=f.showSide,C=(0,s.default)(g)!==(0,s.default)(i)||(0,s.default)(b)!==(0,s.default)(d)||(0,s.default)(p)!==(0,s.default)(this.areaList||[])||l.reset;this.areaList=JSON.parse((0,s.default)(p)),this.sourceData=n;var S=this.handleSourceData({areaHide:i,areaVisible:d}),x=S.selectOptions,E=void 0===x?[]:x,w=S.relations;this.relations=w,this.setState({selectOptions:E,areaHide:i,areaVisible:d,showSide:l.showSide},(function(){(l.showSide&&l.showSide!==k||l.isHighlight||i&&i!=v||d&&d!==y)&&t.highlight(),l.isHighlight&&t.props.updateSearchBox({isHighlight:!1}),l.reset&&t.props.updateSearchBox({reset:!1}),C&&(t.reset=!0),l.isLayout}))}},{key:"handleSourceData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.areaHide,a=void 0===t?{}:t,n=e.areaVisible,r=void 0===n?{}:n,l=this.sourceData,o={__side:{},__associatedtab:{}},i=[],s=[];return l.forEach((function(e){e&&(s.push(e),e.tabs&&(s=s.concat(e.tabs||[])))})),s.forEach((function(e){var t=e.code,n=e.name,l=e.associatedtab,s=e.pk_area,d=e.groups,u=void 0===d?[]:d,p=e.sides,f=void 0===p?[]:p,m=e.grandsons,g=void 0===m?[]:m;a[s]||(l&&(o.__associatedtab[t]=l),i.push({code:t,name:n}),o[t]={sides:[],groups:[],grandsons:[],master:[(0,c.default)({areaVisible:r[s],classify:"master"},e)]},u&&u.forEach((function(e){o[t].groups.push((0,c.default)({areaVisible:r[e.pk_area],classify:"group"},e))})),f&&f.forEach((function(e){"edit"===e.areastatus?(o.__side[t]=e.code,o[t].sides.push((0,c.default)({areaVisible:r[e.pk_area],classify:"side"},e))):o[t].groups.push((0,c.default)({areaVisible:r[e.pk_area],classify:"group"},e))})),g&&g.forEach((function(e){o[t].grandsons.push((0,c.default)({areaVisible:r[e.pk_area],classify:"grandson"},e))})))})),i=this.handleSelectOptions(i,o),{relations:o,selectOptions:i}}},{key:"handleSelectOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.__associatedtab,n={},r=JSON.parse((0,s.default)(e))||[];return r.forEach((function(e,t){var l=e.code,o=a[l];o&&(!n[o]&&(n[o]=[]),n[o].push(e),r.splice(t,1))})),r.forEach((function(e,t){var a=e.code;n[a]&&r.splice.apply(r,[t+1,0].concat((0,i.default)(n[a])))})),r}},{key:"active",value:function(e){var t=document.querySelector("."+I),a=e.querySelector("."+N);a&&(t&&(t.className=t.className.replace(new RegExp(""+I,"g"),"")),a.className+=" "+I,this.focus(a))}},{key:"focus",value:function(e){setTimeout((function(){e.scrollIntoView()}),10)}},{key:"clearSide",value:function(e,t){var a=this.state,n=a.curentSide,r=a.showSide,l=n.code,o=n.relationcode,i=n.isgrandson,s=(n.classify,e.area),c=(s.code,s.relationcode),d=(s.areastatus,s.isgrandson,s.classify),u=this.relations;if(l&&r&&("master"==d||"group"==d||"side"==d&&o!=c||"grandson"==d&&o!=c)){var p=i?u.__side[o]:l,f=document.querySelector(Z(p)),m=f&&f.querySelector(".drawer-close-btn");m&&m.click(),this.setState({curentSide:{},showSide:!1}),this.lockService(t)}else t()}},{key:"positionAreaUnit",value:function(e,t){var a=this,n=t.unitCode,r=t.areaCode,l=t.relationcode,o=t.isgrandson,i=t.areastatus,s=t.areatype,c=t.associatedtab,d=t.classify,u=null;if("side"==d||"grandson"==d){var p=e.getAttribute("searchinside"),f=e.querySelector(".search-action-side");this.setState({curentSide:{code:r,relationcode:l,isgrandson:o,classify:d},showSide:!0}),f&&"true"!=p&&f.click(),this.lockService((function(){if(o){a.highlight();var e=document.querySelector(".search-area-"+_(r)+" .area-item-content"),t=document.querySelector(".search-area-"+_(r)+" .search-area-header");e&&"none"==e.style.display&&t&&t.click(),u=document.querySelector(P(r,n))}else"edit"==i&&(a.highlight(),u=document.querySelector(P(r,n)));u&&a.active(u)}))}else{var m=document.querySelector(Z(r)),g=e.querySelector(".area-item-content"),h=e.querySelector(".search-area-header"),b=e.querySelector(".form-area-group"),v=e.querySelector(".search-action-fold");g&&"none"==g.style.display&&h&&h.click(),b&&"none"==b.style.display&&v&&"browse"==i&&v.click(),this.lockService((function(){if("browse"==i&&c&&(m=document.querySelector(Z(l)+Z(r))),"0"==s){u=m&&m.querySelector(O(n));var e=document.querySelector("."+I);u&&(e&&(e.className=e.className.replace(new RegExp(""+I,"g"),"")),u.className+=" "+I,a.focus(u))}else(u=m&&m.querySelector(O(n)+j()))&&a.active(u)}))}}},{key:"position",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this.state.highlights,n=this.relations,r=a[t-1];if(a&&r){var l=r.area,o=l.code,i=l.relationcode,s=l.isgrandson,c=l.areastatus,d=l.areatype,u=l.classify,p=r.unit.code,f=n.__associatedtab[i||o],m=o;f?m=f:"group"!=u&&"side"!=u&&"grandson"!=u||(m=i);var g=document.querySelector(Z(m));g&&this.clearSide(r,(function(){if(f){var t=g.querySelector(".table-tabs-container")||D(g,".table-tabs-container"),a=JSON.parse(t.getAttribute("data-searchcodes")||"[]").indexOf(i||o),n=t.querySelector(".u-tabs-tab.u-tabs-tab-active"),r=t.querySelectorAll(".u-tabs-tab")[a];r&&n!==r?(r.click(),e.lockService((function(){e.highlight(),e.positionAreaUnit(g,{unitCode:p,areaCode:o,relationcode:i,isgrandson:s,areastatus:c,areatype:d,associatedtab:f,classify:u})}))):e.positionAreaUnit(g,{unitCode:p,areaCode:o,relationcode:i,isgrandson:s,areastatus:c,areatype:d,associatedtab:f,classify:u})}else e.positionAreaUnit(g,{unitCode:p,areaCode:o,relationcode:i,isgrandson:s,areastatus:c,areatype:d,associatedtab:f,classify:u})}))}}},{key:"highlight",value:function(){var e=this.state.highlights,t=void 0===e?[]:e,a=!0,n=!1,r=void 0;try{for(var l,i=(0,o.default)(t);!(a=(l=i.next()).done);a=!0){var s=l.value,c=s.unit,d=c.key,u=c.label,p=c.code,f=s.area,m=f.code,g=f.areatype,h=(f.areastatus,f.relationcode),b=(f.associatedtab,f.isgrandson,f.classify),v=null,y=null;(v="0"==g?Z(m)+O(p):"group"==b?Z(h)+P(m,p):P(m,p))&&((y=document.querySelector(v))&&("0"==g?(y.setAttribute("tabindex",0),y.className+=" "+N+" "+L):y.innerHTML=String(u).replace(d,'<span tabindex="0" class="'+N+'">'+d+"</span>")))}}catch(e){n=!0,r=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"clearAllHightLight",value:function(){var e=document.querySelectorAll("."+N);e&&(0,l.default)(e).forEach((function(e){e.className=e.className.replace(new RegExp(""+N,"g"),""),e.className=e.className.replace(new RegExp(""+I,"g"),"")}))}},{key:"getHighlights",value:function(e){var t=[],a=this.state,n=(a.showSide,a.select),r=a.selectOptions,l=[],i=this.relations;if(n&&"All"!=n)t=[].concat(i[n].master,i[n].groups,i[n].sides,i[n].grandsons);else{var s=[],c=!0,d=!1,u=void 0;try{for(var p,f=(0,o.default)(r);!(c=(p=f.next()).done);c=!0){var m=p.value;s=s.concat(i[m.code].master,i[m.code].groups,i[m.code].sides,i[m.code].grandsons)}}catch(e){d=!0,u=e}finally{try{!c&&f.return&&f.return()}finally{if(d)throw u}}t=s}return e&&t.forEach((function(t){var a=t.relationcode,n=t.code,r=t.areastatus,o=t.name,i=t.queryPropertyList,s=t.isgrandson,c=t.areatype,d=t.classify,u=t.associatedtab,p=t.areaVisible;i.forEach((function(t){var i=t.label,f=void 0===i?"":i,m=t.code,g=t.visible;p&&!g||"-1"!=A(f).indexOf(A(e))&&l.push({area:{relationcode:a,code:n,areastatus:r,name:o,isgrandson:s,areatype:c,classify:d,associatedtab:u},unit:{code:m,key:M(f,e),label:f}})}))})),console.log("search for",l),l}},{key:"search",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getHighlights(e);this.setState({highlights:n,current:a,total:n.length,key:e},(function(){t.clearAllHightLight(),t.highlight(),t.position(a),t.reset=!1}))}},{key:"moveSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",a=this.state,n=a.highlights,r=a.current,l=a.total,o=void 0===l?-1:l,i=a.key;if(this.reset||!(o<=0||!n.length||this.lock)){if(this.reset){var c=JSON.parse((0,s.default)(n[r-1]||{area:{},unit:{}})),d=JSON.parse((0,s.default)(n||[]));"prev"==t?d.splice(r,d.length):d.splice(0,r-1),n=this.getHighlights(i);var u=0,p=!0;if("prev"==t)for(var f=function(e){var t=n[e];if(d.some((function(e){return e.area.code===t.area.code&t.unit.code==e.unit.code})))return u=t.area.code==c.area.code&&t.unit.code==c.unit.code?e+1:e+2,"break"},m=n.length-1;m>=0;m--){var g=f(m);if("break"===g)break}else n.forEach((function(e,t){d.some((function(t){return t.area.code===e.area.code&e.unit.code==t.unit.code}))&&p&&(u=e.area.code==c.area.code&&e.unit.code==c.unit.code?t+1:t,p=!1)}));o=n.length,r=u||("prev"==t?2:0),this.reset=!1}r="prev"==t?r>o||1==r?o:r-1:r>=o?1:r+1,1==o&&1==r?this.position(r):this.setState({current:r,total:o,highlights:n},(function(){e.clearAllHightLight(),e.highlight(),e.position(r)}))}}},{key:"componentWillUnmount",value:function(){this.sourceData=[],this.areaList=[]}},{key:"render",value:function(){var e=this,t=this.state,a=t.current,n=t.total,r=t.selectOptions,l=t.key,o=t.select,i=t.selectFocus;return b.default.createElement("div",{className:"search-box"},b.default.createElement(E,{className:"st-select "+(i?"st-select-focus":""),value:o,showClear:!1,fieldid:"searchProperty",onFocus:function(){e.setState({selectFocus:!0})},onBlur:function(){e.setState({selectFocus:!1})},onSelect:function(t){e.setState({select:t},(function(){e.search(l)}))}},b.default.createElement(T,{value:"All"},(0,k.langCheck)("ZoneSetting-000282","pages",this.props.json)||"全部"),r.map((function(e){return b.default.createElement(T,{value:e.code},b.default.createElement("span",{title:e.name},e.name))}))),b.default.createElement(w,{className:"st-input",placeholder:(0,k.langCheck)("ZoneSetting-000281","pages",this.props.json)||"搜索字段名称",onChange:this.handleChange,value:l,fieldid:"searchCon"}),b.default.createElement("i",{className:"icon iconfont icon-sousuo st-icon-sousuo"}),l&&b.default.createElement("div",{className:"st-count"},(n?a:0)+"/"+n),l&&b.default.createElement("div",{className:"st-icon"},b.default.createElement("i",{className:"icon iconfont icon-qingkong st-icon-close",onClick:this.clear}),b.default.createElement("i",{className:"icon iconfont icon-jiantoushang1 st-icon-up",onClick:this.prev}),b.default.createElement("i",{className:"icon iconfont icon-jiantouxia1 st-icon-down",onClick:this.next})))}}]),t}(h.Component),n.defaultProps={select:"All",key:"",current:0,total:0,selectOptions:[],highlights:[],curentSide:{},showSide:!1,areaHide:{},areaVisible:{}},r);t.default=(0,v.connect)((function(e){var t=e.zoneSettingData,a=t.areaList,n=t.boxStatus;t.newAreaList;return{areaList:a,boxStatus:n}}),{updateSearchBox:y.updateSearchBox})(V)},1148:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".search-box{display:flex;position:relative;margin-left:40px}.search-box .st-select{min-width:140px}.search-box .st-select-focus+.u-form-control-wrapper input{border-left-color:#007ace!important}.search-box .u-form-control-wrapper{border-radius:0 3px 3px 0!important}.search-box .nc-select-wrapper.u-form-control-wrapper,.search-box .nc-select.u-select{border-radius:3px 0 0 3px!important}.search-box .nc-select.u-select .u-select-selection{border-right:none;border-radius:3px 0 0 3px!important}.search-box .u-form-control-wrapper .u-form-control.nc-input{border-radius:0 3px 3px 0!important}.search-box .formcontrol-hotkey-wrapper{min-width:280px}.search-box .u-form-control-wrapper .st-input{width:100%;padding-right:120px;padding-left:20px}.search-box .st-icon-sousuo{position:absolute;top:0;right:263px;font-size:14px;line-height:26px}.search-box .st-count{position:absolute;right:93px;line-height:26px;font-size:13px;font-family:PingFangHK-Regular,PingFangHK;font-weight:400}.search-box .st-icon{font-weight:500;position:absolute;right:0;line-height:26px;cursor:pointer}.search-box .st-icon .st-icon-close{font-size:17px;display:inline-block;width:33px;text-align:center;vertical-align:middle}.search-box .st-icon .st-icon-down,.search-box .st-icon .st-icon-up{border-left:1px solid #d0d0d0;width:30px;height:25px;display:inline-block;vertical-align:middle;border-right:none;text-align:center}.search-units-active:not(.search-units-nolabel){background:#fff085}.search-units-selected:not(.search-units-nolabel){background:#ffc8a6}.search-units-active.search-units-nolabel .nc-select.u-select-disabled .u-select-selection,.search-units-active.search-units-nolabel .refer,.search-units-active.search-units-nolabel .refer-input-common,.search-units-active.search-units-nolabel .u-form-control,.search-units-active.search-units-nolabel .u-form-control-wrapper,.search-units-active.search-units-nolabel .u-select-disabled,.search-units-active.search-units-nolabel .u-select-selection,.search-units-active.search-units-nolabel .u-time-picker-input{background:#fff085!important}.search-units-selected.search-units-nolabel .nc-select.u-select-disabled .u-select-selection,.search-units-selected.search-units-nolabel .refer,.search-units-selected.search-units-nolabel .refer-input-common,.search-units-selected.search-units-nolabel .u-form-control,.search-units-selected.search-units-nolabel .u-form-control-wrapper,.search-units-selected.search-units-nolabel .u-select-disabled,.search-units-selected.search-units-nolabel .u-select-selection,.search-units-selected.search-units-nolabel .u-time-picker-input{background:#ffc8a6!important}",""])},1149:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=I(a(2)),l=I(a(17)),o=I(a(111)),i=I(a(21)),s=I(a(5)),c=I(a(7)),d=I(a(4)),u=I(a(6)),p=a(1),f=I(p),m=a(37),g=a(968),h=a(1030);I(a(35));a(1076);var b=I(a(1009)),v=I(a(1150)),y=I(a(1175)),k=I(a(89)),C=I(a(68)),S=a(920),x=a(19),E=a(366),w=I(a(1176)),T=I(a(26)),A=I(a(1177)),_=a(1182),M=a(1049),D=I(a(1032));function I(e){return e&&e.__esModule?e:{default:e}}T.default.base.NCDiv;var N={drop:function(e,t,a){var n=t.getItem();n.type&&"area"===n.type&&"grandson"!==n.areaType&&(0,E.addNewAreaItem)(e,{items:{areatype:n.areaCode},isExpand:!0})},canDrop:function(e,t){return"card"!==t.getItem().type}},L=(0,S.DropTarget)("area",N,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))(n=function(e){function t(e){(0,s.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.setModalVisible=function(e){a.setState({modalVisible:e})},a.addMetaInArea=function(e,t,n){var r=a.props.json;""!==e&&null!=e?M.queryMetaTreeData.call(a,e,"").then((function(l){if(l&&l.length>0){var o={isleaf:!1,readonly:!1,refpk:e,refcode:"",pid:null,children:l},i=M.createMetaTreeIns.call(a,o,n),s=D.default.serialize(i).nodes,c=[],d=i.getMetaTreeData().children;s.forEach((function(e){"205"===e.data.datatype&&c.push(e.data)})),a.setState({origTree:i,curTree:i,metaTree:d,targetAreaID:t,targetAreaType:n,canSelectTreeNodeList:c}),a.setModalVisible(!0)}else(0,C.default)({status:"warning",msg:(0,x.langCheck)("ZoneSetting-000021","pages",r)})})):(0,C.default)({status:"warning",msg:(0,x.langCheck)("ZoneSetting-000019","pages",r)})},a.updateMetaTreeData=function(e){a.setState({metaTree:e})},a.updateMetaTree=function(e,t){a.setState({origTree:e,curTree:t})},a.addCard=function(e){var t=a.state.targetAreaID,n=a.props.areaList;n=k.default.cloneDeep(n);var r=-1,l="";k.default.forEach(n,(function(e,a){if(t===e.pk_area)return r=a,l=e.metaid,!1})),n[r].queryPropertyList=k.default.uniqBy(n[r].queryPropertyList.concat(e),"code"),k.default.forEach(n[r].queryPropertyList,(function(e,t){e.position=t+1,e.classid=l})),a.props.updateAreaList(n)},a.addCardFromMetaTree=function(e){var t=e.cardList,n=e.targetAreaID,r=e.dropIndex,i=a.props,s=i.areaList,c=i.json;s=k.default.cloneDeep(s);var d=void 0,u=void 0;k.default.forEach(s,(function(e,t){if(n===e.pk_area)return d=t,u=e.metaid,!1}));var p,f=s[d].queryPropertyList,m=(0,_.filterRepeatMeta)(f,t);((0,o.default)(m.errorMsg).length>0&&(0,_.giveRepeatedTips)(m.errorMsg,c),m.cardList.length>0)&&((p=f).splice.apply(p,[r,0].concat((0,l.default)(m.cardList))),f=k.default.uniqBy(f,"code"),k.default.forEach(f,(function(e,t){e.position=t+1,e.classid=u})),a.props.updateAreaList(s))},a.deleteCard=function(e,t){var n=a.props.areaList;(n=k.default.cloneDeep(n))[t].queryPropertyList.splice(e,1),a.props.updateAreaList(n),a.props.updateSelectCard({})},a.addMetaItem=function(e){var t=e.selectedTreeNode,n=e.targetAreaID,r=e.dataRef,l=e.dropIndex,o=a.props,i=o.json,s=(o.newAreaList,o.areaList);_.addMetaItem.call(a,{selectedTreeNode:t,targetAreaID:n,dataRef:r,json:i,areaList:s,dropIndex:l})},a.dragAreaItem=function(e,t){var n=a.props.areaList,r=(n=k.default.cloneDeep(n))[e];n.splice(e,1),n.splice(t,0,r),a.props.updateAreaList(n)},a.moveUp=function(e,t){var n=t-1;if(null===a.props.newAreaList[n]){var r=e.slice(0,n);n=k.default.findLastIndex(r,(function(e){return null!==e}))-1}return a.swapAreaItem(e,t,n)},a.moveDown=function(e,t){var n=t+1;return null===a.props.newAreaList[n]&&(n=e.slice(n).findIndex((function(e){return null!==e}))+n+1),a.swapAreaItem(e,t,n)},a.moveArea=function(e,t,n){t[n];var r=(0,E.getFormHeadCode)(t,a.props.zoneFormData.headcode),l=void 0;if("up"===e)if(t[l=n-1].relationcode===r){var o=t.findIndex((function(e){return e.code===r}));a.moveFormGroup("down",t,o)}else a.moveUp(t,n);else"down"===e&&(t[l=n+1].code===r?a.moveFormGroup("up",t,l):a.moveDown(t,n))},a.moveAreaItem=function(e,t){var n=k.default.cloneDeep(a.props.areaList),r=n[t],l=(0,E.getFormHeadCode)(n,a.props.zoneFormData.headcode);"up"===e&&0===t||"down"===e&&t===n.length-1||(r.code===l?a.moveFormGroup(e,n,t):a.moveArea(e,n,t),a.props.updateAreaList(n))},a.moveFormGroup=function(e,t,n){var r=a.getFormGroupList(t);if("up"===e){var l=n-1;a.insertAreaItem(t,n+r.length,l)}else if("down"===e){var o=n+r.length+1;a.insertAreaItem(t,n,o)}},a.swapAreaItem=function(e,t,a){var n;return n=[e[a],e[t]],e[t]=n[0],e[a]=n[1],n},a.insertAreaItem=function(e,t,a){var n=e.splice(a,1)[0];e.splice(t,0,n)},a.moveFormGroupItem=function(e,t){var n=a.props.areaList,r=(0,E.getFormHeadCode)(n,a.props.zoneFormData.headcode),l=k.default.findLastIndex(n,(function(e){return e.relationcode===r&&"1"===e.areatype}),t-1),o=k.default.findIndex(n,(function(e){return e.relationcode===r&&"1"===e.areatype}),t);a.moveChildrenItem(e,t,l,o)},a.moveGrandsonItem=function(e,t,n){var r=a.props.areaList,l=k.default.findLastIndex(r,(function(e){return e.relationcode===n.relationcode&&!0===e.isgrandson}),t-1),o=k.default.findIndex(r,(function(e){return e.relationcode===n.relationcode&&!0===e.isgrandson}),t);a.moveChildrenItem(e,t,l,o)},a.moveChildrenItem=function(e,t,n,r){var l=k.default.cloneDeep(a.props.areaList);if("up"===e){var o=n<0?0:n;a.insertAreaItem(l,o,t)}"down"===e&&a.insertAreaItem(l,r+1,t),a.props.updateAreaList(l)},a.deleteAreaItem=function(e,t){var n=k.default.cloneDeep(a.props.areaList);k.default.remove(n,(function(t){return t.pk_area===e})),a.props.updateAreaList(n),t&&t()},a.expandArea=function(e,t){var n=k.default.cloneDeep(a.props.areaList);n[e].isShow=t,n.forEach((function(a){a.associatedtab===n[e].code&&(a.isShow=t)})),a.props.updateAreaList(n)},a.getFormGroupList=function(e){var t=[].concat((0,l.default)(e)),n=t.filter((function(e){return e.relationcode})),r=(0,E.getFormHeadCode)(t,a.props.zoneFormData.headcode);return t=n.filter((function(e){return e.relationcode===r}))},a.handleToggleTableView=function(e,t){var n=k.default.cloneDeep(a.props.areaList);n[e]=(0,r.default)({},n[e],{isTile:t}),a.props.updateAreaList(n)},a.state={modalVisible:!1,metaTree:[],origTree:null,curTree:null,targetAreaID:"",targetAreaType:"",canSelectTreeNodeList:[]},a}return(0,u.default)(t,e),(0,c.default)(t,[{key:"componentWillUnmount",value:function(){this.props.clearData(),this.props.clearZoneData()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.json,n=t.canDrop,r=t.connectDropTarget,l=(t.areaList,t.newAreaList),o=t.templetid,i=t.showTabLaySetModal,s="#E7E8EB";return console.log({newAreaList:l}),n&&(s="rgba(221, 236, 250, 0.3)"),r(f.default.createElement("div",{type:"ncdiv",fieldid:"middle_area",className:"template-setting-content",style:{backgroundColor:s}},this.props.isImplement&&f.default.createElement("div",{className:"content-area-template-name"},this.props.zoneFormData.name),l.length>0?l.map((function(t,n){if(t)return f.default.createElement(v.default,{areaItem:t,key:n,areaListLength:l.length,id:t.pk_area,index:n,areatype:t.areatype,metaid:t.metaid,isShow:t.isShow,deleteCard:e.deleteCard,addMetaInArea:e.addMetaInArea,onDragArea:e.dragAreaItem,onMoveArea:e.moveAreaItem,onMoveFormGroup:e.moveFormGroupItem,onMoveGrandson:e.moveGrandsonItem,onDeleteArea:e.deleteAreaItem,onExpandArea:e.expandArea,onToggleTableView:e.handleToggleTableView,json:a,pageStatus:e.props.status,addMetaItem:e.addMetaItem,pcode:e.props.pcode,appcode:e.props.appcode,templetid:o})})):f.default.createElement("div",{className:"empty-content"},!o&&f.default.createElement("div",null,f.default.createElement("img",{src:w.default}),f.default.createElement("p",null,(0,x.langCheck)("ZoneSetting-000199","pages",a)),f.default.createElement("p",null,(0,x.langCheck)("ZoneSetting-000201","pages",a)))),f.default.createElement(y.default,{origTree:this.state.origTree,curTree:this.state.curTree,metaTree:this.state.metaTree,canSelectTreeNodeList:this.state.canSelectTreeNodeList,modalVisible:this.state.modalVisible,targetAreaID:this.state.targetAreaID,targetAreaType:this.state.targetAreaType,targetAreaCardLength:this.state.targetAreaCardLength,setModalVisible:this.setModalVisible,addCard:this.addCard,updateMetaTreeData:this.updateMetaTreeData,json:this.props.json,updateMetaTree:this.updateMetaTree}),i&&f.default.createElement(A.default,{json:a,visible:i})))}}]),t}(p.Component))||n;t.default=(0,m.connect)((function(e){return{areaList:e.zoneSettingData.areaList,newAreaList:e.zoneSettingData.newAreaList,zoneFormData:e.zoneSettingData.zoneFormData,isImplement:e.zoneSettingData.isImplement,showTabLaySetModal:e.zoneSettingData.showTabLaySetModal}}),{clearData:g.clearData,clearZoneData:h.clearZoneData,updateAreaList:g.updateAreaList,updateSelectArea:g.updateSelectArea,updateSelectCard:g.updateSelectCard,setTabLayModalVisible:g.setTabLayModalVisible})((0,b.default)(L))},1150:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=V(a(55)),l=V(a(169)),o=V(a(110)),i=V(a(925)),s=V(a(111)),c=V(a(3)),d=V(a(2)),u=V(a(17)),p=V(a(77)),f=V(a(21)),m=V(a(5)),g=V(a(7)),h=V(a(4)),b=V(a(6));a(131);var v=a(1),y=V(v),k=a(37),C=V(a(1151)),S=a(968),x=V(a(1160)),E=V(a(1166)),w=a(920),T=a(19),A=a(366),M=V(a(68)),D=V(a(1167)),I=V(a(1168)),N=V(a(1169)),L=V(a(1170)),P=V(a(1078)),Z=V(a(1172)),O=V(a(26)),j=a(1031);function V(e){return e&&e.__esModule?e:{default:e}}var F=O.default.base,q=F.NCDiv,z=F.NCPopconfirm,B=F.NCCheckbox,R=(F.NCButton,function(e){return function(t){return t&&t.stopPropagation(),e&&e()}}),H={beginDrag:function(e){return e.isImplement||(e.updateSelectArea(e.areaItem),(0,A.removeSelectCardCls)()),{id:e.id,index:e.index,type:e.type}},canDrag:function(e){return!e.isImplement}},K=(0,w.DragSource)("area",H,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(n=(0,w.DropTarget)("area",{drop:function(e,t,a){var n=t.getItem();if("card"===n.type){if(e.isImplement&&"0"===e.areatype)return;if(a.openAddNotMetaInArea(),t.isOver({shallow:!1})){var r=e.index;if(a.state.tabObj.activeTabKey)r=a.getAreaIndexByPk(a.getCurrentTabArea());a.setState({currentNotMeta:{datatype:n.datatype},realAreaIndex:r})}}else if("left"!==n.from){var l=n.index,o=e.index;if(l===o)return;e.onDragArea(l,o),t.getItem().index=o}}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=function(e){function t(e){(0,m.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return a.moveCard=function(e,t,n){var r=a.props.areaList,l=(r=_.cloneDeep(r))[n].queryPropertyList,o=l[e];l.splice(e,1),l.splice(t,0,o),_.forEach(l,(function(e,t){e.position=t+1})),a.props.updateAreaList(r)},a.deleteCard=function(e,t){a.props.deleteCard(e,t)},a.addMetaInArea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.metaId,n=void 0===t?a.props.areaItem.metaid:t,r=e.areaId,l=void 0===r?a.props.id:r,o=e.areaType,i=void 0===o?a.props.areatype:o;a.props.addMetaInArea(n,l,i)},a.openBatchSetting=function(e){a.props.updateSelectCard({}),a.setModalVisibel(!0,e)},a.setModalVisibel=function(e,t){var n=a.props,r=n.areaList,l=n.index,o=t||l;a.props.updateBatchSource(r[o].queryPropertyList),a.setState({batchSettingModalVisibel:e,realAreaIndex:o})},a.openSyncSetting=function(e){a.setState({syncSettingModalVisible:!0,syncAreaIndex:e})},a.setSyncModalVisible=function(e){a.setState({syncSettingModalVisible:e})},a.openAddNotMetaInArea=function(){a.setAddDataModalVisibel(!0)},a.setAddDataModalVisibel=function(e){a.setState({addDataModalVisibel:e})},a.getAreaIndexByPk=function(e){if(e){var t=void 0;return a.props.areaList.map((function(a,n){a.pk_area===e.pk_area&&(t=n)})),t}},a.showOrHideAreaItem=function(e){var t="boolean"!=typeof e?!a.props.isShow:e;a.props.onExpandArea(a.props.index,t)},a.toggleFormGroup=function(e,t,n){var r=a.state.groupShowArr;n&&n.stopPropagation();var l=r.map((function(a){return a[0]===t&&(a[1][e]=!a[1][e]),a}));a.setState({groupShowArr:l})},a.clearSelectCard=function(){(0,A.removeSelectCardCls)(),a.props.updateSelectCard({})},a.selectAreaItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.areaItem;e&&e.stopPropagation();var n=a.props,r=n.selectCard,l=n.selectedArea;_.isEmpty(r)||a.clearSelectCard(),l&&t.pk_area!==l.pk_area&&a.props.updateSelectArea(t)},a.checkAreaCodeRepeat=function(e){var t=(0,A.findRepeatItemsByCode)(e);if(t&&t.length>0){var n=t.map((function(e){return e.name}));return(0,M.default)({status:"error",msg:""+(0,T.langCheck)("ZoneSetting-000046","pages",a.props.json)+(0,p.default)(n)+(0,T.langCheck)("102202APP-000011","pages",a.props.json)}),!0}return!1},a.handleAddFormGroup=function(e,t){e.stopPropagation();var n=a.getCurrentTabArea(),r=n.code,l=_.findLastIndex(a.props.areaList,(function(e){return e.code===r}))+1;setTimeout((function(){var e=a.addArea(a.props,{items:{areatype:"1",relationcode:r},position:t||l});a.getCurrentTabArea();if(a.setActiveTabKey(r),e&&void 0===t){var o=a["formGroupRef"+(n.groups.length-1)];o&&o.scrollIntoView()}}),0)},a.initFormGroupShowArr=function(){var e=a.props.areaItem,t=e.code,n=e.groups,r=e.formTabs,l=[];return l.push([t,n?[].concat((0,u.default)(n)).fill(!0):[]]),r&&r.length>0&&r.forEach((function(e){l.push([e.code,e.groups?[].concat((0,u.default)(e.groups)).fill(!0):[]])})),l},a.handleHideGray=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.areaItem,n=t.pk_area||a.props.areaItem.pk_area;a.props.setAreaItemVisible((0,d.default)({},a.props.areaVisible,(0,c.default)({},n,e)))},a.getGroupContentVisible=function(e,t){var n=a.state.groupShowArr.find((function(e){return e[0]===t}));return!n||(n[1][e]||e>=n[1].length)},a.getGrandsonContentVisible=function(e){var t=a.state.grandsonObj.grandsonShowArr;return t[e]||e>=t.length},a.handleSpecialAreaDrop=function(e,t){var n=e.getItem();a.openAddNotMetaInArea(),a.setState({realAreaIndex:t,currentNotMeta:{datatype:n.datatype}})},a.checkAreaIsBeginOrEnd=function(e){var t=e.type,n=e.index,r=e.child,l=a.getCurrentTabArea(),o=a.props.areaList[n],c=a.props.newAreaList.filter((function(e){return null!==e})),d=c[0],u=c[c.length-1],p=r&&(0,s.default)(r)[0],f=r&&(0,i.default)(r)[0],m=p&&l[p];return"begin"===t?f?m&&m[0]&&m[0].pk_area===f.pk_area:d.pk_area===o.pk_area:"end"===t?f?m&&m[m.length-1]&&m[m.length-1].pk_area===f.pk_area:u.pk_area===o.pk_area:void 0},a.handleDeleteArea=function(e){return new o.default((function(t){var n=void 0,r=a.props,l=r.areaItem,o=r.onDeleteArea;l.groups&&l.groups.length>0&&(n=function(){return(0,M.default)({status:"warning",msg:(0,T.langCheck)("ZoneSetting-000210","pages",a.props.json)})}),o(e,n),a.props.updateSelectArea({}),t()}))},a.addArea=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!a.checkAreaCodeRepeat(a.props.areaList)&&A.addNewAreaItem.apply(a,t)},a.handleToggleFoldForm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.areaItem,n=a.state.foldObj,r=t.sides&&t.sides.find((function(e){return"browse"===e.areastatus}));a.checkAreaCodeRepeat(a.props.areaList)||(a.props.isImplement||r||(r=a.addArea(a.props,{items:{areatype:"1",areastatus:"browse",relationcode:t.code}}),n.emptyArea=_.cloneDeep(r)),n.foldShow=!n.foldShow,a.setState({foldObj:n},(function(){a.state.foldObj.foldShow?a.props.isShow||setTimeout((function(){a.props.onExpandArea(a.props.index,!0)}),0):(!a.props.isImplement&&_.isEqual(r,a.state.foldObj.emptyArea)&&a.handleDeleteArea(r.pk_area),a.props.updateSelectArea({}))})),a.selectAreaItem(e,r))},a.handleToggleSideForm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.areaItem,n=a.state,r=n.sideObj,l=n.tabObj,o=t.sides&&t.sides.find((function(e){return"edit"===e.areastatus})),i=t.grandsons&&t.grandsons.length>0;if(a.props.isImplement||o||i||(o=a.addArea(a.props,{items:{areatype:"1",areastatus:"edit",relationcode:t.code}}),r.emptyArea=_.cloneDeep(o)),o||i){if(o||(o=t),A.checkAreaType.isTableTab(t)&&a.props.areaItem.tabs){var s=a.props.areaItem.tabs.findIndex((function(e){return e.pk_area===t.pk_area}));l.sideArr[s].sideShow=!l.sideArr[s].sideShow,a.setState({tabObj:l},c.bind(a,l.sideArr[s]))}else l.sideArr=l.sideArr.map((function(e){return e.sideShow=!1,e})),r.sideShow=!r.sideShow,a.setState({sideObj:r,tabObj:l},c.bind(a,r));a.props.updateSearchBox({showSide:r.sideShow})}function c(t){!0===t.sideShow?this.selectAreaItem(e,o):(!this.props.isImplement&&_.isEqual(o,t.emptyArea)&&this.handleDeleteArea(o.pk_area),this.props.updateSelectArea({}))}},a.handleToggleGrandson=function(e){var t=a.state.grandsonObj;t.grandsonShowArr[e]=!t.grandsonShowArr[e],a.setState({grandsonObj:t})},a.handleToggleGransonView=function(e){var t=a.state.grandsonObj;t.isTileArr[e]=!t.isTileArr[e],a.setState({grandsonObj:t})},a.copyArea=function(e){var t=e.copyItem,n=e.position,r=e.areaItem,o=r.templetid,i=r.code,s=r.metaid,c=r.metaname,d=r.queryPropertyList,u={relationcode:i,templetid:o,metaid:s,metaname:c,queryPropertyList:a.copyAreaProperty(d)},p=(0,l.default)(u,t);return a.addArea(a.props,{items:p,position:n})},a.copyAreaProperty=function(e){var t=[];return e.forEach((function(e){var a=_.cloneDeep(e);a.pk_form_property="",a.pk_query_property="",a.areaid="",t.push(a)})),t},a.handleCopyFoldArea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.areaItem,n=a.state.foldObj;if(!a.checkAreaCodeRepeat(a.props.areaList))if(t.sides&&t.sides.find((function(e){return"browse"===e.areastatus})))(0,M.default)({status:"warning",msg:(0,T.langCheck)("ZoneSetting-000213","pages",a.props.json)});else{var r=a.copyArea({copyItem:{areatype:"1",areastatus:"browse",code:t.code+"_01",name:t.name+"_01"},position:e,areaItem:t});r&&(n.foldShow=!0,a.setState({foldObj:n}))}},a.handleCopySideArea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.areaItem,n=a.state.sideObj;if(t.sides&&t.sides.find((function(e){return"edit"===e.areastatus})))(0,M.default)({status:"warning",msg:(0,T.langCheck)("ZoneSetting-000214","pages",a.props.json)});else{var r=a.copyArea({copyItem:{areatype:"1",areastatus:"edit",code:t.code+"_02",name:t.name+"_02"},position:e,areaItem:t});r&&!1===n.sideShow&&(n.sideShow=!0,a.props.updateSearchBox({showSide:!0}),a.setState({sideObj:n}))}},a.handleAddGrandson=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.areaItem,n=arguments[2];e.stopPropagation(),a.addArea(a.props,{items:{areatype:"2",relationcode:t.code,isgrandson:!0},position:n})},a.getAreaItemCls=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"area-item";if(e){var n=a.props,r=n.selectedArea,l=n.selectCard,o=e.tabs,i=e.pk_area,s=r.pk_area===i||_.findIndex(o,(function(e){return e.pk_area===r.pk_area}))>-1,c=l.areaid===i||_.findIndex(o,(function(e){return e.pk_area===l.areaid}))>-1;return r&&!0===s?t+=" active":l&&!0===c&&(t+=" active card-active"),t}},a.copyFold=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.areaItem;e.stopPropagation(),t.code&&a.handleCopyFoldArea(a.props.index+1,t)},a.copySide=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.areaItem;e.stopPropagation(),t.code&&a.handleCopySideArea(a.props.index+1,t)},a.isTabs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.areaItem;return t[A.TAB_FLAG[e]]&&t[A.TAB_FLAG[e]].length>0},a.renderHeaderBtns=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"area",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.props,l=n.json,o=n.index,i=n.isImplement,s=n.areaItem,c=n.zoneFormData,d=(n.areatype,n.areaList),u=["onAddFormGroup","onCopySideArea","onCopyFoldArea","onMoveDown","onMoveUp","onAddGrandsonTable","onDelete"];i&&u.forEach((function(e){return delete t[e]}));var p="side"===e?"opr-btn":"opr-btn icon-btn",f="group"!==e&&"side"!==e?" float":"",m=t.child,g=t.hasMeta,h=t.foldBtnVisible,b=t.toggleViewBtnVisible,v=t.isTile,k=void 0===v?s.isTile:v,C=t.onHideGray,S=t.onAddMeta,x=t.onBatchSetting,E=t.onSyncSetting,w=t.onAddFormGroup,A=t.onCopySideArea,_=t.onCopyFoldArea,M=t.onMoveDown,D=t.onMoveUp,I=t.onAddGrandsonTable,N=t.onDelete,L=t.onToggleView,P=t.currentPkArea,Z=t.onToggleSide,O=t.onToggleFold,j=d.find((function(e){return e.pk_area==P})),V=a.checkAreaIsBeginOrEnd({type:"begin",index:o,child:m}),F=a.checkAreaIsBeginOrEnd({type:"end",index:o,child:m});return void 0!==m&&(o=a.getAreaIndexByPk(m)),y.default.createElement("span",{className:"area-item-button"+f,onClick:function(e){return e.stopPropagation()}}," ",y.default.createElement(B,{checked:a.props.areaVisible[P]||!1,onChange:C},(0,T.langCheck)("ZoneSetting-000013","pages",l)),i?null:g()?y.default.createElement("a",{onClick:S},(0,T.langCheck)("ZoneSetting-000014","pages",l)):y.default.createElement(r.default,{placement:"top",title:(0,T.langCheck)("ZoneSetting-000203","pages",l)}," ",y.default.createElement("a",{className:"disabled"},(0,T.langCheck)("ZoneSetting-000014","pages",l))," "),y.default.createElement("a",{onClick:x},(0,T.langCheck)("ZoneSetting-000015","pages",l)),i||j&&!j.newArea?E&&y.default.createElement("a",{onClick:E},(0,T.langCheck)("ZoneSetting-000261","pages",l)):E&&y.default.createElement("a",{className:"disabled"},(0,T.langCheck)("ZoneSetting-000261","pages",l)),h&&a.renderTableOperateCol(Z,O),s.code===(c&&c.headcode)&&w&&y.default.createElement("span",{className:p,onClick:w},y.default.createElement("i",{title:(0,T.langCheck)("ZoneSetting-000209","pages",l),className:"iconfont icon-xinzengfenzu"})),A&&_&&y.default.createElement("span",{className:"btn-group"},s.code&&A?y.default.createElement("span",{className:p,onClick:A},y.default.createElement("i",{className:"iconfont icon-fuzhicela",title:(0,T.langCheck)("ZoneSetting-000211","pages",l)})," "):y.default.createElement(r.default,{className:p,placement:"top",title:(0,T.langCheck)("ZoneSetting-000221","pages",l)}," ",y.default.createElement("span",{onClick:A},y.default.createElement("i",{className:"iconfont icon-fuzhicela disabled",title:(0,T.langCheck)("ZoneSetting-000211","pages",l)})," ")),s.code&&_?y.default.createElement("span",{className:p,onClick:_},y.default.createElement("i",{className:"iconfont icon-fuzhikapian",title:(0,T.langCheck)("ZoneSetting-000212","pages",l)})," "):y.default.createElement(r.default,{className:p,placement:"top",title:(0,T.langCheck)("ZoneSetting-000221","pages",l)}," ",y.default.createElement("span",{onClick:_},y.default.createElement("i",{className:"iconfont icon-fuzhikapian disabled",title:(0,T.langCheck)("ZoneSetting-000212","pages",l)})," "))),y.default.createElement("span",{className:"btn-group"},M&&y.default.createElement("span",{className:p,onClick:!F&&M},y.default.createElement("i",{title:(0,T.langCheck)("ZoneSetting-000189","pages",l),className:"iconfont icon-xiangxia "+(F?"disabled":"")})),D&&y.default.createElement("span",{className:p,onClick:!V&&D},y.default.createElement("i",{title:(0,T.langCheck)("ZoneSetting-000188","pages",l),className:"iconfont icon-xiangshang "+(V?"disabled":"")})),I&&y.default.createElement("span",{className:p,onClick:I},y.default.createElement("i",{title:(0,T.langCheck)("ZoneSetting-000218","pages",l),className:"iconfont icon-xinzengsunbiao",style:{fontSize:20}})),N&&y.default.createElement("span",{className:p},y.default.createElement(z,{content:(0,T.langCheck)("ZoneSetting-000191","pages",l),onClose:N,placement:"topRight"},y.default.createElement("i",{className:"iconfont icon-shanchu",title:(0,T.langCheck)("ZoneSetting-000190","pages",l)})))),b&&y.default.createElement("span",{className:p,onClick:L},y.default.createElement("i",{title:(0,T.langCheck)("ZoneSetting-000237","pages",l),className:"iconfont "+(k?"icon-mbpz_pp":"icon-Group")})))},a.renderHeader=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"area",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.props,r=n.json,l=n.areaItem,o=t.headerTitle,i=void 0===o?l.name:o,s=t.headerVisible,c=void 0===s||s,d=t.contentVisible,u=t.onToggleHeader,p=t.onDrawerToggle,f=t.isGrandson,m=function(){var e=a.getCurrentTabArea();u&&u(),f||a.selectAreaItem(void 0,e)},g=d?y.default.createElement("i",{title:(0,T.langCheck)("ZoneSetting-000011","pages",r),className:"iconfont icon-bottom",onClick:R(m)}):y.default.createElement("i",{title:(0,T.langCheck)("ZoneSetting-000012","pages",r),className:"iconfont icon-right",onClick:R(m)}),h="tab"===e?{height:0}:"side"===e?{display:"flex",alignItems:"center"}:{};return y.default.createElement("div",{className:"area-item-header "+(c?"show":"hide"),fieldid:"header",style:h},y.default.createElement("div",{className:"area-item-name-wrapper search-area-header",onClick:u},y.default.createElement("span",{className:"area-item-name"},u&&y.default.createElement("span",{className:"expand "+("tab"===e?"tab":"")},g),y.default.createElement("span",{className:"area-name"},i))),a.renderHeaderBtns(e,t),p&&y.default.createElement("span",{className:"drawer-close-btn",onClick:p},y.default.createElement("i",{className:"iconfont icon-celashouqi"})))},a.renderFormGroupCard=function(e,t,n){var r=a.props.areaVisible[a.props.areaItem.pk_area],l=a.getCurrentTabArea(),o=l.groups&&l.groups[t],i=a.getAreaIndexByPk(o);a.getAreaIndexByPk(l);return r=o&&a.props.areaVisible[o.pk_area]||!1,a.renderCard({item:e,cardIndex:n,areaType:"form",areaIndex:i,shouldHideGray:r})},a.renderTableFoldCard=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.props.areaItem,l=r.sides&&r.sides[t],o=a.getAreaIndexByPk(l);return a.renderCard({item:e,cardIndex:n,areaType:"form",areaIndex:o,shouldHideGray:l&&a.props.areaVisible[l.pk_area]||!1})},a.renderCard=function(e){var t=e.item,n=e.areaIndex,r=void 0===n?a.props.index:n,l=e.cardIndex,o=e.areaType,i=e.shouldHideGray,s=void 0===i?a.props.areaVisible[a.props.areaItem.pk_area]||!1:i,c=e.groupBelongToFormAreaIndex;return y.default.createElement(C.default,{index:l,areaItem:a.props.areaItem,areaIndex:r,key:t.code,shouldHideGray:s,id:t.pk_query_property,name:t.label,areaid:a.props.areaItem.pk_area,visible:t.visible,color:t.color,required:t.required,moveCard:a.moveCard,deleteCard:function(e){return a.deleteCard(e,r)},cardInfo:t,areaType:o,json:a.props.json,addMetaItem:a.props.addMetaItem,handleCheckCard:a.handleCheckCard,showCardCheckboxController:a.state.showCardCheckboxController,setCardCheckboxState:a.setCardCheckboxState,checkAllCard:a.checkAllCard,checkedCards:a.state.checkedCards,clearCheckedCard:a.clearCheckedCard,revertThisAction:a.revertThisAction,batchMoveCard:a.batchMoveCard,openAddNotMetaInArea:a.openAddNotMetaInArea,getCurrentTabArea:a.getCurrentTabArea,setRealAreaIndexAndNotMetaData:a.setRealAreaIndexAndNotMetaData,activeTabKey:a.state.tabObj.activeTabKey,setBlankDomWidth:a.setBlankDomWidth,groupBelongToFormAreaIndex:c,getAreaIndexByPk:a.getAreaIndexByPk})},a.renderGroupHeader=function(e,t,n){var r=a.getGroupContentVisible(t,e.relationcode);return y.default.createElement("div",{className:"form-group-header"},y.default.createElement("span",{className:"form-group-title"},y.default.createElement("span",{className:"group-name"},e.name),y.default.createElement("i",{className:"iconfont "+(r?"icon-ncc-zk":"icon-ncc-sq"),onClick:function(n){return a.toggleFormGroup(t,e.relationcode,n)}})),y.default.createElement("div",{className:"dashed-line"}),y.default.createElement("div",{className:"group-btns"},n))},a.renderTabTableHeader=function(){var e=a.props,t=e.areaItem,n=e.index,r=e.onMoveArea,l=a.getCurrentTabArea(),o=a.getAreaIndexByPk(l);return a.renderHeader("tab",{headerVisible:!0,contentVisible:a.props.isShow,foldBtnVisible:!0,toggleViewBtnVisible:!0,hasMeta:function(){return l.metaid},onToggleHeader:a.showOrHideAreaItem,onHideGray:function(e){return a.handleHideGray(e,l)},onAddMeta:function(){return a.addMetaInArea({metaId:l.metaid,areaId:l.pk_area,areaType:l.areatype})},onBatchSetting:function(){return a.openBatchSetting(o)},onSyncSetting:function(){return a.openSyncSetting(o,l)},onCopySideArea:function(e){return a.copySide(e,l)},onCopyFoldArea:function(e){return a.copyFold(e,l)},onMoveDown:function(){return r("down",n)},onMoveUp:function(){return r("up",n)},onDelete:function(){return a.handleDeleteArea(l.pk_area)},onToggleView:function(){return a.props.onToggleTableView(n,!t.isTile)},onToggleSide:function(){return a.handleToggleSideForm(void 0,l)},onToggleFold:function(){return a.handleToggleFoldForm(void 0,l)},currentPkArea:l.pk_area})},a.renderTabFormHeader=function(){var e=a.props,t=e.index,n=e.onMoveArea,r=a.getCurrentTabArea(),l=a.getAreaIndexByPk(r);return a.renderHeader("tab",{headerVisible:!0,contentVisible:a.props.isShow,hasMeta:function(){return r.metaid},onToggleHeader:a.showOrHideAreaItem,onHideGray:function(e){return a.handleHideGray(e,r)},onAddMeta:function(){return a.addMetaInArea({metaId:r.metaid,areaId:r.pk_area,areaType:r.areatype})},onBatchSetting:function(){return a.openBatchSetting(l)},onSyncSetting:function(){return a.openSyncSetting(l,r)},onAddFormGroup:a.handleAddFormGroup.bind(a),onMoveDown:function(){return n("down",t)},onMoveUp:function(){return n("up",t)},onDelete:function(){return a.handleDeleteArea(r.pk_area)},currentPkArea:r.pk_area})},a.renderAreaHeader=function(){var e=a.props,t=e.areaItem,n=e.areatype,r=e.id,l=e.index,o=e.onMoveArea;if(a.isTabs("table"))return a.renderTabTableHeader();if(a.isTabs("form"))return a.renderTabFormHeader();return a.renderHeader("area",{headerVisible:!0,contentVisible:a.props.isShow,foldBtnVisible:"2"===n,toggleViewBtnVisible:"2"===n,hasMeta:function(){return t.metaid},onToggleHeader:a.showOrHideAreaItem,onHideGray:a.handleHideGray,onAddMeta:function(){return a.addMetaInArea()},onBatchSetting:function(){return a.openBatchSetting()},onSyncSetting:"2"===n&&function(){return a.openSyncSetting(l)},onAddFormGroup:"1"===n&&a.handleAddFormGroup.bind(a),onCopySideArea:"2"===n&&a.copySide,onCopyFoldArea:"2"===n&&a.copyFold,onMoveDown:function(){return o("down",l)},onMoveUp:function(){return o("up",l)},onDelete:function(){return a.handleDeleteArea(r)},onToggleView:function(){return a.props.onToggleTableView(l,!t.isTile)},currentPkArea:t.pk_area,onToggleSide:function(e){return a.handleToggleSideForm(e)},onToggleFold:function(e){return a.handleToggleFoldForm(e)}})},a.getCurrentTabArea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.areaItem,t="1"===e.areatype?"form":"2"===e.areatype?"table":"",n=e[A.TAB_FLAG[t]]||[],r=[e].concat(n);return r.find((function(e){return e.code===a.state.tabObj.activeTabKey}))||e},a.renderFormGroup=function(e,t){var n=a.props.selectedArea&&a.props.selectedArea.pk_area===e.pk_area,r=a.getAreaIndexByPk(e),l=a.state.groupShowArr,o=a.isTabs("form")?a.getCurrentTabArea(e):e,i=(a.getAreaIndexByPk(o),a.renderHeaderBtns("group",{child:{groups:o},headerVisible:n,hasMeta:function(){return e.metaid},onToggleHeader:function(){return a.toggleFormGroup(t,e.relationcode)},onHideGray:function(t){return a.handleHideGray(t,e)},onAddMeta:function(){return a.addMetaInArea({metaId:e.metaid,areaId:e.pk_area,areaType:e.areatype})},onBatchSetting:function(){return a.openBatchSetting(r)},onAddFormGroup:function(e){return a.handleAddFormGroup.call(a,e,r+1)},onMoveDown:function(){return a.props.onMoveFormGroup("down",r)},onMoveUp:function(){return a.props.onMoveFormGroup("up",r)},onDelete:function(){return a.handleDeleteArea(e.pk_area)},currentPkArea:e.pk_area})),s=a.renderGroupHeader(e,t,i);return y.default.createElement("div",{ref:function(e){return a["formGroupRef"+t]=e}},y.default.createElement(D.default,{group:e,groupIndex:t,groupShowArr:l,isActive:n,contentVisible:a.getGroupContentVisible(t,e.relationcode),renderHeader:s,renderCard:function(e,n){return a.renderFormGroupCard(e,t,n)},emptyText:(0,T.langCheck)("ZoneSetting-000226","pages",a.props.json),onClick:function(t){return a.selectAreaItem(t,e)},onDrop:function(e){return a.handleSpecialAreaDrop(e,r)}}))},a.renderTableSide=function(e){var t=e.side,n=e.sideIndex,r=e.onlyGrandson,l=e.relationArea,o=a.state.sideObj.sideShow,i=a.props.selectedArea&&a.props.selectedArea.pk_area===t.pk_area,s=r?n:a.getAreaIndexByPk(t),c=a.renderHeader("side",{headerTitle:t.name,hasMeta:function(){return t.metaid},onHideGray:function(e){return a.handleHideGray(e,t)},onAddMeta:function(){return a.addMetaInArea({metaId:t.metaid,areaId:t.pk_area,areaType:t.areatype})},onBatchSetting:function(){return a.openBatchSetting(s)},onSyncSetting:function(){return a.openSyncSetting(s)},onAddGrandsonTable:function(e){return a.handleAddGrandson(e,l)},onDelete:function(){a.handleDeleteArea(t.pk_area).then((function(){var e=a.state.sideObj;e.sideShow=!1,a.setState({sideObj:e})}))},onDrawerToggle:function(){return a.handleToggleSideForm(void 0,l)},currentPkArea:t.pk_area}),d=a.props.areaItem.grandsons;if(l&&A.checkAreaType.isTableTab(l)&&a.props.areaItem.tabs){var u=a.props.areaItem.tabs.findIndex((function(e){return e.pk_area===l.pk_area}));d=l.grandsons,o=a.state.tabObj.sideArr[u]&&a.state.tabObj.sideArr[u].sideShow}return y.default.createElement(N.default,{areaClassName:a.getAreaItemCls(t),side:t,isActive:i,sideIndex:n,renderHeader:c,renderCard:function(e,t){return a.renderTableFoldCard(e,n,t,l)},visible:o,onClick:function(e){return a.selectAreaItem(e,t)},onDrop:function(e){return a.handleSpecialAreaDrop(e,s)}},(function(){return y.default.createElement(q,{className:"grandson-content",fieldid:"grandson",areaCode:q.config.Area},d&&d.map((function(e,t){return a.renderGrandsonArea(e,t,l)})))}))},a.renderTableFold=function(e,t,n){var r=a.state.foldObj.foldShow,l=a.props.selectedArea&&a.props.selectedArea.pk_area===e.pk_area,o=a.getAreaIndexByPk(e),i=a.renderHeader("area",{headerTitle:e.name,contentVisible:r,hasMeta:function(){return e.metaid},onToggleHeader:a.handleToggleFoldForm,onHideGray:function(t){return a.handleHideGray(t,e)},onAddMeta:function(){return a.addMetaInArea({metaId:e.metaid,areaId:e.pk_area,areaType:e.areatype})},onBatchSetting:function(){return a.openBatchSetting(o)},onSyncSetting:function(){return a.openSyncSetting(o)},onDelete:function(){a.handleDeleteArea(e.pk_area).then((function(){var e=a.state.foldObj;e.foldShow=!1,a.setState({foldObj:e})}))},currentPkArea:e.pk_area}),s=a.getAreaItemCls(e,""),c=(0,j.processClass)(e.code)||"unknow";return y.default.createElement(q,{className:"table-fold-area "+s+" search-area-"+(String(e.code).replace(/\.|\&|\#/g,"")||"unknow")+" drag-mask-"+c,fieldid:"table-fold",areaCode:q.config.Area},y.default.createElement(I.default,{fold:e,foldIndex:t,isActive:l,renderHeader:i,renderCard:function(e,r){return a.renderTableFoldCard(e,t,r,n)},visible:r,onClick:function(t){return a.selectAreaItem(t,e)},onDrop:function(e){return a.handleSpecialAreaDrop(e,o)}}))},a.renderGrandsonArea=function(e,t,n){var r=a.props.selectedArea&&a.props.selectedArea.pk_area===e.pk_area,l=a.getAreaIndexByPk(e),o=a.getGrandsonContentVisible(t),i=a.state.grandsonObj.isTileArr[t],s=a.isTabs("table",e),c=s?"tab":"area",d=s?a.getCurrentTabArea(e):e,u=a.renderHeader(c,{child:{grandsons:e},headerTitle:d.name,hasMeta:function(){return d.metaid},contentVisible:o,toggleViewBtnVisible:!0,isTile:i,onToggleHeader:function(){return a.handleToggleGrandson(t)},onHideGray:function(e){return a.handleHideGray(e,d)},onAddMeta:function(){return a.addMetaInArea({metaId:d.metaid,areaId:d.pk_area,areaType:d.areatype})},onBatchSetting:function(){return a.openBatchSetting(a.getAreaIndexByPk(d))},onAddGrandsonTable:s?void 0:function(e){return a.handleAddGrandson(e,n,l+1)},onMoveDown:function(){return a.props.onMoveGrandson("down",l,e)},onMoveUp:function(){return a.props.onMoveGrandson("up",l,e)},onDelete:function(){return a.handleDeleteArea(d.pk_area)},onToggleView:function(){a.handleToggleGransonView(t),a.props.onToggleTableView(l,!e.isTile)},currentPkArea:d.pk_area,isGrandson:!0});return y.default.createElement(L.default,{areaClassName:a.getAreaItemCls(e),grandson:e,grandsonIndex:l,isActive:r,isTile:i,contentVisible:o,activeTabKey:a.state.tabObj.activeTabKey,renderHeader:u,renderCard:function(e){var t=e.item,n=e.cardIndex,r=a.getAreaIndexByPk(d);return a.renderCard({item:t,cardIndex:n,areaType:"table",areaIndex:r,shouldHideGray:a.props.areaVisible[d.pk_area]||!1})},onClick:function(t){return a.selectAreaItem(t,e)},onDrop:function(e){return a.handleSpecialAreaDrop(e,l)},onDragArea:a.props.onDragArea,onTabChange:a.setActiveTabKey,onAreaClick:a.selectAreaItem,onTabPaneDrop:a.handleTabTableDrop})},a.renderSubArea=function(e){var t=a.props.areaItem,n=null;switch(t.areatype){case"1":var r=a.isTabs("form")?e:t;n=a.renderFormSubArea(r);break;case"2":var l=a.isTabs("table")?e:t;n=a.renderTableSubArea(l)}return n},a.renderTableSubArea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.areaItem,t=e.sides&&[].concat((0,u.default)(e.sides));return e.grandsons&&(t=[].concat((0,u.default)(t),(0,u.default)(e.grandsons))),t&&t.map((function(n,r){var l=t.find((function(e){return"edit"===e.areastatus&&!0!==e.isgrandson}));if(!0===n.isgrandson){if(!l)return a.renderTableSide({side:e,sideIndex:a.props.index,onlyGrandson:!0})}else{if("browse"===n.areastatus)return a.renderTableFold(n,r,e);if("edit"===n.areastatus)return a.renderTableSide({side:n,sideIndex:r,relationArea:e})}}))},a.renderFormSubArea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.areaItem;return e.groups&&e.groups.map((function(e,t){return a.renderFormGroup(e,t)}))},a.renderTableOperateCol=function(e,t){var n=a.props,l=n.json,o=n.isImplement,i=n.areaHide,s=a.getCurrentTabArea(),c=a.state.foldObj.foldShow?(0,T.langCheck)("ZoneSetting-000217","pages",l):(0,T.langCheck)("ZoneSetting-000215","pages",l),d=null,u=null;return a.hideTableOprCol()?null:[(d=s.sides&&s.sides.find((function(e){return"edit"===e.areastatus})),u=d&&d.pk_area,!o||!s.sides||s.sides.find((function(e){return"edit"===e.areastatus}))||s.grandsons&&0!==s.grandsons.length?s.code?o&&i[u]?y.default.createElement(r.default,{placement:"top",title:(0,T.langCheck)("ZoneSetting-000258","pages",l)}," ",y.default.createElement("a",{className:"disabled"},(0,T.langCheck)("ZoneSetting-000216","pages",l))):y.default.createElement("span",null,y.default.createElement("a",{className:"search-action-side",onClick:e},(0,T.langCheck)("ZoneSetting-000216","pages",l))):y.default.createElement(r.default,{placement:"top",title:(0,T.langCheck)("ZoneSetting-000221","pages",l)}," ",y.default.createElement("a",{className:"disabled"},(0,T.langCheck)("ZoneSetting-000216","pages",l))):null),(d=s.sides&&s.sides.find((function(e){return"browse"===e.areastatus})),u=d&&d.pk_area,o&&s.sides&&!s.sides.find((function(e){return"browse"===e.areastatus}))?null:s.code?o&&i[u]?y.default.createElement(r.default,{placement:"top",title:(0,T.langCheck)("ZoneSetting-000257","pages",l)}," ",y.default.createElement("a",{className:"disabled"},(0,T.langCheck)("ZoneSetting-000215","pages",l))):y.default.createElement("span",null,y.default.createElement("a",{className:"search-action-fold",onClick:t},c)," "):y.default.createElement(r.default,{placement:"top",title:(0,T.langCheck)("ZoneSetting-000221","pages",l)}," ",y.default.createElement("a",{className:"disabled"},c)))]},a.hideTableOprCol=function(){var e=a.props,t=e.areaItem,n=e.isImplement;return!(t.grandsons&&t.grandsons.length>0)&&(n&&(!t.sides||t.sides&&0===t.sides.length))},a.setActiveTabKey=function(e,t){var n=a.state.tabObj;n.activeTabKey=e,console.log(a.props.selectedArea),e!==a.props.selectedArea.code?a.showOrHideAreaItem(!0):a.showOrHideAreaItem(t),a.setState({tabObj:n})},a.handleTabTableDrop=function(e){if(e.isOver({shallow:!1})){var t=a.getAreaIndexByPk(a.getCurrentTabArea());a.handleSpecialAreaDrop(e,t)}},a.handleCheckCard=function(e,t){var n=a.state.checkedCards[t.areaid];if(e){n?n.push(t.code):n=[t.code];var r=(0,d.default)({},a.state.checkedCards,(0,c.default)({},t.areaid,n));a.setState({checkedCards:r})}else{var l=n.findIndex((function(e){return e===t.code}));n.splice(l,1);var o=(0,d.default)({},a.state.checkedCards,(0,c.default)({},t.areaid,n));a.setState({checkedCards:o})}},a.setCardCheckboxState=function(e){var t=a.state.showCardCheckboxController,n=(a.props.areaItem,(0,d.default)({},t,(0,c.default)({},e.areaid,!t[e.areaid])));a.setState({showCardCheckboxController:n})},a.checkAllCard=function(e){var t=a.props.areaList.find((function(t){return t.pk_area===e.areaid})),n=t&&t.queryPropertyList.map((function(e){return e.code}));a.setState({checkedCards:(0,d.default)({},a.state.checkedCards,(0,c.default)({},e.areaid,n))})},a.clearCheckedCard=function(e){a.setState({checkedCards:(0,d.default)({},a.state.checkedCards,(0,c.default)({},e.areaid,[]))})},a.revertThisAction=function(e){var t=a.state,n=t.showCardCheckboxController,r=t.checkedCards,l=(a.props.areaItem,(0,d.default)({},n,(0,c.default)({},e.areaid,!1)));a.setState({checkedCards:(0,d.default)({},r,(0,c.default)({},e.areaid,[])),showCardCheckboxController:l})},a.batchMoveCard=function(e,t){var n=a.props.areaList,r=a.state.checkedCards,l=e.code,o=e.areaid,i=(n=_.cloneDeep(n)).findIndex((function(t){return t.pk_area===e.areaid})),s=n[i].queryPropertyList,c=[];if(r[o].includes(l)){var d=r[o].indexOf(l);r[o].splice(d,1)}for(var u=0;u<s.length;u++){var p=s[u];r[o].includes(p.code)&&(s.splice(u,1),c.push(p),u--)}var f=void 0;s.forEach((function(e,t){e.code===l&&(f=t)})),f="front"===t?f:f+1,s.splice.apply(s,[f,0].concat(c)),s.forEach((function(e,t){e.position=t+1})),a.props.updateAreaList(n)},a.setRealAreaIndexAndNotMetaData=function(e){var t=e.currentNotMeta,n=e.realAreaIndex;a.setState({currentNotMeta:t,realAreaIndex:n})},a.setBlankDomWidth=function(){var e=a.areaItemDom&&a.areaItemDom.querySelector(".property-item.is-blank-dom");e&&(e.style.width="0px")},a.defaultState={sideObj:{sideShow:!1,emptyArea:{}}},a.state={batchSettingModalVisibel:!1,addDataModalVisibel:!1,currentNotMeta:{},realAreaIndex:e.index,groupShowArr:a.initFormGroupShowArr(),foldObj:e.areaItem.sides?{foldShow:!1,emptyArea:{}}:{},sideObj:e.areaItem.sides?_.clone(a.defaultState.sideObj):{},grandsonObj:{grandsonShowArr:e.areaItem.grandsons?[].concat((0,u.default)(e.areaItem.grandsons)).fill(!0):[],isTileArr:e.areaItem.grandsons?[].concat((0,u.default)(e.areaItem.grandsons)).fill(!1):[]},tabObj:{activeTabKey:e.selectedArea?e.selectedArea.code:"",sideArr:e.areaItem.tabs?[].concat((0,u.default)(e.areaItem.tabs)).fill(_.clone(a.defaultState.sideObj)):[]},checkedCards:(0,c.default)({},e.id,[]),showCardCheckboxController:(0,c.default)({},e.id,!1),syncSettingModalVisible:!1},a.setBlankDomWidth=a.setBlankDomWidth.bind(a),a}return(0,b.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){1==this.props.areaListLength&&this.showOrHideAreaItem(!0),this.pubsub=(0,A.subscribeSetActiveKey)(this.props.areaItem,this.setActiveTabKey)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.areaItem.tabs?this.props.areaItem.tabs.length:0;if(e.areaItem.tabs&&Array.isArray(e.areaItem.tabs)&&e.areaItem.tabs.length>t){var a=this.state.tabObj;a.sideArr=[].concat((0,u.default)(e.areaItem.tabs)).fill(_.clone(this.defaultState.sideObj)),this.setState({tabObj:a})}e.isSave&&this.state.sideObj.sideShow&&this.handleToggleSideForm()}},{key:"componentWillUnmount",value:function(){PubSub.unsubscribe(this.pubsub),this.areaItemDom=null}},{key:"render",value:function(){var e=this,t=this.props,a=t.connectDragSource,n=t.connectDropTarget,r=t.areaList,l=t.index,o=t.areaItem,i=t.areaHide,s=this.state.syncSettingModalVisible,c=this.getAreaItemCls(o),d=r[l]&&!1===r[l].validate?{borderColor:"#f5222d"}:{},u=(0,j.processClass)(o.code)||"unknow",p=this.isTabs("1"===o.areatype?"form":"2"===o.areatype?"table":"")?"":"drag-mask-"+u;return!i[o.pk_area]&&a(n(y.default.createElement("div",{type:"ncdiv",fieldid:o.code+"_area",className:c+" search-area-"+(String(o.code).replace(/\.|\&|\#/g,"")||"unknow")+" "+p,searchinside:String(this.state.sideObj.sideShow),onClick:this.selectAreaItem,style:d,ref:function(t){return e.areaItemDom=t}},y.default.createElement(P.default,{isShow:this.props.isShow,isTile:o.isTile,areaItem:this.props.areaItem,renderHeader:this.renderAreaHeader(),renderCard:this.renderCard,activeTabKey:this.state.tabObj.activeTabKey,onAreaClick:this.selectAreaItem,onTabChange:this.setActiveTabKey,onTabPaneDrop:this.handleTabTableDrop},(function(t){return e.renderSubArea(t)})),this.state.batchSettingModalVisibel&&y.default.createElement(x.default,{batchSettingModalVisibel:this.state.batchSettingModalVisibel,areaIndex:this.state.realAreaIndex,setModalVisibel:this.setModalVisibel,json:this.props.json}),y.default.createElement(E.default,{areatype:this.props.areatype,addDataModalVisibel:this.state.addDataModalVisibel,areaIndex:this.state.realAreaIndex,setAddDataModalVisibel:this.setAddDataModalVisibel,json:this.props.json,propperty:this.state.currentNotMeta,pcode:this.props.pcode,appcode:this.props.appcode,templetid:this.props.templetid,zoneFormData:this.props.zoneFormData}),s&&y.default.createElement(Z.default,{show:s,areaIndex:this.state.syncAreaIndex,close:this.setSyncModalVisible,json:this.props.json}))))}}]),t}(v.Component))||n)||n;t.default=(0,k.connect)((function(e){return{selectedArea:e.zoneSettingData.selectedArea,areaList:e.zoneSettingData.areaList,newAreaList:e.zoneSettingData.newAreaList,selectCard:e.zoneSettingData.selectCard,zoneFormData:e.zoneSettingData.zoneFormData,isImplement:e.zoneSettingData.isImplement,areaVisible:e.zoneSettingData.areaVisible,areaHide:e.zoneSettingData.areaHide,isSave:e.zoneSettingData.isSave}}),{updateSelectCard:S.updateSelectCard,updateSelectArea:S.updateSelectArea,updateBatchSource:S.updateBatchSource,updateSearchBox:S.updateSearchBox,updateAreaList:S.updateAreaList,setAreaItemVisible:S.setAreaItemVisible})(K)},1151:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=T(a(111)),l=T(a(2)),o=T(a(21)),i=T(a(5)),s=T(a(7)),c=T(a(4)),d=T(a(6)),u=a(920),p=a(1),f=T(p),m=a(37),g=a(968),h=a(1152),b=a(366),v=a(19),y=T(a(68)),k=T(a(89)),C=T(a(1153)),S=T(a(26)),x=a(1157),E=a(1158),w=a(1159);function T(e){return e&&e.__esModule?e:{default:e}}var A=S.default.base.NCCheckbox,_={hover:function(e,t,a){t.getItem().index,e.index},drop:function(e,t,a){var n=t.getItem(),r=e.index;if(n.areaIndex=n.metaTree?(0,x.findMetaTreeIndex)(e.areaList,n.targetAreaID):n.areaIndex,n.notMetaData){if(e.isImplement&&"0"===e.areatype)return;return e.openAddNotMetaInArea(),void e.setRealAreaIndexAndNotMetaData({currentNotMeta:{datatype:n.datatype,dropIndex:r},realAreaIndex:e.areaIndex})}if(e.areaIndex=e.groupBelongToFormAreaIndex?e.groupBelongToFormAreaIndex:e.areaIndex,!t.didDrop()&&n.index!==r&&n.areaIndex===e.areaIndex)return n.metaTree?(e.addMetaItem({selectedTreeNode:n.selectedNodes,dataRef:n.dataRef,targetAreaID:e.cardInfo.areaid,dropIndex:e.index}),{result:!0}):void(n.index<r?e.moveCard(n.index,r-1,e.areaIndex):e.moveCard(n.index,r,e.areaIndex))}},M=(0,u.DropTarget)("card",_,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=(0,u.DragSource)("card",{canDrag:function(e){return!e.cardInfo.blank},beginDrag:function(e){return{id:e.id,index:e.index,areaIndex:e.areaIndex}},isDragging:function(e,t){return t.getItem().id===e.id}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(n=function(e){function t(e){(0,i.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.deleteCard=function(e){e.stopPropagation();var t=a.props.areaList[a.props.areaIndex].queryPropertyList[a.props.index];a.props.isImplement&&1==t.isfixedcondition?(0,y.default)({status:"warning",msg:(0,v.langCheck)("ZoneSetting-000231","pages",a.props.json)}):(a.props.deleteCard(a.props.index),a.setState({menuVisible:!1}))},a.selectThisCard=function(e){if(e.stopPropagation(),a.props.cardInfo.blank)return!1;a.updateThisCard(e),k.default.isEmpty(a.props.selectedArea)||a.props.updateSelectArea({})},a.updateThisCard=function(e){var t=a.props,n=t.areaList,r=t.areaIndex,l=t.index,o=n[r].queryPropertyList[l];a.updateActiveCardCls(),a.props.updateSelectCard(o)},a.updateActiveCardCls=function(){(0,b.removeSelectCardCls)(),a.cardDom&&a.cardDom.classList.add("select-card")},a.getCardClassName=function(){var e=a.props,t=e.selectCard,n=e.required,r=e.id,l=e.areaid,o=e.cardInfo,i=e.isOver?" hover":"",s="search"===e.areaType?"search-card":"",c=1==o.disabled?" disabled-card":"",d="";return n&&(d=" required-card"),""+(d=t.pk_query_property===r&&t.areaid===l?"select-card"+d:"normal-card"+d)+i+c+" "+s},a.perceptionMenuVisible=function(e){setTimeout((function(){var e=a.cardDom&&a.cardDom.querySelector(".move-card-selection");e&&0===e.clientWidth&&!0===a.state.menuVisible&&a.setState({menuVisible:!1})}),100)},a.toggleMenuVisible=function(e){e&&e.stopPropagation(),a.setState({menuVisible:!a.state.menuVisible})},a.handleIconShow=function(e){a.setState({controlIconShow:e})},a.handleCheckCard=function(e){var t=a.props.cardInfo;a.props.handleCheckCard(e,t)},a.showItemTypeCom=function(){var e=a.props,t=e.showCardCheckboxController,n=e.areaType,r=e.cardInfo;return"search"===n||!t[r.areaid]},a.renderCard=function(e){e.opacity;var t=e.showName,n=a.props,r=n.areaType,o=n.color,i=n.cardInfo,s=n.visible,c=(n.selectCard,n.isOver,n.json),d=n.areaList,u=n.isDragging,p=a.getCardClassName(),m="table"!==r?"card":r,g=(0,l.default)({},i,{onClick:a.selectThisCard}),b={},v=String(i.code).replace(/\.|\&|\#/g,""),y=a.props.showCardCheckboxController[i.areaid]&&"card-checkbox";"table"!==r||isNaN(i.width)||+i.width>120&&!a.props.areaItem.isTile&&(b.minWidth=+i.width);var k=a.state.controlIconShow?"control-icon-show":"",S=i.blank?"is-blank-dom":"",x=d[a.props.areaIndex].queryPropertyList;return f.default.createElement("li",{className:"property-item "+m+"-content "+p+" search-unit-"+v+" "+k+" "+y+" "+S,fieldid:i.code,onClick:a.selectThisCard,onMouseLeave:a.perceptionMenuVisible,ref:function(e){return a.cardDom=e},style:{minWidth:(0,E.calculateBlankCardWidth)(i,x,r,a.cardDom,u)}},!0!==i.blank&&f.default.createElement("div",{className:m+"-item",title:t,style:(0,l.default)({color:o},b)},"search"!==r&&f.default.createElement("div",{className:"item-name"},f.default.createElement("span",{className:"title search-unit-label"},t)),a.showItemTypeCom()&&f.default.createElement("div",{className:"item-content"},h.getItemTypeCom.call(a,g,r,c)),f.default.createElement(C.default,{className:"card-menu-"+v,visible:a.state.menuVisible,toggleMenuVisible:a.toggleMenuVisible,handleIconShow:a.handleIconShow,cardDom:a.cardDom,index:a.props.index,addMetaItem:a.props.addMetaItem,setCardCheckboxState:a.props.setCardCheckboxState,checkAllCard:a.props.checkAllCard,showCardCheckboxController:a.props.showCardCheckboxController,clearCheckedCard:a.props.clearCheckedCard,revertThisAction:a.props.revertThisAction,batchMoveCard:a.props.batchMoveCard,cardInfo:i,handleCheckCard:a.handleCheckCard,json:a.props.json}),f.default.createElement("span",{className:"delete-card",onClick:a.deleteCard}," x "),!s&&f.default.createElement("span",{className:"hidden-tag"}),(0,w.perceptionCheckboxShow)(a.props)&&f.default.createElement("div",{className:"card-checkbox-container"},f.default.createElement(A,{checked:a.props.checkedCards[i.areaid].includes(i.code),onChange:a.handleCheckCard}))))},a.state={radioSelectedValue:"",passwordValue:"",menuVisible:!1,controlIconShow:!1},a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props.areaItem;return e.areaItem.queryPropertyList.length!==a.queryPropertyList.length||!((0,r.default)(e.selectCard).length>0&&!k.default.isEqual(e.selectCard,this.props.selectCard))&&(e.shouldHideGray!==this.props.shouldHideGray||(e.areaItem.areatype,this.props.areaItem.areatype),!0)}},{key:"componentWillUnmount",value:function(){this.cardDom=null}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.visible,n=e.shouldHideGray,r=e.isDragging,l=e.connectDragSource,o=e.connectDropTarget,i=r?.3:a?1:.6,s=k.default.isEmpty(t)?String.fromCharCode(160):t;return!0===n&&!1===a?null:l(o(this.renderCard({opacity:i,showName:s})))}}]),t}(p.Component))||n)||n;t.default=(0,m.connect)((function(e){return{selectCard:e.zoneSettingData.selectCard,selectedArea:e.zoneSettingData.selectedArea,areaList:e.zoneSettingData.areaList,isImplement:e.zoneSettingData.isImplement}}),{updateSelectArea:g.updateSelectArea,updateSelectCard:g.updateSelectCard})(M)},1152:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(14)),r=m(a(21)),l=m(a(5)),o=m(a(7)),i=m(a(4)),s=m(a(6)),c=m(a(2));t.getItemTypeCom=function(e,t,a){var n=this,r=e.disabled,l=e.label,o=e.onClick,i=e.disabled,s="32"===e.datatype?[a["ZoneSetting-000229"]+"=Y",a["ZoneSetting-000230"]+"=N"]:e.showdataval&&e.showdataval.split(","),d={disabled:r,placeholder:"search"===t&&l,onClick:o},p={input:u.default.createElement(b,(0,c.default)({onChange:function(){}},d)),residtxt:u.default.createElement(b,(0,c.default)({onChange:function(){}},d)),password:u.default.createElement(v,(0,c.default)({value:this.state.passwordValue,onChange:function(e){return n.setState({passwordValue:e.split("").fill("●").join("")})}},d)),label:u.default.createElement(v,(0,c.default)({isViewMode:!0},d)),number:"between"===e.queryOperateType?u.default.createElement(w,{start:{scale:Number(-1),max:e.max,min:e.min,placeholder:"起始"},end:{scale:Number(-1),max:e.max,min:e.min,placeholder:"结束"}}):u.default.createElement(E,(0,c.default)({max:e.max,min:e.min,suffix:e.suffix,scale:Number(-1),formNumber:!0},d)),textarea:u.default.createElement(T,(0,c.default)({style:{resize:"none"}},d)),radio:(m=u.default.createElement(y,{color:"info",disabled:i}),s&&s.length>0&&(m=s.map((function(e,t){var a=e.indexOf("=")>0?e.split("="):[];return u.default.createElement(y,{color:"info",disabled:i,value:a[1],key:t},a[0])}))),u.default.createElement(Z,{selectedValue:n.state.radioSelectedValue,onChange:function(e){return n.setState({radioSelectedValue:e})}},m)),checkbox_switch:u.default.createElement(k,{className:"single-checkbox",disabled:i,colors:"primary",type:"switch"}),checkbox:s?s&&s.map((function(e,t){var a=e.indexOf("=")>0?e.split("="):[];return u.default.createElement(k,{disabled:i,colors:"primary",key:t},a[0])})):u.default.createElement(k,{className:"single-checkbox",disabled:i,colors:"primary"}),NCTZDatePickerStart:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(A,d)),NCTZDatePickerRangeDay:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(_,(0,c.default)({format:e.format||"YYYY-MM-DD HH:mm:ss"},d))),NCTZDatePickClientHourTime:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(M,(0,c.default)({format:e.format||"YYYY-MM-DD HH:mm:ss"},d))),datetimepicker:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(D,d)),timepicker:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(I,(0,c.default)({format:"HH:mm:ss"},d))),NCTZDatePickerEnd:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(N,d)),datePickerNoTimeZone:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(L,d)),rangepicker:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(P,d)),select:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(C,(0,c.default)({multiple:!!e.isMultiSelectedEnabled,labelInValue:!0},d),s&&s.map((function(e,t){var a=e.indexOf("=")>0?e.split("="):[];return u.default.createElement(O,{title:a[0],value:a[1],key:t},a[0])})))),datepicker:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(x,d)),switch_browse:u.default.createElement(S,{disabled:i}),switch:u.default.createElement(S,{disabled:i}),refer:u.default.createElement(j,(0,c.default)({item:e},d)),attachment:u.default.createElement("i",{className:"iconfont icon-danchuang"})},f="search"===t&&["radio","checkbox_switch","checkbox","switch_browse","switch"].includes(e.itemtype)?"select":e.itemtype;var m;return p[f]};var d=a(1),u=m(d),p=m(a(26)),f=a(373);function m(e){return e&&e.__esModule?e:{default:e}}var g=p.default.base,h=p.default.high,b=g.NCInput,v=g.NCFormControl,y=g.NCRadio,k=g.NCCheckbox,C=g.NCSelect,S=g.NCSwitch,x=g.NCDatePicker,E=g.NCNumber,w=g.NCBetweenNum,T=g.NCTextArea,A=g.NCTZDatePickerStart,_=g.NCTZDatePickerRangeDay,M=g.NCTZDatePickClientHourTime,D=g.NCTZDatePickClientTime,I=g.NCTimepicker,N=g.NCTZDatePickerEnd,L=g.NCDatePickerNoTimeZone,P=g.NCRangePicker,Z=(h.Refer,y.NCRadioGroup),O=C.NCOption;var j=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.renderRefer=function(){var e=a.props,t=(e.item,(0,n.default)(e,["item"])),r=a.props.item.refcode;if(a.state["myRefDom"+r]){var l=a.state["myRefDom"+r];return u.default.createElement(l,(0,c.default)({foolValue:a.state.defaultvalueObj,onChange:function(e,t){a.setState({defaultvalueObj:t})},showHistory:!1},t))}f.createScript.call(a,""+r)},a.renderFakeRefer=function(){return u.default.createElement("div",{className:"refer-wrapper "+(a.props.disabled?"refer-wrapper-disabled":""),onMouseEnter:a.renderRefer},u.default.createElement("div",{className:"refer",style:{backgroundColor:"black"==window.nccColor?"unset":a.props.disabled?"#f3f3f3":"#fff"}},u.default.createElement("div",{className:"u-form-control-wrapper"},u.default.createElement("input",{type:"text",class:"nc-input refer-input u-form-control md",placeholder:a.props.placeholder,disabled:a.props.disabled})),u.default.createElement("i",{className:"icon-refer",style:{cursor:"pointer"}})))},a.state={defaultvalueObj:{}},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.item,t=void 0;return(t=e.visible?e.refcode?this.renderRefer():this.renderFakeRefer():this.state["myRefDom"+e.refcode]?this.renderRefer():this.renderFakeRefer())||(t=this.renderFakeRefer()),u.default.createElement("div",null,t)}}]),t}(d.PureComponent)},1153:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(156)),r=v(a(21)),l=v(a(5)),o=v(a(7)),i=v(a(4)),s=v(a(6));a(385);var c=a(1),d=v(c),u=a(37),p=v(a(26)),f=a(1154),m=v(a(1155)),g=v(a(1156)),h=a(19),b=a(968);function v(e){return e&&e.__esModule?e:{default:e}}p.default.base.NCDropdown;var y=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.renderMenu=function(){var e=a.props,t=e.metaTreeNodes,n=e.cardInfo,r=e.showCardCheckboxController,l=e.visible,o=e.json;return!1===l?d.default.createElement(c.Fragment,null):d.default.createElement("div",{className:a.props.className+" move-card-menu",onMouseEnter:a.showCardContentIcon,onMouseLeave:a.handleMouseLeave},(0,f.judgeAddCardMenuShow)(t,n.areaid)?d.default.createElement("ul",null,d.default.createElement("li",{onClick:a.addMetaItemFront},(0,h.langCheck)("ZoneSetting-000266","pages",o)),d.default.createElement("li",{onClick:a.addMetaItemBehind},(0,h.langCheck)("ZoneSetting-000267","pages",o))):d.default.createElement("ul",null,!0!==r[n.areaid]?d.default.createElement(m.default,{showCheckbox:a.showCheckbox,checkAllCard:a.checkAllCard,json:o}):d.default.createElement(g.default,{checkAllCard:a.multiSelectCheckAll,clearCheckedCard:a.clearCheckedCard,revertThisAction:a.revertThisAction,moveCardFront:a.moveCardFront,moveCardBehind:a.moveCardBehind,json:o})))},a.showCardContentIcon=function(e){a.props.handleIconShow(!0)},a.handleMouseLeave=function(e){a.props.handleIconShow(!1),setTimeout((function(e){var t=a.props.cardDom;t&&(0===t.querySelector(".move-card-selection").clientWidth&&a.props.toggleMenuVisible())}),100)},a.addMetaItemFront=function(e){var t=a.props,n=t.addMetaItem,r=t.metaTreeNodes,l=t.index,o=t.cardInfo,i=t.setMetaTreeNodes;e.stopPropagation(),(r[0]&&r[0].props.dataRef.targetAreaID)===o.areaid&&(n({selectedTreeNode:r,targetAreaID:o.areaid,dataRef:{},dropIndex:l}),i([]),a.props.toggleMenuVisible(),a.props.handleIconShow(!1))},a.addMetaItemBehind=function(e){var t=a.props,n=t.addMetaItem,r=t.metaTreeNodes,l=t.index,o=t.cardInfo,i=t.setMetaTreeNodes;e.stopPropagation(),(r[0]&&r[0].props.dataRef.targetAreaID)===o.areaid&&(n({selectedTreeNode:r,targetAreaID:o.areaid,dataRef:{},dropIndex:l+1}),i([]),a.props.toggleMenuVisible(),a.props.handleIconShow(!1))},a.multiSelectCheckAll=function(e){var t=a.props,n=t.checkAllCard,r=t.cardInfo;e.stopPropagation(),n(r)},a.showCheckbox=function(e){var t=a.props.cardInfo;e.stopPropagation(),a.props.setCardCheckboxState(t),a.props.handleIconShow(!1),a.props.toggleMenuVisible(),a.props.handleCheckCard(!0)},a.checkAllCard=function(e){e.stopPropagation();var t=a.props.cardInfo;a.props.setCardCheckboxState(t),a.props.checkAllCard(t),a.props.handleIconShow(!1),a.props.toggleMenuVisible()},a.clearCheckedCard=function(e){var t=a.props.cardInfo;e.stopPropagation(),a.props.toggleMenuVisible(),a.props.clearCheckedCard(t),a.props.handleIconShow(!1)},a.revertThisAction=function(e){var t=a.props.cardInfo;e.stopPropagation(),a.props.toggleMenuVisible(),a.props.revertThisAction(t),a.props.handleIconShow(!1)},a.moveCardFront=function(e){e.stopPropagation();var t=a.props.cardInfo;a.props.batchMoveCard(t,"front"),a.revertThisAction(e)},a.moveCardBehind=function(e){e.stopPropagation();var t=a.props.cardInfo;a.props.batchMoveCard(t,"behind"),a.revertThisAction(e)},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.toggleMenuVisible;return d.default.createElement(d.default.Fragment,null,d.default.createElement(n.default,{placement:"topCenter",overlay:this.renderMenu(),visible:t},d.default.createElement("span",{className:"move-card-selection",onClick:a},"...")))}}]),t}(c.Component);t.default=(0,u.connect)((function(e){return{metaTreeNodes:e.zoneSettingData.metaTreeNodes,selectedArea:e.zoneSettingData.selectedArea}}),{setMetaTreeNodes:b.setMetaTreeNodes})(y)},1154:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.judgeAddCardMenuShow=function(e,t){if(0===e.length)return!1;if(e[0].props.dataRef.targetAreaID===t)return!0}},1155:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return l.default.createElement(r.Fragment,null,l.default.createElement("li",{onClick:e.checkAllCard},(0,o.langCheck)("ZoneSetting-000268","pages",e.json)),l.default.createElement("li",{onClick:e.showCheckbox},(0,o.langCheck)("ZoneSetting-000269","pages",e.json)))};var n,r=a(1),l=(n=r)&&n.__esModule?n:{default:n},o=a(19)},1156:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return l.default.createElement(r.Fragment,null,l.default.createElement("li",{onClick:e.checkAllCard},(0,o.langCheck)("ZoneSetting-000270","pages",e.json)),l.default.createElement("li",{onClick:e.clearCheckedCard},(0,o.langCheck)("ZoneSetting-000271","pages",e.json)),l.default.createElement("li",{onClick:e.moveCardFront},(0,o.langCheck)("ZoneSetting-000272","pages",e.json)),l.default.createElement("li",{onClick:e.moveCardBehind},(0,o.langCheck)("ZoneSetting-000273","pages",e.json)),l.default.createElement("li",{onClick:e.revertThisAction},(0,o.langCheck)("ZoneSetting-000274","pages",e.json)))};var n,r=a(1),l=(n=r)&&n.__esModule?n:{default:n},o=a(19)},1157:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMetaTreeIndex=function(e,t){return e.findIndex((function(e){return e&&e.pk_area===t}))}},1158:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBlankCardWidth=function(e,t,a,n,r){if(e.blank){if("form"===a){if(0===t.length)return"100%";if("tableSide"===e.renderType){var l=3-t.length%3;return 3===l?"10px":33*l+"%"}var o=4-t.length%4;return 4===o?"10px":25*o+"%"}if("search"===a){if(0===t.length)return"83%";if(t.length<6){var i=5-t.length%5;return 5===i?"7%":16.6*i+"%"}var s=6-(t.length-5)%6;return 6===s?"10px":16.6*s+"%"}if("table"===a&&n&&!1===r){var c=n.parentElement;return c.className.includes("tile-view")&&(n.style.display="none"),setTimeout((function(){if(c.className.includes("tile-view")){var e=(c.childElementCount-1)%6;if(0===e)n.style.width="5px";else{var t=6-e;n.style.width=16.6*t+"%"}n.style.display="inline-block"}else c.scrollWidth===c.clientWidth&&(n.offsetWidth+n.offsetLeft<c.clientWidth?n.style.width=c.clientWidth-n.offsetLeft+"px":n.style.width="5px")})),"5px"}}}},1159:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.perceptionCheckboxShow=function(e){e.areaType;var t=e.cardInfo,a=e.showCardCheckboxController,n=t.areaid;return!!a[n]}},1160:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(372)),r=y(a(170)),l=y(a(230)),o=y(a(21)),i=y(a(5)),s=y(a(7)),c=y(a(4)),d=y(a(6)),u=a(1),p=y(u),f=a(37),m=y(a(364)),g=a(968),h=y(a(1161)),b=a(19),v=y(a(1163));function y(e){return e&&e.__esModule?e:{default:e}}var k=y(a(26)).default.base,C=(k.NCButton,k.NCTabs),S=k.NCLoading,x=C.NCTabPane,E=function(e){function t(e){(0,i.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel(!1),a.currentPage=1},a.onOkDialog=function(){var e=a.props,t=e.areaList,n=(e.areaIndex,a.state.activeKey),r=a.batchSource,l=a.relations;a.relations[n].queryPropertyList=r,t=_.cloneDeep(t),r=_.cloneDeep(r),l=_.cloneDeep(l),t.forEach((function(e){l[e.code].update&&(a.setCheckedByCheckAll(l[e.code].queryPropertyList),e.queryPropertyList=l[e.code].queryPropertyList)})),a.props.updateAreaList(t),a.showModalHidden()},a.saveNewSource=function(e,t,n){var r=a.batchSource,l=a.state.activeKey,o=e.concat(r.slice(e.length,r.length));a.relations[l].queryPropertyList=o,a.relations[l].update=!0,"formula"!==n&&(a.setState({newSource:e,reseek:"label"==t}),a.props.updateBatchSource(o))},a.saveAllNewSource=function(e,t,n){var r=a.batchSource,l=a.state.activeKey,o=_.cloneDeep(r);o.map((function(e){return e[t]=n})),a.setState({newSource:e}),a.relations[l].queryPropertyList=o,a.relations[l].update=!0,a.props.updateBatchSource(o)},a.loadNextPage=function(){var e=a.state.newSource,t=e.concat(a.batchSource.slice(e.length,e.length+a.pageSize));a.setCheckedByCheckAll(t),a.setState({isLoading:!0},(function(){setTimeout((function(){a.setState({newSource:t,isLoading:!1})}),0)}))},a.handleScrollTable=function(){var e=a.batchTableRef&&a.batchTableRef.querySelector(".ant-table-body");e&&e.scrollTop+e.clientHeight>=.8*e.scrollHeight&&a.currentPage<a.totalPage&&(a.currentPage++,a.loadNextPage())},a.setCheckedByCheckAll=function(e){var t=function(t,a,n){n||e.map((function(e){return e[t]=a}))},o=!0,i=!1,s=void 0;try{for(var c,d=(0,r.default)((0,n.default)(a.checkAllCheckedObj));!(o=(c=d.next()).done);o=!0){var u=c.value,p=(0,l.default)(u,2),f=p[0],m=p[1];t(f,m.checked,m.indeterminate)}}catch(e){i=!0,s=e}finally{try{!o&&d.return&&d.return()}finally{if(i)throw s}}},a.onClear=function(){a.setState({searchActives:{},clear:!1,reseek:!1})},a.onSelect=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=a.state.newSource,r=a.batchSource,l=n;t>n.length-1&&(l=n.concat(r.slice(n.length,t+1)),a.setCheckedByCheckAll(l)),a.setState({newSource:l,searchSelect:e,reseek:!1},(function(){var e=document.querySelector(".wbs-search-units-selected");e&&e.scrollIntoView()}))},a.onActive=function(e){a.setState({searchActives:e,reseek:!1})},a.onTabChange=function(e){if(a.state.activeKey!=e){var t=a.relations,n=a.props.areaList,r=t[e]?t[e]:n.filter((function(t){return t.code==e}))[0],l=(r.code,r.areatype),o=r.queryPropertyList;a.batchSource=o||[],a.currentPage=1;var i=a.batchTableRef&&a.batchTableRef.querySelector(".ant-table-body");i&&i.scroll({top:0,left:0}),a.setState({isLoading:!0},(function(){setTimeout((function(){a.setState({newSource:a.batchSource.slice(0,a.pageSize),activeKey:e,areatype:l,clear:!0,searchActives:{},searchSelect:{},reseek:!1,isLoading:!1})}),0)}))}},a.pageSize=30,a.currentPage=1,a.totalPage=Math.ceil(a.props.batchSource.length/a.pageSize),a.state={newSource:[],searchActives:{},searchSelect:{},reseek:!1,tabOptions:[],activeKey:"",isLoading:!1},a.batchSource=[],a.checkAllCheckedObj={},a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.newAreaList,a=e.areaList,n=e.areaIndex,r=e.batchSource,l=r.slice(0,this.pageSize),o=this.handleSourceData(t),i=o.tabOptions,s=o.relations;this.relations=s,this.batchSource=r||[],this.setState({newSource:l,tabOptions:i,activeKey:a[n].code||i[0]&&i[0].code,areatype:a[n].areatype||i[0]&&i[0].code})}},{key:"componentWillReceiveProps",value:function(e){if(!0===e.batchSettingModalVisibel){var t=e.batchSource;this.batchSource=t,this.setState({newSource:t.slice(0,this.state.newSource.length)})}}},{key:"componentWillUnmount",value:function(){this.relations=null,this.batchSource=null}},{key:"handleSourceData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.forEach((function(e){if(e){var r=e.areatype,l=e.code,o=e.name,i=e.groups,s=void 0===i?[]:i,c=e.sides,d=void 0===c?[]:c,u=e.grandsons,p=void 0===u?[]:u,f=e.tabs,m=void 0===f?[]:f,g=e.queryPropertyList,h=e.formTabs,b=void 0===h?[]:h,v=p.find((function(e){return e.tabs&&e.tabs.length})),y=b.find((function(e){return e.groups&&e.groups.length})),k=v?[]:p;a.push({code:l,name:o,areatype:r}),n[l]={code:l,name:o,areatype:r,queryPropertyList:g},[].concat(s,b,d,k).forEach((function(t){e&&(a.push({code:t.code,name:t.name,areatype:t.areatype}),n[t.code]={code:t.code,name:t.name,areatype:t.areatype,queryPropertyList:t.queryPropertyList})})),m.length&&t.handleSourceData(m,a,n),v&&t.handleSourceData(p,a,n),y&&t.handleSourceData(b,a,n)}})),{tabOptions:a,relations:n}}},{key:"render",value:function(){var e=this,t=this.props,a=t.json,n=t.batchSource,r=this.state,l=r.newSource,o=r.searchActives,i=void 0===o?{}:o,s=r.searchSelect,c=void 0===s?{}:s,d=r.reseek,u=r.tabOptions,f=void 0===u?[]:u,g=r.activeKey,y=r.areatype,k=r.clear,E=void 0!==k&&k,w=r.isLoading,T=void 0!==w&&w,A=this.batchSource||n||[];return p.default.createElement(m.default,{closable:!0,className:"zonesetting-batch-setting-modal",style:{margin:0},customTitle:p.default.createElement(v.default,{sourceData:[{code:g,data:A}],onClear:this.onClear,onSelect:this.onSelect,onActive:this.onActive,searchKey:["label"],reseek:d,clear:E,json:a}),onResizeStop:function(){e.forceUpdate()},title:(0,b.langCheck)("ZoneSetting-000016","pages",a),maskClosable:!1,visible:this.props.batchSettingModalVisibel,okText:(0,b.langCheck)("ZoneSetting-000005","pages",a),cancelText:(0,b.langCheck)("ZoneSetting-000006","pages",a),onOk:this.onOkDialog,onCancel:this.showModalHidden,destroyOnClose:!0,width:"98%",bodyHeight:document.body.clientHeight-110+"px",fieldid:"batchSetting"},p.default.createElement("div",{type:"ncdiv",fieldid:"batchSetting_table",ref:function(t){return e.batchTableRef=t},onScrollCapture:this.handleScrollTable,style:{height:"100%"}},p.default.createElement(C,{activeKey:g,className:"batch-setting-tabs",tabBarStyle:"simple",onChange:this.onTabChange,onPrevClick:function(e){},onNextClick:function(e){}},f.map((function(t){return p.default.createElement(x,{tab:t.name,key:t.code},t.code===g&&p.default.createElement(p.default.Fragment,null,p.default.createElement(h.default,{newSource:l,searchActives:i[g],searchSelect:c[g],areatype:y,saveNewSource:e.saveNewSource,saveAllNewSource:e.saveAllNewSource,forwardRef:function(t,a){return e.checkAllCheckedObj[t]=a}})))}))),p.default.createElement(S,{container:this,show:T})))}}]),t}(u.Component);t.default=(0,f.connect)((function(e){return{areaList:e.zoneSettingData.areaList,batchSource:e.zoneSettingData.batchSource,newAreaList:e.zoneSettingData.newAreaList}}),{updateAreaList:g.updateAreaList,updateBatchSource:g.updateBatchSource})(E)},1161:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=S(a(928)),r=S(a(2)),l=S(a(3)),o=S(a(21)),i=S(a(5)),s=S(a(7)),c=S(a(4)),d=S(a(6)),u=S(a(14)),p=S(a(109));a(929),a(130);var f=a(1),m=S(f),g=a(37),h=a(373),b=a(968),v=a(366),y=S(a(983)),k=S(a(89)),C=a(1162);function S(e){return e&&e.__esModule?e:{default:e}}var x=S(a(26)).default.base.NCCheckbox,E=(p.default.Search,function(e,t,a){return m.default.createElement("div",{fieldid:t,className:a},e)}),w=function(e){var t=e.fieldid,a=(0,u.default)(e,["fieldid"]);return m.default.createElement("th",a,E(a.children,t))},T=function(e){var t=e.fieldid,a=e.record,n=e.searchActives,r=void 0===n?{}:n,l=e.searchSelect,o=void 0===l?{}:l,i=(0,u.default)(e,["fieldid","record","searchActives","searchSelect"]),s=a.code,c=a[t],d=r[s]||{},p=d.name,f=(d.value,d.key),g="";f&&t==p&&c&&"-1"!=String(c).indexOf(f)&&(g+=r[s].activeCls,g+=o[s]?r[s].selectCls:"");var h=E(e.children,t,g);return void 0===e.children[2]&&(h=m.default.createElement("div",{fieldid:t,className:g},m.default.createElement("span",null," "))),m.default.createElement("td",i,h)},A=function(e){function t(e){(0,i.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleVisibleChange=function(e,t){!1!==e&&a.setState((0,l.default)({},"visible"+t,e))},a.hidePopover=function(e){a.setState((0,l.default)({},"visible"+e,!1))},a.onCellChange=function(e,t,n){return function(r){var l=a.props.newSource,o=(l=k.default.cloneDeep(l))[e];o&&(o[t]=r,a.props.saveNewSource(l,t,n))}},a.onCheckedChange=function(e,t){return function(n){var r=a.props.newSource,l=(r=k.default.cloneDeep(r))[e];l&&(l[t]=n,a.props.saveNewSource(r))}},a.onAllColCellChange=function(e){return function(t){a.saveAllCellValue(t,e)}},a.saveAllCellValue=function(e,t){var n=a.props.newSource;n=k.default.cloneDeep(n),k.default.forEach(n,(function(a){a[t]=e})),a.props.saveAllNewSource(n,t,e)},a.publicIndeterminate=function(e,t,n){(e=a.props.newSource.map((function(e){return e[n]}))).some((function(e){return!0===e}))&&!e.every((function(e){return!0===e}))?k.default.forEach(t,(function(e,t){e.property==n&&(e.indeterminate=!0,e.checkAll=!1)})):e.includes(!0)?k.default.forEach(t,(function(e,t){e.property==n&&(e.indeterminate=!1,e.checkAll=!0)})):k.default.forEach(t,(function(e,t){e.property==n&&(e.indeterminate=!1,e.checkAll=!1)})),e=[]},a.columns=[],a.state={visible:!1},a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.newSource,l=t.areatype,o=t.searchActives,i=void 0===o?{}:o,s=t.searchSelect,c=void 0===s?{}:s;k.default.forEach(a,(function(e,t){e.key=[e.areaid,e.code].join("_")}));var d=[],u=0,p=[];if("0"===l){var f=[],g=[],b=[],S=[],E=[],A=[],_=[],M=[],D=[],I=[],N=[],L=[];p=(0,h.batchSearchData)(),k.default.forEach(a,(function(e,t){f.push(e.isnotmeta),g.push(e.isuse),b.push(e.disabled),S.push(e.visible),E.push(e.ismultiselectedenabled),A.push(e.isfixedcondition),_.push(e.required),M.push(e.isquerycondition),D.push(e.containlower),I.push(e.ischeck),N.push(e.isbeyondorg),L.push(e.usefunc)})),this.publicIndeterminate(f,p,"isnotmeta"),this.publicIndeterminate(g,p,"isuse"),this.publicIndeterminate(b,p,"disabled"),this.publicIndeterminate(S,p,"visible"),this.publicIndeterminate(E,p,"ismultiselectedenabled"),this.publicIndeterminate(A,p,"isfixedcondition"),this.publicIndeterminate(_,p,"required"),this.publicIndeterminate(M,p,"isquerycondition"),this.publicIndeterminate(D,p,"containlower"),this.publicIndeterminate(I,p,"ischeck"),this.publicIndeterminate(N,p,"isbeyondorg"),this.publicIndeterminate(L,p,"usefunc")}else if("1"===l){var P=[],Z=[],O=[],j=[],V=[];p=(0,h.batchFormData)(),k.default.forEach(a,(function(e,t){P.push(e.isrevise),Z.push(e.isnextrow),O.push(e.visible),j.push(e.required),V.push(e.disabled)})),this.publicIndeterminate(P,p,"isrevise"),this.publicIndeterminate(Z,p,"isnextrow"),this.publicIndeterminate(O,p,"visible"),this.publicIndeterminate(j,p,"required"),this.publicIndeterminate(V,p,"disabled")}else{var F=[],q=[],z=[],B=[],R=[];p=(0,h.batchTableData)(),k.default.forEach(a,(function(e,t){F.push(e.isrevise),q.push(e.istotal),z.push(e.visible),B.push(e.required),R.push(e.disabled)})),this.publicIndeterminate(F,p,"isrevise"),this.publicIndeterminate(q,p,"istotal"),this.publicIndeterminate(z,p,"visible"),this.publicIndeterminate(B,p,"required"),this.publicIndeterminate(R,p,"disabled")}k.default.forEach(p,(function(t,n){var r={dataIndex:t.property,width:t.width};switch("label"===r.dataIndex&&(r.fixed="left"),"code"===r.dataIndex&&(r.fixed="left"),u+=t.width,"checkbox"===t.type?r.title=m.default.createElement(x,{onChange:function(a){e.saveAllCellValue(a,t.property)},indeterminate:t.indeterminate,checked:t.checkAll,ref:function(a){return e.props.forwardRef(t.property,{checked:t.checkAll,indeterminate:t.indeterminate})}},t.title):r.title=t.title,t.type){case"input":r.render=function(a,n,r){return t.property,m.default.createElement(C.EditableCell,{value:a,property:t.property,updateValue:e.onCellChange(r,t.property)})};break;case"checkbox":r.render=function(a,n,r){return m.default.createElement(C.EditableCheck,{value:a,property:t.property,onChange:e.onCellChange(r,t.property)})};break;case"select":r.render=function(a,n,r){return m.default.createElement(C.SelectCell,{selectValue:a,property:t.property,selectObj:t.selectObj,onChange:e.onCellChange(r,t.property)})};break;case"text":r.title=t.title;break;case"formula":r.render=function(n,r,l){return m.default.createElement(C.FormulaCell,{value:n,property:t.property,onFormula:function(){e.props.formula[t.property].visible||(v.handleFormula.call(e,a[l]),e.props.toggleFormula(t.property,{visible:!0,value:n})),e.props.setCurrentBatchCell({index:l,code:t.property})},updateValue:e.onCellChange(l,t.property,"formula")})}}d.push(r)}));var H=d.map((function(e){var t=e.dataIndex||e.key;return(0,r.default)({},e,{onCell:function(e){return{fieldid:t,record:e,searchActives:i,searchSelect:c}},onHeaderCell:function(e){return{fieldid:t}}})}));return m.default.createElement(n.default,{className:"batch-setting-table",bordered:!0,dataSource:a,columns:H,components:{header:{cell:w},body:{cell:T}},pagination:!1,scroll:{x:u,y:document.body.clientHeight-110-80+"px"},locale:{emptyText:m.default.createElement(y.default,{type:"treeCardTable"})}})}}]),t}(f.Component);t.default=(0,g.connect)((function(e){return{formula:e.zoneSettingData.formula,areaList:e.zoneSettingData.areaList}}),{toggleFormula:b.toggleFormula,setFormulaInfo:b.setFormulaInfo,setCurrentBatchCell:b.setCurrentBatchCell})(A)},1162:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormulaCell=t.SelectCell=t.EditableCheck=t.EditAllCell=t.EditableCell=void 0;var n=g(a(38)),r=g(a(21)),l=g(a(5)),o=g(a(7)),i=g(a(4)),s=g(a(6)),c=g(a(109));a(115),a(130);var d=a(1),u=g(d),p=g(a(89)),f=a(19),m=a(365);function g(e){return e&&e.__esModule?e:{default:e}}var h=g(a(26)).default.base,b=h.NCCheckbox,v=h.NCSelect,y=v.NCOption,k=c.default.Search;t.EditableCell=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.handleChange=function(e){var t=e.target.value;a.props.updateValue(t)},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.value!==e.value}},{key:"render",value:function(){var e=this,t=this.props,a=t.value;t.property;return u.default.createElement(c.default,{size:"small",style:{width:100},value:a,onChange:this.handleChange,ref:function(t){return e.input=t}})}}]),t}(u.default.Component),t.EditAllCell=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.handleClick=function(e){a.props.onChange(a.state.inputValue),a.props.hidePopover()},a.close=function(){a.props.hidePopover()},a.changeValue=function(e){a.setState({inputValue:e.target.value})},a.state={inputValue:"",json:{}},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,m.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this.state.json;return u.default.createElement("div",{className:"custom-filter-dropdown"},u.default.createElement(c.default,{value:this.state.inputValue,size:"small",ref:"customInput",onChange:this.changeValue}),u.default.createElement(n.default,{type:"primary",onClick:this.handleClick},(0,f.langCheck)("ZoneSetting-000005","pages",e)),u.default.createElement(n.default,{onClick:this.close},(0,f.langCheck)("ZoneSetting-000006","pages",e)))}}]),t}(u.default.Component),t.EditableCheck=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.handleChange=function(e){a.props.onChange(e)},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.value!==e.value}},{key:"render",value:function(){var e=this.props.value;return u.default.createElement(b,{checked:Boolean(e),onChange:this.handleChange})}}]),t}(u.default.Component),t.SelectCell=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.handleSelectChange=function(e){a.props.onChange(e)},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.selectValue!==e.selectValue}},{key:"render",value:function(){var e=this,t=this.props,a=t.selectValue,n=t.selectObj,r=t.property;return u.default.createElement(v,{showClear:!1,value:p.default.isEmpty(a)?n[0].value:a,onChange:function(t){e.handleSelectChange(t)},size:"small",fieldid:r},"color"===r?n.map((function(e,t){return u.default.createElement(y,{key:t,value:e.value},u.default.createElement("span",{className:"template-setting-color-select"},u.default.createElement("span",null,e.name),u.default.createElement("span",{className:"color-select-color",style:{backgroundColor:e.value}})))})):n.map((function(e,t){return u.default.createElement(y,{key:t,value:e.value},e.name)})))}}]),t}(d.Component),t.FormulaCell=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.handleChange=function(e){var t=e.target.value;a.props.updateValue(t)},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.value!==e.value&&(this.props.updateValue(e.value),!0)}},{key:"render",value:function(){var e=this.props,t=e.value,a=e.onFormula;return u.default.createElement(k,{size:"small",style:{width:100},value:t,onChange:function(){},onSearch:a})}}]),t}(u.default.Component)},1163:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(2)),r=m(a(3)),l=m(a(21)),o=m(a(5)),i=m(a(7)),s=m(a(4)),c=m(a(6)),d=a(1),u=m(d),p=(a(37),a(1030),a(19)),f=(a(968),m(a(26)));function m(e){return e&&e.__esModule?e:{default:e}}a(1077),a(1164);var g=f.default.base,h=g.NCSelect,b=g.NCFormControl,v=h.NCOption,y=function(e){return String(e).toLocaleLowerCase()},k=function(e,t){var a=String(e).match(new RegExp(""+t,"ig"));return a?a[0]:""},C=function(e){function t(e){(0,o.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.select=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=a.props.onSelect,n=a.state.highlights,r=n[e-1];t&&t(r,r?r.index:0)},a.active=function(){var e=a.props.onActive,t=a.state.highlights;e&&e(a.handleHighlights(t))},a.search=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],l=a.sourceData;(a.props.searchKey||[])[0];e&&l.forEach((function(t){var a=t.code;t.data.forEach((function(t,l){var o,i=t.label,s=void 0===i?"":i,c=t.code;"-1"!=y(s).indexOf(y(e))&&n.push((o={},(0,r.default)(o,a,(0,r.default)({},c,{code:c,activeCls:" wbs-search-units-active ",selectCls:" wbs-search-units-selected ",key:k(s,e),name:"label",value:s,index:l})),(0,r.default)(o,"code",a),(0,r.default)(o,"index",l),o))}))})),console.log("wbs search res",n,a.handleHighlights(n)),a.setState({highlights:n,current:t,total:n.length,key:e},(function(){a.clearAllHightLight(),a.active(),a.select(t)}))},a.handleChange=function(e){a.search(e),a.setState({key:e})},a.clear=function(){a.clearAllHightLight(),a.setState({key:"",current:1,total:0})},a.prev=function(){var e=a.state,t=e.highlights,n=e.current,r=e.total,l=void 0===r?-1:r;l<=0||!t.length||a.lock||(n=1===n?l:n-1,a.select(n),a.setState({current:n}))},a.next=function(){var e=a.state,t=e.highlights,n=e.current,r=e.total,l=void 0===r?-1:r;l<=0||!t.length||a.lock||(n=n===l?1:n+1,a.select(n),a.setState({current:n}))},a.onSearchInputKeyDown=(0,p.debounce)((function(e){13===e&&a.next()}),20),a.onSearchInputChange=function(e){a.setState({key:e}),a.handleSearchKey(e)},a.handleSearchKey=(0,p.debounce)((function(e){a.search(e)}),200),a.sourceData=e.sourceData||[],a.state={select:"All",key:"",current:1,total:0,selectOptions:e.selectOptions||[]},a.lock=!1,a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.handleSourceData(),t=e.selectOptions,a=void 0===t?[]:t,n=e.relations;this.relations=n,this.setState({selectOptions:a})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.sourceData;this.sourceData=a;var n=this.handleSourceData(),r=n.selectOptions,l=void 0===r?[]:r,o=n.relations;this.relations=o,this.setState({selectOptions:l},(function(){e.reseek&&t.search(t.state.key,t.state.current),e.clear&&t.clear()}))}},{key:"componentWillUnmount",value:function(){this.sourceData=[]}},{key:"handleSourceData",value:function(){this.sourceData;return{relations:{},selectOptions:[]}}},{key:"handleHighlights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return e.forEach((function(e){var a=e.code;t[a]=(0,n.default)({},t[a]||{},e[a]||{})})),t}},{key:"clearAllHightLight",value:function(){var e=this.props.onClear;this.state.highlights;e&&e()}},{key:"render",value:function(){var e=this,t=this.state,a=t.current,n=t.total,r=t.selectOptions,l=t.key,o=t.select,i=t.showSelect,s=void 0!==i&&i;return u.default.createElement("div",{className:"search-box with-batch-setting dnd-cancel"},s&&u.default.createElement(h,{className:"st-select",value:o,showClear:!1,fieldid:"searchProperty",onSelect:function(t){e.setState({select:t},(function(){e.search(l)}))}},u.default.createElement(v,{value:"All"},(0,p.langCheck)("ZoneSetting-000282","pages",this.props.json)||"全部"),r.map((function(e){return u.default.createElement(v,{value:e.code},u.default.createElement("span",{title:e.name},e.name))}))),u.default.createElement(b,{className:"st-input",placeholder:(0,p.langCheck)("ZoneSetting-000281","pages",this.props.json)||"搜索字段名称",onChange:this.onSearchInputChange,value:l,fieldid:"searchCon",onKeyDown:function(t){e.onSearchInputKeyDown(t.keyCode),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()}}),u.default.createElement("i",{className:"icon iconfont icon-sousuo st-icon-sousuo"}),l&&u.default.createElement("div",{className:"st-count"},(n?a:0)+"/"+n),l&&u.default.createElement("div",{className:"st-icon"},u.default.createElement("i",{className:"icon iconfont icon-qingkong st-icon-close",onClick:this.clear}),u.default.createElement("i",{className:"icon iconfont icon-jiantoushang1 st-icon-up",onClick:this.prev}),u.default.createElement("i",{className:"icon iconfont icon-jiantouxia1 st-icon-down",onClick:this.next})))}}]),t}(d.Component);t.default=C},1164:function(e,t,a){var n=a(1165);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},1165:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".search-box.with-batch-setting{display:inline-block;position:relative;margin-left:16px;max-width:500px;font-weight:500}.wbs-search-units-active input{background:#fff085}.wbs-search-units-selected input{background:#ffc8a6}.u-modal-open .nc-modal.u-modal .u-modal-dialog .u-modal-content .u-modal-header .u-modal-title .search-box.with-batch-setting .iconfont{display:inline-block;width:14px;margin-right:0;position:absolute;top:6px;right:auto;font-size:14px;color:rgba(0,0,0,.65)}.u-modal-open .nc-modal.u-modal .u-modal-dialog .u-modal-content .u-modal-header .u-modal-title .search-box.with-batch-setting .st-icon-sousuo{left:4px;right:auto;height:26px;line-height:26px;top:8px}.u-modal-open .nc-modal.u-modal .u-modal-dialog .u-modal-content .u-modal-header .u-modal-title .search-box.with-batch-setting .st-count,.u-modal-open .nc-modal.u-modal .u-modal-dialog .u-modal-content .u-modal-header .u-modal-title .search-box.with-batch-setting .st-icon{top:8px}.u-modal-open .nc-modal.u-modal .u-modal-dialog .u-modal-content .u-modal-header .u-modal-title .search-box.with-batch-setting .st-icon .st-icon-close{position:static;top:0;font-size:17px;display:inline-block;height:26px;line-height:26px;width:33px;text-align:center;vertical-align:middle}.u-modal-open .nc-modal.u-modal .u-modal-dialog .u-modal-content .u-modal-header .u-modal-title .search-box.with-batch-setting .st-icon .st-icon-down,.u-modal-open .nc-modal.u-modal .u-modal-dialog .u-modal-content .u-modal-header .u-modal-title .search-box.with-batch-setting .st-icon .st-icon-up{position:static;top:0;border-left:1px solid #d0d0d0;width:30px;display:inline-block;height:25px;line-height:26px;border-right:none;text-align:center;vertical-align:middle}.search-box.with-batch-setting .u-form-control-wrapper,.search-box.with-batch-setting .u-form-control-wrapper .u-form-control.nc-input{border-radius:3px!important}",""])},1166:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(109)),r=v(a(21)),l=v(a(5)),o=v(a(7)),i=v(a(4)),s=v(a(6));a(130);var c=a(1),d=v(c),u=v(a(89)),p=a(37),f=v(a(364)),m=a(968),g=a(373),h=a(19),b=a(366);function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setAddDataModalVisibel(!1),a.setState({notMetaDataName:"",notMetaDataCode:"",explainForName:"",explainForCode:""})},a.onOkDialog=function(){var e=!0,t=a.state,n=t.notMetaDataName,r=t.notMetaDataCode,l=a.props,o=l.json,i=l.propperty;if(a.checkDataCorrect(n).correct&&a.checkDataCorrect(r,"code").correct&&(e=!1),e)return""==n&&a.setState({explainForName:(0,h.langCheck)("ZoneSetting-000000","pages",o)}),void(""==r&&a.setState({explainForCode:(0,h.langCheck)("ZoneSetting-000000","pages",o)}));var s=a.props,c=s.areaList,d=s.areaIndex,u=c[d].queryPropertyList,p={},f=(0,g.getItemtypeByDatatype)(i.datatype);"0"===a.props.areatype?p={pk_query_property:"newNotMetaData"+(new Date).getTime(),areaid:c[d].pk_area,label:a.state.notMetaDataName,code:a.state.notMetaDataCode,metapath:null,isnotmeta:!0,isuse:!0,position:""+(u.length+1),opersign:"=@>@>=@<@<=@like@",opersignname:(0,h.langCheck)("ZoneSetting-000001","pages",o),defaultvalue:"",isfixedcondition:!1,required:!1,disabled:!1,visible:!0,ismultiselectedenabled:!1,isquerycondition:!1,datatype:i.datatype||"1",refname:"-99",containlower:!1,ischeck:!1,isbeyondorg:!1,usefunc:!1,showtype:"1",returntype:"refpk",define1:"",define2:"",define3:"",define4:"",define5:"",itemtype:f||"input",visibleposition:"",tablecode:"",querytablename:""}:"300"===(p={pk_query_property:"newNotMetaData"+(new Date).getTime(),areaid:c[d].pk_area,code:a.state.notMetaDataCode,datatype:i.datatype||"1",label:a.state.notMetaDataName,position:""+(u.length+1),metapath:null,color:(0,g.colorObj)()&&(0,g.colorObj)()[0].value,isrevise:!1,required:!1,disabled:!1,visible:!0,maxlength:"20",defaultvalue:"",hyperlinkflag:!1,defaultvar:"",define1:"",define2:"",define3:"",itemtype:f||"input"}).datatype&&(p.issupportphoto=!1,p.uploadquantity="",p.watermarktype=0,p.watermarktext="",p.watermarkfont="",p.position="",p.watermarkalpha=0,p.isshowtime=!1,p.isshowplace=!1),"1"===a.props.areatype&&(p.colnum="1",p.isnextrow=!1),"2"===a.props.areatype&&(p.width="",p.istotal=!1),""!==i.dropIndex?c[d].queryPropertyList.splice(i.dropIndex,0,p):c[d].queryPropertyList=u.concat(p),a.setState({notMetaDataName:"",notMetaDataCode:"",explainForName:"",explainForCode:""}),a.props.updateAreaList(c),b.selectCardFromOther.call(a,p),a.showModalHidden()},a.isUniqueInQueryList=function(e){var t=a.props,n=t.areaList[t.areaIndex].queryPropertyList,r=!0;return u.default.forEach(n,(function(t){if(t.code===e)return r=!1,!1})),r},a.checkDataCorrect=function(e,t){var n=!0,r="",l=a.props.json;if("code"===t)if(""===e)r=(0,h.langCheck)("ZoneSetting-000000","pages",l),n=!1;else{/[\u4e00-\u9fa5]/.test(e)&&(r=(0,h.langCheck)("ZoneSetting-000002","pages",l),n=!1),a.isUniqueInQueryList(e)||(r=(0,h.langCheck)("ZoneSetting-000003","pages",l),n=!1)}else""===e&&(r=(0,h.langCheck)("ZoneSetting-000000","pages",l),n=!1);return{correct:n,errorMsg:r}},a.checkNameAndCodeCorrect=function(){var e=!1,t=a.state,n=t.notMetaDataName,r=t.notMetaDataCode;return a.checkDataCorrect(n).correct&&a.checkDataCorrect(r,"code").correct&&(e=!0),e},a.onPressEnter=function(){a.checkNameAndCodeCorrect()&&a.onOkDialog()},a.changeNotMetaDataName=function(e){a.setState({notMetaDataName:e.target.value});var t=a.checkDataCorrect(e.target.value),n=(t.correct,t.errorMsg);a.setState({explainForName:n})},a.changeNotMetaDataCode=function(e){a.setState({notMetaDataCode:e.target.value});var t=a.checkDataCorrect(e.target.value,"code"),n=(t.correct,t.errorMsg);a.setState({explainForCode:n})},a.componentWillUpdate=function(e,t){!a.props.addDataModalVisibel&&e.addDataModalVisibel&&setTimeout((function(){a.refs.addNotMetaDataInputDom.focus()}),0)},a.state={notMetaDataName:"",notMetaDataCode:"",explainForName:"",explainForCode:""},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"genDefaultShowFormula",value:function(){var e=this.props,t=e.zoneFormData,a=e.areaList[e.areaIndex],n=a.code,r=(a.metaid,a.areaDataPrimaryFieldName),l=t.code;return"accessorymath("+t.appcode+t.pagecode+"/"+l+n+"/"+r+")"}},{key:"render",value:function(){var e=this.props.json;return d.default.createElement(f.default,{maskClosable:!1,customHeader:(0,h.langCheck)("ZoneSetting-000004","pages",e),wrapClassName:"add-not-meta-data",visible:this.props.addDataModalVisibel,okText:(0,h.langCheck)("ZoneSetting-000005","pages",e),cancelText:(0,h.langCheck)("ZoneSetting-000006","pages",e),onOk:this.onOkDialog,onCancel:this.showModalHidden,fieldid:"addNotMeta"},d.default.createElement("div",null,d.default.createElement("div",{className:"code-div",ref:"addNotMetaCodeDiv",style:""===this.state.explainForCode?{marginBottom:"19.09px"}:{}},d.default.createElement("span",null,(0,h.langCheck)("ZoneSetting-000007","pages",e)),d.default.createElement(n.default,{className:""===this.state.explainForCode?"":"has-error",ref:"addNotMetaDataInputDom",placeholder:(0,h.langCheck)("ZoneSetting-000008","pages",e),value:this.state.notMetaDataCode,onChange:this.changeNotMetaDataCode,onPressEnter:this.onPressEnter,fieldid:"notMetaCode"}),d.default.createElement("br",null),d.default.createElement("div",{style:{marginLeft:"26%",visibility:""===this.state.explainForCode?"hidden":"visible"},className:"form-explain"},this.state.explainForCode)),d.default.createElement("div",{ref:"addNotMetaNameDiv",className:"not-code",style:""===this.state.explainForName?{marginBottom:"19.09px"}:{}},d.default.createElement("span",null,(0,h.langCheck)("ZoneSetting-000009","pages",e)),d.default.createElement(n.default,{className:""===this.state.explainForName?"":"has-error",placeholder:(0,h.langCheck)("ZoneSetting-000010","pages",e),value:this.state.notMetaDataName,onChange:this.changeNotMetaDataName,onPressEnter:this.onPressEnter,fieldid:"notMetaName"}),d.default.createElement("br",null),d.default.createElement("div",{style:{marginLeft:"26%",visibility:""===this.state.explainForName?"hidden":"visible"},className:"form-explain"},this.state.explainForName))))}}]),t}(c.Component);t.default=(0,p.connect)((function(e){return{areaList:e.zoneSettingData.areaList}}),{updateAreaList:m.updateAreaList,updateSelectCard:m.updateSelectCard,updateSelectArea:m.updateSelectArea})(y)},1167:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=g(a(17)),l=g(a(21)),o=g(a(5)),i=g(a(7)),s=g(a(4)),c=g(a(6)),d=a(1),u=g(d),p=a(920),f=a(37),m=a(1031);function g(e){return e&&e.__esModule?e:{default:e}}var h=(0,p.DropTarget)("area",{drop:function(e,t,a){"card"===t.getItem().type&&e.onDrop(t)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=function(e){function t(e){(0,o.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.state={},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.group,a=e.isActive,n=e.contentVisible,l=e.renderCard,o=e.onClick,i=e.renderHeader,s=e.emptyText,c=e.connectDropTarget,d=e.areaHide,p=t.queryPropertyList,f=[].concat((0,r.default)(p),[{blank:!0,pk_form_property:"blank",areaid:t.pk_area}]),g=(0,m.processClass)(t.code)||"unknow";return!d[t.pk_area]&&c(u.default.createElement("div",{type:"ncdiv",fieldid:t.code+"_group",className:"form-area-group "+(a?"active":"")+"  search-area-"+(String(t.code).replace(/\.|\&|\#/g,"")||"unknow")+" drag-mask-"+g,onClick:o},i,u.default.createElement("div",{className:"form-area-content",style:{display:n?"block":"none"}},f.length>0?f.map(l):u.default.createElement("div",{className:"empty-area"},u.default.createElement("i",{className:"iconfont icon-zhuyi1"}),s))))}}]),t}(d.Component))||n;t.default=(0,f.connect)((function(e){return{areaHide:e.zoneSettingData.areaHide}}))(h)},1168:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=m(a(17)),l=m(a(21)),o=m(a(5)),i=m(a(7)),s=m(a(4)),c=m(a(6)),d=a(1),u=m(d),p=a(920),f=a(37);function m(e){return e&&e.__esModule?e:{default:e}}var g=(0,p.DropTarget)("area",{drop:function(e,t,a){"card"===t.getItem().type&&e.onDrop(t)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=function(e){function t(e){(0,o.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.state={},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.fold,a=e.isActive,n=e.renderCard,l=e.visible,o=e.onClick,i=e.renderHeader,s=e.connectDropTarget,c=e.areaHide,d=[].concat((0,r.default)(t.queryPropertyList),[{blank:!0,areaid:t.pk_area,code:"blank"}]);return!c[t.pk_area]&&s(u.default.createElement("div",{className:"form-area-group "+(a?"active":""),style:{display:l?"block":"none"},onClick:o},i,u.default.createElement("div",{className:"form-area-content",fieldid:"content"},d.map(n))))}}]),t}(d.Component))||n;t.default=(0,f.connect)((function(e){return{areaHide:e.zoneSettingData.areaHide}}))(g)},1169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=v(a(402)),l=v(a(17)),o=v(a(21)),i=v(a(5)),s=v(a(7)),c=v(a(4)),d=v(a(6));a(397);var u=a(1),p=v(u),f=a(920),m=v(a(26)),g=a(37),h=a(1031),b=a(366);function v(e){return e&&e.__esModule?e:{default:e}}var y=m.default.base.NCDiv,k=(0,f.DropTarget)("area",{drop:function(e,t,a){"card"===t.getItem().type&&e.onDrop(t)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=function(e){function t(e){(0,i.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.state={},a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.areaClassName,a=e.side,n=e.children,o=e.isActive,i=e.renderCard,s=e.visible,c=e.renderHeader,d=e.onClick,u=e.connectDropTarget,f=a.queryPropertyList,m=[].concat((0,l.default)(f),[{blank:!0,areaid:a.pk_area,code:"blank",renderType:"tableSide"}]),g=(0,h.processClass)(a.code)||"unknow";return p.default.createElement(r.default,{getContainer:document.getElementsByClassName("template-setting-content")[0],closable:!1,placement:"right",maskClosable:!1,width:725,visible:s,mask:!0,zIndex:180,destroyOnClose:!0,style:{padding:0,height:"100%"},maskStyle:{left:this.props.leftSiderShow?b.LEFT_SIDER_WIDTH+16:16}},p.default.createElement("div",{className:"drawer-content"},p.default.createElement("div",{className:t+" side-area search-area-"+(String(a.code).replace(/\.|\&|\#/g,"")||"unknow"),style:{position:"static"},onClick:d},p.default.createElement(y,{className:"table-side-area",fieldid:"table-side",areaCode:y.config.Area},c,u(p.default.createElement("div",{className:"area-item-content drag-mask-"+g,fieldid:"content"},p.default.createElement("div",{className:"form-area-group "+(o?"active":"")},p.default.createElement("div",{className:"form-area-content"},m.map(i))))))),n&&n()))}}]),t}(u.Component))||n;t.default=(0,g.connect)((function(e){return{leftSiderShow:e.zoneSettingData.leftSiderShow}}),{})(k)},1170:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=h(a(21)),l=h(a(5)),o=h(a(7)),i=h(a(4)),s=h(a(6)),c=a(1),d=h(c),u=a(37),p=a(920),f=a(968),m=a(366),g=h(a(1078));function h(e){return e&&e.__esModule?e:{default:e}}var b={beginDrag:function(e){return e.isImplement||(e.updateSelectArea(e.grandson),(0,m.removeSelectCardCls)()),{id:e.grandson.pk_area,index:e.grandsonIndex,type:"area",areaType:"grandson"}}},v=(0,p.DragSource)("area",b,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(n=(0,p.DropTarget)("area",{drop:function(e,t,a){var n=t.getItem();if("card"===n.type)e.onDrop(t);else if("left"!==n.from){var r=n.index,l=e.grandsonIndex;if(r===l||e.isImplement)return;e.onDragArea(r,l),t.getItem().index=l}}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=function(e){function t(){return(0,l.default)(this,t),(0,i.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.pubsub=(0,m.subscribeSetActiveKey)(this.props.grandson,this.props.onTabChange)}},{key:"componentWillUnmount",value:function(){PubSub.unsubscribe(this.pubsub)}},{key:"render",value:function(){var e=this.props,t=e.areaClassName,a=e.grandson,n=(e.isActive,e.isTile),r=e.renderCard,l=e.contentVisible,o=e.renderHeader,i=e.onClick,s=e.connectDragSource,c=e.connectDropTarget;return!e.areaHide[a.pk_area]&&s(c(d.default.createElement("div",{type:"ncdiv",fieldid:a.code+"_area",className:t+" search-area-"+(String(a.code).replace(/\.|\&|\#/g,"")||"unknow"),onClick:i},d.default.createElement(g.default,{isShow:l,isTile:n,areaItem:a,renderHeader:o,renderCard:r,activeTabKey:this.props.activeTabKey,onAreaClick:this.props.onAreaClick,onTabChange:this.props.onTabChange,onTabPaneDrop:this.props.onTabPaneDrop}))))}}]),t}(c.Component))||n)||n;t.default=(0,u.connect)((function(e){return{isImplement:e.zoneSettingData.isImplement,areaHide:e.zoneSettingData.areaHide}}),{updateSelectArea:f.updateSelectArea})(v)},1171:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),r=f(a(21)),l=f(a(5)),o=f(a(7)),i=f(a(4)),s=f(a(6));t.default=function(e){return function(t){return function(a){function u(){var t,a,n,o;(0,l.default)(this,u);for(var s=arguments.length,f=Array(s),m=0;m<s;m++)f[m]=arguments[m];return a=n=(0,i.default)(this,(t=u.__proto__||(0,r.default)(u)).call.apply(t,[this].concat(f))),n.state={showTabsMoreBtn:!1},n.getAllTabs=function(){var t=n.props.areaItem,a=t[[p.TAB_FLAG[e]]];return a?[t].concat(a):[t]},n.getMoreMenu=function(){var e=n.getAllTabs();return c.default.createElement(h,{className:"mutitabs-menu",onSelect:function(t){var a=t.key,r=e.find((function(e){return e.code===a}))||{};(0,p.setActiveTabKey)({activeKey:a,areaCode:n.props.areaItem.code}),n.props.updateSelectArea(r)}},e.map((function(e){return c.default.createElement(b,{key:e.code},e.name)})))},n.checkShowTabsMoreBtn=function(){setTimeout((function(){var e=(0,d.findDOMNode)(n.component),t=!(!e||!e.querySelector(".u-tabs-tab-next"));n.setState({showTabsMoreBtn:t})}),0)},n.renderTabsExtraArea=function(){var e=n.state.showTabsMoreBtn?{}:{display:"none"};return c.default.createElement(g,{trigger:["click"],overlay:n.getMoreMenu(),animation:"slide-up",placement:"topLeft",overlayClassName:"multabs-menu-list"},c.default.createElement("div",{className:"tab-opr-more",style:e},c.default.createElement("i",{className:"iconfont icon-gengduomoban"})))},o=a,(0,i.default)(n,o)}return(0,s.default)(u,a),(0,o.default)(u,[{key:"componentDidMount",value:function(){this.checkShowTabsMoreBtn()}},{key:"componentWillReceiveProps",value:function(e){this.checkShowTabsMoreBtn()}},{key:"render",value:function(){var e=this,a=(0,n.default)({tabsExtraArea:this.renderTabsExtraArea()},this.props);return c.default.createElement(t,(0,n.default)({ref:function(t){return e.component=t}},a))}}]),u}(c.default.Component)}};var c=f(a(1)),d=a(9),u=f(a(26)),p=a(366);function f(e){return e&&e.__esModule?e:{default:e}}var m=u.default.base,g=m.NCDropdown,h=m.NCMenu,b=h.Item},1172:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,l=y(a(2)),o=y(a(21)),i=y(a(5)),s=y(a(7)),c=y(a(4)),d=y(a(6)),u=a(1),p=y(u),f=y(a(364)),m=a(37),g=a(366),h=a(968),b=a(19),v=y(a(26));function y(e){return e&&e.__esModule?e:{default:e}}a(1173);v.default.ajax;var k=v.default.base,C=v.default.high.Transfer,S=k.NCCheckbox,x=(n=function(e){function t(e){(0,i.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));r.call(a);var n=e.areaIndex,l=e.areaList;return a.state={dataSource:a.transferData(l[n].queryPropertyList),targetKeys:[],isFirst:!1,isSecond:!1},a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentWillMount",value:function(){this.transferArea(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.transferArea(e)}},{key:"render",value:function(){var e=this.props,t=e.show,a=(e.areaIndex,e.areaList,e.json),n=this.state,r=n.dataSource,l=n.targetKeys,o=n.areaOne,i=n.areaTwo,s=n.isFirst,c=n.isSecond,d={dataSource:r,targetKeys:l,rowKey:"key",rowTitle:"title",rowChildren:"children",treeType:!1,onTargetKeysChange:this.onTargetKeysChange,checkable:!0,className:"sync-transfer",showMoveBtn:!1,showSearch:!0,lazy:{container:"modal"},listRender:function(e){e.item;return e.title},searchPlaceholder:(0,b.langCheck)("ZoneSetting-000276","pages",a)};return p.default.createElement(f.default,{className:"sync-modal",maskClosable:!1,visible:t,onOk:this.handleConfirm,onCancel:this.handleCancel,okText:(0,b.langCheck)("ZoneSetting-000005","pages",a),cancelText:(0,b.langCheck)("ZoneSetting-000006","pages",a),width:"850px",title:(0,b.langCheck)("ZoneSetting-000261","pages",a)},p.default.createElement(C,d),p.default.createElement("div",{className:"sync-checkbox"},p.default.createElement("div",{className:"sync-text"},p.default.createElement("span",null,(0,b.langCheck)("ZoneSetting-000265","pages",a),":")),o.area&&p.default.createElement("div",{className:"sync-checkbox-first"},p.default.createElement(S,{checked:s,onChange:this.handleCheckOne}),p.default.createElement("span",{className:"sync-checkbox-text",onClick:this.handleClickOne},o.area.name)),i.area&&p.default.createElement("div",{className:"sync-checkbox-second"},p.default.createElement(S,{checked:c,onChange:this.handleCheckTwo}),p.default.createElement("span",{className:"sync-checkbox-text",onClick:this.handleClickTwo},i.area.name))),p.default.createElement("div",{className:"sync-tooltip"},p.default.createElement("div",{className:"sync-tooltip-icon"},p.default.createElement("i",{className:"iconfont icon-zhuyi1"})),p.default.createElement("div",{className:"sync-tooltip-text"},p.default.createElement("span",null,(0,b.langCheck)("ZoneSetting-000262","pages",a),":"),p.default.createElement("br",null),p.default.createElement("span",null,"1.",(0,b.langCheck)("ZoneSetting-000263","pages",a),";"),p.default.createElement("br",null),p.default.createElement("span",null,"2.",(0,b.langCheck)("ZoneSetting-000264","pages",a)))))}}]),t}(u.Component),r=function(){var e=this;this.onTargetKeysChange=function(t){e.setState({targetKeys:t},(function(){console.log(e.state.targetKeys)}))},this.handleConfirm=function(){e.syncConfirm(),e.props.close(!1)},this.handleCancel=function(){e.props.close(!1)},this.transferData=function(e){return e.map((function(e){return{key:e.code,title:e.label||""}}))},this.checkAreaType=function(e){var t=g.checkAreaType.isFold,a=g.checkAreaType.isTable,n=g.checkAreaType.isSide;return t(e)?"fold":a(e)?"table":n(e)?"side":void 0},this.transferNewAreaList=function(e){var t=[];return e.forEach((function(e){e&&(t.push(e),Array.isArray(e.tabs)&&(t=t.concat(e.tabs)))})),t},this.transferArea=function(t){t.json;var a=t.newAreaList,n=t.areaList[t.areaIndex],r=e.transferNewAreaList(a),l={},o={};switch(e.checkAreaType(n)){case"table":var i=r.filter((function(e){return e})).find((function(e){return e.pk_area==n.pk_area}));l.area=i&&i.sides&&i.sides.find((function(e){return"edit"==e.areastatus})),l.code="issyncside",o.area=i&&i.sides&&i.sides.find((function(e){return"browse"==e.areastatus})),o.code="issyncfold";break;case"fold":l.area=r.filter((function(e){return e})).find((function(e){return e.code==n.relationcode})),l.code="issynclist",o.area=l.area&&l.area.sides&&l.area.sides.find((function(e){return"edit"==e.areastatus})),o.code="issyncside";break;case"side":l.area=r.filter((function(e){return e})).find((function(e){return e.code==n.relationcode})),l.code="issynclist",o.area=l.area&&l.area.sides&&l.area.sides.find((function(e){return"browse"==e.areastatus})),o.code="issyncfold"}e.setState({areaOne:l,areaTwo:o})},this.handleCheckOne=function(t){e.setState({isFirst:t})},this.handleCheckTwo=function(t){e.setState({isSecond:t})},this.handleClickOne=function(){e.setState({isFirst:!e.state.isFirst})},this.handleClickTwo=function(){e.setState({isSecond:!e.state.isSecond})},this.syncConfirm=function(){var t=e.state,a=t.isFirst,n=t.isSecond,r=t.targetKeys,o=t.areaOne,i=t.areaTwo,s=e.props,c=s.areaList,d=s.updateAreaList,u=s.areaIndex;if(o.area||i.area){c=_.cloneDeep(c);var p=["pk_form_property","pk_query_property","areaid","width","position","isnextrow",o.code,i.code],f=c[u],m=f?f.queryPropertyList:[];m=_.cloneDeep(m);var g=o.area?o.area.queryPropertyList:[];g=_.cloneDeep(g);var h=void 0,b=i.area?i.area.queryPropertyList:[];b=_.cloneDeep(b);var v=void 0;r.forEach((function(e){var t=m.find((function(t){return t.code==e}));if(o.area&&(t[o.code]=a),i.area&&(t[i.code]=n),a){h=g.find((function(t){return t.code==e})),h=_.cloneDeep(h);var r=_.cloneDeep(t);p.forEach((function(e){delete r[e]})),h?h=(0,l.default)({},h,r):(r.areaid=o.area.pk_area,r.pk_query_property="",r.pk_form_property="",h=r)}if(n){v=b.find((function(t){return t.code==e})),v=_.cloneDeep(v);var s=_.cloneDeep(t);p.forEach((function(e){delete s[e]})),v?v=(0,l.default)({},v,s):(s.areaid=i.area.pk_area,s.pk_query_property="",s.pk_form_property="",v=s)}c.forEach((function(r){if(r.pk_area==f.pk_area){var l=r.queryPropertyList.findIndex((function(t){return t.code==e}));r.queryPropertyList[l]=t}if(o.area&&a&&r.pk_area==o.area.pk_area){var s=r.queryPropertyList.findIndex((function(t){return t.code==e}));-1!==s?r.queryPropertyList[s]=h:(h.position=r.queryPropertyList.length+1,r.queryPropertyList.push(h))}if(i.area&&n&&r.pk_area==i.area.pk_area){var c=r.queryPropertyList.findIndex((function(t){return t.code==e}));-1!==c?r.queryPropertyList[c]=v:(v.position=r.queryPropertyList.length+1,r.queryPropertyList.push(v))}}))})),d(c)}}},n);t.default=(0,m.connect)((function(e){return{selectedArea:e.zoneSettingData.selectedArea,areaList:e.zoneSettingData.areaList,templetid:e.zoneRegisterData.templetid,newAreaList:e.zoneSettingData.newAreaList}}),{updateAreaList:h.updateAreaList})(x)},1173:function(e,t,a){var n=a(1174);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},1174:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".sync-modal .u-modal-body{padding:15px 35px}.sync-modal .sync-transfer{height:470px}.sync-modal .sync-transfer .u-transfer .u-transfer-list{width:350px}.sync-modal .sync-transfer .u-transfer .u-transfer-list .u-transfer-list-body-search-wrapper{width:80%}@media screen and (max-width:1440px){.sync-modal .sync-transfer{height:375px}}.sync-modal .sync-checkbox{margin-top:20px;display:flex}.sync-modal .sync-checkbox .sync-checkbox-first,.sync-modal .sync-checkbox .sync-checkbox-second{margin-left:20px}.sync-modal .sync-checkbox .u-checkbox{margin:unset}.sync-modal .sync-checkbox .sync-checkbox-text{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.sync-modal .sync-tooltip{display:flex;margin-top:20px;padding:10px 20px;background:#f9f9f9}.sync-modal .sync-tooltip .sync-tooltip-icon .iconfont{color:orange}.sync-modal .sync-tooltip .sync-tooltip-text{color:#555;font-size:12px;padding-left:2px}",""])},1175:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=I(a(3)),r=I(a(924)),l=I(a(14)),o=I(a(17)),i=I(a(110)),s=I(a(2)),c=I(a(21)),d=I(a(5)),u=I(a(7)),p=I(a(4)),f=I(a(6)),m=I(a(56)),g=I(a(109));a(132),a(130);var h=a(1),b=I(h),v=I(a(0)),y=I(a(89)),k=I(a(35)),C=a(37),S=I(a(364)),x=a(373),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(x),w=a(19),T=a(366),A=a(968),_=I(a(26)),M=I(a(1032)),D=a(1049);function I(e){return e&&e.__esModule?e:{default:e}}var N=_.default.base,L=N.NCDiv,P=N.NCCheckbox,Z=N.NCTree,O=(N.NCFormControl,Z.NCTreeNode),j=g.default.Search,V=(m.default.Option,function(e){function t(e){(0,d.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return a.showModalHidden=function(){a.setModalVisible(!1)},a.setModalVisible=function(e){a.setState({selectedKeys:[],checkedKeys:[],selectedNodes:[],checkedNodes:[],needToBeAllSelectNodeList:[],searchValue:"",expandedKeys:[],searchExpandedKeys:[],searchSelectedKeys:[]}),a.props.setModalVisible(e)},a.onOkMoveDialog=function(){var e=a.state.selectedNodes,t=a.props,n=t.targetAreaID,r=t.json,l=[];y.default.forEach(e,(function(e,t){var o=e.props.dataRef,i=o.myUniqID,s=o.datatype,c=o.refname,d=(o.refcode,o.pid,o.refpk),u=o.isLeaf,p=o.modelname,f=o.length,m=o.notSearchAreaCode,g=o.proid,h=o.resid,b=o.readonly,v={};if("0"===a.props.targetAreaType){var y=E.getObjNameByDatatype(s,E.opersignObj),k=E.getObjNameByDatatype(s,(0,x.opersignNameObj)());v={pk_query_property:"newMetaData_"+i,areaid:n,datatype:s,code:i,label:c,metapath:i,isnotmeta:!1,isuse:!0,opersign:y||"=@>@>=@<@<=@like@",opersignname:k||(0,w.langCheck)("ZoneSetting-000001","pages",r),defaultvalue:"",isfixedcondition:!1,required:!1,disabled:!1,visible:"56"!==s,ismultiselectedenabled:!1,isquerycondition:!0,refname:"204"===s?p:"-99",containlower:!u,ischeck:!1,isbeyondorg:!1,usefunc:"34"===s,showtype:"1",returntype:"refpk",define1:"",define2:"",define3:"",define4:"",define5:"",itemtype:"input",myrefpk:d,visibleposition:"",tablecode:"",querytablename:"",maxlength:f}}else v={pk_query_property:"newMetaData_"+i,areaid:n,code:m||i,datatype:s,label:c,metapath:i,color:(0,x.colorObj)()&&(0,x.colorObj)()[0].value,isrevise:!1,required:!1,disabled:!1,visible:"56"!==s,maxlength:f,defaultvalue:"",hyperlinkflag:!1,defaultvar:"",define1:"",define2:"",define3:"",itemtype:"input",myrefpk:d};"1"===a.props.targetAreaType&&(v.colnum="1",v.isnextrow=!1),"2"===a.props.targetAreaType&&(v.width="",v.istotal=!1),"204"===v.datatype&&(v.metaid=d,v.iscode=!1,v.modelname=p),"56"===v.datatype&&(v.isdefined=!0),"31"!==v.datatype&&"52"!==v.datatype||(v.dataval="2,,"),v.itemtype=E.getItemtypeByDatatype(v.datatype),v.proid=g,v.resid=h,!0===b&&(v.disabled=!0),l.push(v)}));var o=[];y.default.forEach(l,(function(e){"203"===e.datatype&&(console.log(e.label),o.push(e.myrefpk))})),o.length>0?(0,k.default)({url:"/nccloud/platform/templet/getEnumValue.do",info:{name:(0,w.langCheck)("ZoneSetting-000017","pages",r),action:(0,w.langCheck)("ZoneSetting-000122","pages",r)},data:o,success:function(e){if(e){var t=e.data,n=t.data,r=t.success;r&&n&&y.default.forEach(n,(function(e){y.default.forEach(l,(function(t){y.default.forEach(e,(function(e){e.id===t.myrefpk&&(y.default.isEmpty(t.dataval)?t.dataval=e.name+"="+e.value:t.dataval=t.dataval+","+e.name+"="+e.value)}))}))})),a.setDatavalForCard(l,!1)}}}):a.setDatavalForCard(l,!1)},a.setDatavalForCard=function(e,t){var n=a.props.json;if("0"!==a.props.targetAreaType){var r=[];y.default.forEach(e,(function(e){"204"===e.datatype&&r.push(e.modelname)})),r.length>0?(0,k.default)({url:"/nccloud/platform/templet/getRefDefaultSel.do",info:{name:(0,w.langCheck)("ZoneSetting-000017","pages",n),action:(0,w.langCheck)("ZoneSetting-000024","pages",n)},data:r,success:function(n){if(n){var r=n.data,l=r.data,o=r.success;o&&l&&y.default.forEach(l,(function(t){y.default.forEach(e,(function(e){t.name===e.modelname&&(e.dataval=t.pk_refinfo+",code=1",e.refname=t.name,e.refcode=t.refpath)}))})),e[0]&&T.selectCardFromOther.call(a,e[0]),a.props.addCard(e),a.setModalVisible(t)}}}):(e[0]&&T.selectCardFromOther.call(a,e[0]),a.props.addCard(e),a.setModalVisible(t))}else e[0]&&T.selectCardFromOther.call(a,e[0]),a.props.addCard(e),a.setModalVisible(t)},a.onSelect=function(e,t){a.setState({checkedKeys:e,selectedKeys:e,selectedNodes:t.selectedNodes,checkedNodes:t.selectedNodes})},a.onCheck=function(e,t){a.setState({selectedKeys:e,checkedKeys:e,checkedNodes:t.checkedNodes,selectedNodes:t.checkedNodes})},a.renderTreeNodes=function(e){return e.map((function(e){var t="fieldid_"+e.refcode+"_node";return e.children?b.default.createElement(O,{title:e.title,key:e.key,dataRef:e,className:t},a.renderTreeNodes(e.children)):(e.isleaf,b.default.createElement(O,(0,s.default)({},e,{dataRef:e,className:t})))}))},a.onLoadData=function(e){var t=a.props.json;return new i.default((function(n){e.props.children?n():(0,k.default)({url:"/nccloud/platform/templet/querymetapro.do",info:{name:(0,w.langCheck)("ZoneSetting-000017","pages",t),action:(0,w.langCheck)("ZoneSetting-000020","pages",t)},data:{metaid:e.props.refpk},success:function(t){if(t){var r=t.data,l=r.data,i=r.success;if(i&&l&&l.rows&&l.rows.length>0){var c=[];l.rows.map((function(t,n){var r=(0,s.default)({},t,{title:t.refcode+" "+t.refname,key:e.props.myUniqID+"."+t.refcode,myUniqID:e.props.myUniqID+"."+t.refcode,isLeaf:t.isleaf});"0"!==a.props.targetAreaType&&e.props.notSearchAreaCode&&(r.notSearchAreaCode=e.props.notSearchAreaCode+"."+t.refcode),"0"!==a.props.targetAreaType&&"205"===e.props.datatype&&(r.notSearchAreaCode=""+t.refcode),c.push(r)})),e.props.dataRef.children=[].concat(c),a.props.updateMetaTreeData([].concat((0,o.default)(a.props.metaTree))),n()}}}})}))},a.getContentDom=function(){var e=a.props.metaTree;return b.default.createElement("div",{className:"template-setting-left-sider template-setting-sider"},a.getModalTitleDom(),b.default.createElement("div",{className:"sider-content meta-tree"},b.default.createElement(L,{className:"sider-tree",fieldid:"addMeta",areaCode:L.config.TreeCom},b.default.createElement(Z,{checkable:!0,checkStrictly:!0,loadData:a.onLoadData,showLine:!0,multiple:!0,onSelect:a.onSelect,selectedKeys:a.state.selectedKeys,checkedKeys:a.state.checkedKeys,onCheck:a.onCheck,fieldid:"meta"},a.renderTreeNodes(e)))))},a.selectAllTreeNode=function(e,t){var n=a.state,r=n.selectedKeys;n.checkedKeys;r=y.default.cloneDeep(r),e?y.default.forEach(t,(function(e,t){-1===r.indexOf(e.myUniqID)&&"205"!==e.datatype&&(r.push(e.myUniqID),a.state.selectedNodes.push({props:{dataRef:(0,s.default)({},e)}}))})):(y.default.forEach(t,(function(e,t){y.default.remove(r,(function(t){return t===e.myUniqID}))})),y.default.forEach(t,(function(e,t){y.default.remove(a.state.selectedNodes,(function(t){return t.props.dataRef.myUniqID===e.myUniqID}))}))),a.setState({selectedKeys:r,checkedKeys:r})},a.handleChangeSelectTreeNode=function(e){var t=a.props,n=(t.metaTree,t.canSelectTreeNodeList);y.default.forEach(n,(function(t){-1===e.indexOf(t.refcode+" "+t.refname)?null!==t.children&&setTimeout((function(){a.selectAllTreeNode(!1,t.children)}),0):null!==t.children&&setTimeout((function(){a.selectAllTreeNode(!0,t.children)}),0)})),a.setState({needToBeAllSelectNodeList:e})},a.onSearchFieldChange=function(e){var t=a.props,n=(t.origTree,t.searchField,t.updateMetaTree),r=function(e){return function(){var t=a.props.origTree;0===e.length&&(a.setState({searchExpandedKeys:[]}),n(t,t)),a.setState({searchValue:e})}}(e.target.value);(0,w.debounce)(r,300)()},a.onSearchFieldClean=function(e){var t=a.props,n=t.origTree,r=t.updateMetaTree,l=t.searchField;ReactDOM.findDOMNode(l).querySelector(".ant-input").value="",a.setState({searchValue:"",searchExpandedKeys:[],curTree:n}),r(n,n)},a.onSearchMeta=function(e){if(e){var t=a.props,n=t.origTree,r=t.updateMetaTree,l=a.state,o=(l.searchTreeData,l.searchSelectedKeys),i=[],s=D.queryMetaPropByKeyWords.call(a,e,n,i);s.getMetaTreeData().children;s.getRoot().children.length>0?(a.setState({searchExpandedKeys:i,searchSelectedKeys:o}),r(n,s)):a.setState({searchExpandedKeys:[],searchSelectedKeys:[]})}},a.getModalTitleDom=function(){var e=a.props.json,t=a.state.searchValue;return b.default.createElement("div",{className:"customer-header",style:{height:(a.props.canSelectTreeNodeList.length,"40px")}},b.default.createElement("div",{className:"metatree-search-input",style:{width:"250px",display:"inline-block"}},b.default.createElement(j,{ref:function(e){return a.props.searchField=e},className:"dnd-cancel",placeholder:(0,w.langCheck)("ZoneSetting-000322","pages",e),onChange:a.onSearchFieldChange,onSearch:a.onSearchMeta}),t&&b.default.createElement("i",{class:"icon iconfont icon-qingkong",onClick:a.onSearchFieldClean})),b.default.createElement(P,{className:"dnd-cancel",onChange:function(e){a.selectAllTreeNode(e,a.props.metaTree)}},(0,w.langCheck)("ZoneSetting-000125","pages",e)),void a.props.canSelectTreeNodeList.length)},a.onLoadSubTreeData=function(e){var t=a.props,n=t.origTree,r=t.updateMetaTree,l=a.state.searchValue,o=e.props,s=o.children,c=o.refpk,d=o.myUniqID,u=(o.datatype,o.dataRef,n.getNode((function(e){return e.data.myUniqID===d})),[]);return new i.default((function(e){s?e():D.asyncQueryMetaPro.call(a,c).then((function(t){var o=D.appendMetaTreeNodes.call(a,t.rows,d,n),i=D.queryMetaPropByKeyWords.call(a,l,o,u);r(o,i);var s=o.getMetaTreeData();a.props.updateMetaTreeData(s.children),a.setState({searchExpandedKeys:u}),e()}))}))},a.onSelectTreeNode=function(e,t){a.setState({selectedKeys:e,searchSelectedKeys:e,checkedKeys:e,selectedNodes:t.selectedNodes,checkedNodes:t.selectedNodes})},a.onCheckTreeNode=function(e,t){a.setState({selectedKeys:e,searchSelectedKeys:e,checkedKeys:e,checkedNodes:t.checkedNodes,selectedNodes:t.checkedNodes})},a.onExpandTreeNode=function(e,t,n){var r=t.expanded,l=t.node,o=y.default.result(l,"props.dataRef.myUniqID");!1===r&&(e=y.default.filter(e,(function(e){return-1===e.indexOf(o)}))),"search"===n?a.setState({searchExpandedKeys:e}):a.setState({expandedKeys:e})},a.renderMetaTreeNode=function(e,t){var n=a.state,r=n.searchValue,o=n.expandedKeys,i=e.data,c=(e.parent,e.children),d=(i.children,(0,l.default)(i,["children"])),u=d.refcode,p=d.title,f=(d.proid,d.key),m=d.isLeaf,g="fieldid_"+u+"_node",h=p.search(r),v=p.substr(0,h),y=p.substr(h+r.length),k=h>-1?b.default.createElement("span",null,v,b.default.createElement("span",{className:"u-tree-searchable-filter"},r),y):b.default.createElement("span",null,p),C=b.default.createElement("span",{className:"icon iconfont "+(o.includes(u)?"icon-wenjianjiadakai":"icon-wenjianjia")}),S=void 0;if(c.length>0){var x=c.map((function(e){return t.get(e)}));S=b.default.createElement(O,{key:f,dataRef:d,className:""+g,icon:C,title:k},x)}else S=m?b.default.createElement(O,(0,s.default)({},d,{dataRef:d,className:""+g,title:k})):b.default.createElement(O,(0,s.default)({},d,{dataRef:d,className:""+g,icon:C,title:k}));return S},a.renderMetaTreeNodes=function(){var e=a.props.curTree;if(!(e instanceof M.default))return null;console.time("RenderMetaTreeNodes"),console.time("SerializeMetaTreeNodes");var t=M.default.serialize(e);console.timeEnd("SerializeMetaTreeNodes");var n=t.nodes.reverse(),l=e.getRoot(),o=new r.default;return n.forEach((function(e){var t=a.renderMetaTreeNode(e,o);o.set(e,t)})),console.timeEnd("RenderMetaTreeNodes"),l.children.map((function(e){return o.get(e)}))},a.renderMetaTree=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",r=a.props,l=(r.metaTree,r.origTree,r.curTree,a.state),o=l.expandedKeys,i=l.selectedKeys,s=l.checkedKeys,c=l.searchSelectedKeys,d=l.searchExpandedKeys;l.searchValue;return"search"===t&&(i=c,o=d),b.default.createElement(Z,(e={fieldid:"meta",checkable:!0,showIcon:!0,checkStrictly:!0},(0,n.default)(e,"checkable",!0),(0,n.default)(e,"showLine",!0),(0,n.default)(e,"multiple",!0),(0,n.default)(e,"selectedKeys",i),(0,n.default)(e,"checkedKeys",s),(0,n.default)(e,"expandedKeys",o),(0,n.default)(e,"loadData",a.onLoadSubTreeData),(0,n.default)(e,"onSelect",a.onSelectTreeNode),(0,n.default)(e,"onCheck",a.onCheckTreeNode),(0,n.default)(e,"onExpand",(function(e,n){a.onExpandTreeNode(e,n,t)})),e),a.renderMetaTreeNodes())},a.state={checkedKeys:[],selectedKeys:[],selectedNodes:[],searchValue:"",needToBeAllSelectNodeList:[],expandedKeys:[],searchExpandedKeys:[],searchSelectedKeys:[]},a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"renderModalContent",value:function(){var e=this.state.searchValue;return b.default.createElement("div",{className:"template-setting-left-sider template-setting-sider"},this.getModalTitleDom(),b.default.createElement("div",{className:"sider-content meta-tree",style:{height:"65vh"}},b.default.createElement(L,{className:"sider-tree",fieldid:"addMeta",areaCode:L.config.TreeCom},this.renderMetaTree(e?"search":"default"))))}},{key:"render",value:function(){var e=this.props.json;return b.default.createElement(S.default,{maskClosable:!1,title:(0,w.langCheck)("ZoneSetting-000124","pages",e),wrapClassName:"meta-add-modal",visible:this.props.modalVisible,okText:(0,w.langCheck)("ZoneSetting-000005","pages",e),cancelText:(0,w.langCheck)("ZoneSetting-000006","pages",e),onOk:this.onOkMoveDialog,onCancel:this.showModalHidden,destroyOnClose:!0,width:"50%",fieldid:"addMeta",titleFieldid:(0,w.langCheck)("ZoneSetting-000124","pages",e)},this.renderModalContent())}}]),t}(h.Component));V.propTypes={origTree:v.default.object,curTree:v.default.object,updateMetaTreeData:v.default.func,updateMetaTree:v.default.func},t.default=(0,C.connect)((function(e){return{}}),{updateSelectCard:A.updateSelectCard,updateSelectArea:A.updateSelectArea})(V)},1176:function(e,t,a){e.exports=a.p+"images/template-empty-content.png"},1177:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=C(a(111)),r=C(a(171)),l=C(a(17)),o=C(a(21)),i=C(a(5)),s=C(a(7)),c=C(a(4)),d=C(a(6)),u=a(1),p=C(u),f=a(37),m=a(968),g=C(a(364)),h=a(19),b=C(a(89)),v=C(a(976)),y=a(366),k=C(a(1178));function C(e){return e&&e.__esModule?e:{default:e}}a(1050);var S=C(a(26)).default.base.NCTabs,x=S.NCTabPane,E="DEFAULT_TAB_NAME",w=function(e){function t(e){(0,i.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.initTabList=function(){var e=a.props.newAreaList.filter((function(e){return null!==e})),t=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((function(t){t&&("2"===t.areatype&&t.tabheadcode&&a.push(t.tabheadcode),t.tabs&&e(t.tabs,a))})),[].concat((0,l.default)(new r.default(a)))},n=t(e),o=e.filter((function(e){return a.isGrandsonTab(e)})).map((function(e){return e&&e.code})),i=[E].concat(n.filter((function(e){return e!==n[0]}))).concat(o),s=b.default.cloneDeep(e.filter((function(e){return e.tabs||e.tabheadcode||n.includes(e.code)||e.code===e.headcode||a.isGrandsonTab(e)}))),c=i.map((function(t){var n=e.find((function(e){return e.code===t}));if(t===E)return{name:a.props.zoneFormData.name,code:t};if(n){var r=n.name;if(n.grandsons){var l=n.sides&&n.sides.find((function(e){return y.checkAreaType.isSide(e)}));l&&(r=l.name)}return{name:r,code:t}}})).filter((function(e){return e})),d=function(r){var l={},o=function(e){var t=[],a=e&&e.tabs?"tabs":e.formTabs?"formTabs":"tabs";return e[a]?(t.push(e),e[a].map((function(e){t.push(e)}))):t.push(e),t};return r.forEach((function(r){l[r]=function r(l,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=i!==E&&e.find((function(e){return e.code===i}));return l.forEach((function(e){var l=o(e);if(i===E)"1"!==e.areatype&&e.code!==n[0]&&e.tabheadcode!==n[0]||s.push(a.createLaneItem(l));else if("2"===e.areatype&&e.code!==n[0]&&(e.code===i||e.tabheadcode===i))if(c&&c.grandsons&&c.grandsons.length){if(a.isGrandsonTab(e)){var d=t(e.grandsons),u=e.sides&&e.sides.find((function(e){return y.checkAreaType.isSide(e)}));u&&s.push(a.createLaneItem(u)),r(e.grandsons,d[0],s)}}else s.push(a.createLaneItem(l))})),s}(s,r)})),l}(i);a.setState({activeTabKey:c[0]&&c[0].code,tabKeyArr:c,tabListData:d})},a.isGrandsonTab=function(e){var t;if(!e.tabs)return(t=e)&&t.grandsons&&t.grandsons.find((function(e){return e.tabs||e.tabheadcode}))},a.createLaneItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{checked:!1,data:e=Array.isArray(e)?e:[e]}},a.handleHeadBtnClick=function(e){switch(e){case"checkAll":a.handleCheck("all");break;case"cancelAll":a.handleCheck("cancel");break;case"addFloor":a.addLane();break;case"mergeFloor":a.mergeFloor();break;case"splitFloor":a.splitFloor()}},a.mergeFloor=function(){var e=a.state,t=e.tabListData,n=e.activeTabKey,r=a.getCheckedFloor().filter((function(e){return e.data.length>0})),l=r[0]&&r[0].data[0],o=[];r.forEach((function(e){o=o.concat(e.data)}));var i=t[n].map((function(e){return e.checked&&(e.data[0]&&e.data[0].code===l.code?e.data=o:e=null),e})).filter((function(e){return null!==e}));t[n]=i,a.updateTabListData(t)},a.splitFloor=function(){var e=a.state,t=e.tabListData,n=e.activeTabKey,r=[];t[n].map((function(e){e.checked?e.data.forEach((function(e){r.push(a.createLaneItem(e))})):r.push(e)})),t[n]=r,a.updateTabListData(t)},a.handleTabChange=function(e){a.setState({activeTabKey:e})},a.handleCheck=function(e,t){var n=a.state.tabListData;n[a.state.activeTabKey].map((function(a,n){var r=a.data[0];"all"===e?(a.checked=!0,r&&"1"===r.areatype&&r.code&&r.code===r.headcode&&(a.checked=!1),r&&y.checkAreaType.isSide(r)&&(a.checked=!1)):"cancel"===e?a.checked=!1:t===n&&(a.checked=e)})),a.updateTabListData(n)},a.getCheckedFloor=function(){var e=a.state,t=e.tabListData,r=e.activeTabKey;return 0===(0,n.default)(t).length?[]:t[r].filter((function(e){return e.checked}))},a.updateTabListData=function(e){var t=b.default.cloneDeep(e);a.setState({tabListData:t})},a.renderHeadBtnArea=function(){var e=a.getCheckedFloor(),t=a.state.tabListData[a.state.activeTabKey]||[],n=[{name:(0,h.langCheck)("ZoneSetting-000270","pages",a.props.json),code:"checkAll",isshow:t.length>1?e.length!==t.length-1:0===e.length},{name:(0,h.langCheck)("ZoneSetting-000326","pages",a.props.json),code:"cancelAll",isshow:t.length>1?e.length===t.length-1:e.length===t.length},{name:(0,h.langCheck)("ZoneSetting-000323","pages",a.props.json),code:"addFloor",isshow:!0},{name:(0,h.langCheck)("ZoneSetting-000324","pages",a.props.json),code:"mergeFloor",group:!0,isshow:!0,type:"primary",disabled:e.length<2},{name:(0,h.langCheck)("ZoneSetting-000325","pages",a.props.json),code:"splitFloor",group:!0,isshow:!0,disabled:0===e.length||e.every((function(e){return e.data.length<=1}))}];return p.default.createElement("div",{className:"head-btns"},p.default.createElement(v.default,{dataSource:n,onClick:a.handleHeadBtnClick}))},a.renderLayContent=function(e){return p.default.createElement(k.default,{sourceData:e,onChecked:a.handleCheck,onDeleteLane:a.deleteLane,dropLogic:a.dropLogic,dragLane:a.dragLane,json:a.props.json})},a.renderModalContent=function(){var e=a.state,t=e.tabKeyArr,n=e.tabListData;if(1===t.length){var r=t[0],l=n[r.code];return p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:"tls-header"},a.renderHeadBtnArea()),a.renderLayContent(l))}return p.default.createElement("div",{className:"tls-header"},p.default.createElement(S,{activeKey:a.state.activeTabKey,className:"tls-tabs",extraContent:a.renderHeadBtnArea(),onChange:a.handleTabChange},t.map((function(e){return p.default.createElement(x,{tab:e.name,key:e.code},a.renderLayContent(n[e.code]))}))))},a.showOkDialog=function(){a.formatTabListData(),a.hiddenDialog()},a.formatTabListData=function(){var e=a.state.tabListData,t=b.default.cloneDeep(a.props.areaList),n=function(e,t){var a=[],n=b.default.cloneDeep(e);return n&&n.forEach((function(e){var n=e.data.filter((function(e){return e.areatype===t}));e.data=n,n.length>0&&a.push(e)})),a};e=function(e){for(var t in e){var a=e[t].filter((function(e){return e.data.length>0}));e[t]=a}return e}(e);var r=function(a){var r=e[a],l=n(r,"1"),o=n(r,"2"),i=o[0]&&o[0].data[0].code,s=void 0;a===E&&l.length&&(s=l[0]&&l[0].data[0].code),r.forEach((function(e,a){var n=e.data,l=n[0],o=l&&l.code;n.forEach((function(e,c){var d=t.findIndex((function(t){return t.pk_area===e.pk_area})),u=t[d];if(u.code===e.code&&(u.code===i||s&&u.code===s?u.associatedtab="":n.length>1?s&&e.code!==s&&"1"===u.areatype?u.associatedtab=s:e.code===o?u.associatedtab="":u.associatedtab=o:u.associatedtab=""),n.length>1){if(l.pk_area!==e.pk_area){var p=t.splice(d,1)[0],f=n[c-1],m=t.findIndex((function(e){return e.pk_area===f.pk_area}));t.splice(m+1,0,p)}}else if(a>0){var g=t.splice(d,1)[0],h=r[a-1],b=h&&h.data[h.data.length-1],v=t.findIndex((function(e){return e.pk_area===b.pk_area}));t.splice(v+1,0,g)}}))}))};for(var l in e)r(l);a.props.updateAreaList(t)},a.hiddenDialog=function(){a.props.setTabLayModalVisible(!1)},a.addLane=function(){var e=a.state.tabListData,t=a.createLaneItem();e[a.state.activeTabKey].push(t),a.updateTabListData(e)},a.deleteLane=function(e){var t=a.state.tabListData;t[a.state.activeTabKey].splice(e,1),a.updateTabListData(t)},a.dropLogic=function(e,t){var n=t.dragIndex,r=t.targetIndex,l=t.laneIndex,o=t.targetLaneIndex,i=a.state,s=i.tabListData,c=s[i.activeTabKey],d=c[l]&&c[l].data[n];c[l].data.splice(n,1),"lane"===e?c[o].data.push(d):"tag"===e&&c[o].data.splice(r,0,d),a.updateTabListData(s)},a.dragLane=function(e,t){var n=a.state.tabListData,r=n[a.state.activeTabKey];if(1===Math.abs(e-t)){var l=[r[t],r[e]];r[e]=l[0],r[t]=l[1]}else{var o=r.splice(e,1);n[a.state.activeTabKey]=r.slice(0,t-1).concat(o,r.slice(t-1))}a.updateTabListData(n)},a.state={activeTabKey:"",tabKeyArr:[],tabListData:{}},a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.initTabList()}},{key:"render",value:function(){var e=this.props,t=e.json,a=e.visible;return console.log("tabListData",this.state.tabListData),p.default.createElement("div",{className:"tls-container"},p.default.createElement(g.default,{maskClosable:!1,customHeader:(0,h.langCheck)("ZoneSetting-000246","pages",t),visible:a,onOk:this.showOkDialog,onCancel:this.hiddenDialog,className:"tab-lay-modal",size:"xlg",minHeight:500,okText:(0,h.langCheck)("ZoneSetting-000005","pages",t),cancelText:(0,h.langCheck)("ZoneSetting-000006","pages",t),fieldid:"tabLaySet"},this.renderModalContent()))}}]),t}(u.Component);t.default=(0,f.connect)((function(e){return{newAreaList:e.zoneSettingData.newAreaList,visible:e.zoneSettingData.showTabLaySetModal,areaList:e.zoneSettingData.areaList,zoneFormData:e.zoneSettingData.zoneFormData}}),{setTabLayModalVisible:m.setTabLayModalVisible,updateAreaList:m.updateAreaList})(w)},1178:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(21)),r=u(a(5)),l=u(a(7)),o=u(a(4)),i=u(a(6)),s=a(1),c=u(s),d=u(a(1179));function u(e){return e&&e.__esModule?e:{default:e}}a(1050);var p=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"tls-content"},this.props.sourceData.map((function(t,a){var n=t.data,r=t.checked;return c.default.createElement(d.default,{key:a,data:n,area:n[0],laneIndex:a,dropLogic:e.props.dropLogic,dragLane:e.props.dragLane,deleteLane:e.props.onDeleteLane,json:e.props.json,checked:r,onChecked:function(t){return e.props.onChecked(t,a)}})})))}}]),t}(s.Component);t.default=p},1179:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=h(a(21)),l=h(a(5)),o=h(a(7)),i=h(a(4)),s=h(a(6)),c=a(1),d=h(c),u=a(920),p=h(a(1180)),f=a(366),m=a(19),g=h(a(26));function h(e){return e&&e.__esModule?e:{default:e}}a(1050);var b=g.default.base.NCCheckbox,v=(0,u.DragSource)("tag",{beginDrag:function(e){return{dragType:"lane",laneIndex:e.laneIndex,areaItem:e.area}},canDrag:function(e){return e.area&&"2"===e.area.areatype}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(n=(0,u.DropTarget)("tag",{drop:function(e,t){var a=e.laneIndex,n=e.area,r=t.getItem(),l=r.index,o=r.areaItem,i=r.dragType;if(t.isOver({shallow:!0})&&(!n||n.areatype===o.areatype))if("lane"===i){if(r.laneIndex===a)return;e.dragLane(r.laneIndex,a)}else{if(n&&n.areatype!==o.areatype)return;if(!n&&"1"===o.areatype)return;e.dropLogic("lane",{dragIndex:l,laneIndex:r.laneIndex,targetLaneIndex:a})}},canDrop:function(e){return!e.area||"2"==e.area.areatype}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.renderTags=function(e){return a.props.data.map((function(t,n){if(t)return d.default.createElement(p.default,{key:t.code,name:t.name,index:n,laneIndex:e,dropLogic:a.props.dropLogic,areaItem:t,nodrop:"1"==t.areatype&&t.headcode===t.code||f.checkAreaType.isSide(t)})}))},a.renderDelete=function(e){return d.default.createElement("span",{className:"lane-delete",onClick:function(){a.props.deleteLane(e)}},(0,m.langCheck)("ZoneSetting-000190","pages",a.props.json))},a.renderCheckbox=function(){var e=a.props.area,t=e&&"1"===e.areatype;return d.default.createElement(b,{checked:a.props.checked,disabled:t,onChange:a.props.onChecked})},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.connectDragSource,a=e.connectDropTarget,n=e.area,r=e.laneIndex,l=e.isOver;return t(a(d.default.createElement("div",{className:"tls-list-container"+(l?" hover":"")},d.default.createElement("div",{className:"tls-list"},this.renderCheckbox(),d.default.createElement("span",{className:"lane-index"},r+1),d.default.createElement("div",{className:"tags"},this.renderTags(r)),!n&&this.renderDelete(r),n&&"1"!==n.areatype&&d.default.createElement("i",{className:"iconfont icon-tuodong"})))))}}]),t}(c.Component))||n)||n;t.default=v},1180:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=p(a(21)),l=p(a(5)),o=p(a(7)),i=p(a(4)),s=p(a(6)),c=a(1),d=p(c),u=a(920);function p(e){return e&&e.__esModule?e:{default:e}}a(1050);var f=(0,u.DragSource)("tag",{beginDrag:function(e,t,a){return{index:e.index,laneIndex:e.laneIndex,canDrop:"2"==e.areaItem.areatype,areaItem:e.areaItem,areaComp:a}},canDrag:function(e){return"2"===e.areaItem.areatype||e.areaItem.headcode!==e.areaItem.code}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging(),canDrag:t.canDrag(),dragItem:t.getItem()}}))(n=(0,u.DropTarget)("tag",{drop:function(e,t){var a=t.getItem();t.isOver({shallow:!0})&&(e.areaItem&&e.areaItem.areatype!==a.areaItem.areatype||e.dropLogic("tag",{dragIndex:a.index,targetIndex:e.index,laneIndex:a.laneIndex,targetLaneIndex:e.laneIndex}))},canDrop:function(e,t){var a=t.getItem(),n=e.areaItem;if(a){var r=a.areaItem.areatype===n.areatype;return r||a.areaComp&&a.areaComp.setState({canShowDragHover:!0}),r}return"2"===n.areatype||n.headcode!==n.code}},(function(e,t){var a=t.getItem();a&&a.canDrop;return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop(),canShowDragHover:t.canDrop()&&t.isOver()}}))(n=function(e){function t(){return(0,l.default)(this,t),(0,i.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.connectDragSource,a=e.connectDropTarget,n=e.name,r=e.areaItem,l=e.canShowDragHover,o=e.isOver,i="1"===r.areatype?"icon-kapian":"2"===r.areatype?"icon-liebiao1":"";return t(a(d.default.createElement("div",{className:"tag"+(this.props.nodrop?" nodrop":"")+" ",style:!this.props.nodrop&&l?{cursor:"no-drop"}:{}},o&&d.default.createElement("div",{className:"drag-hover"}),d.default.createElement("span",null,n,d.default.createElement("i",{className:"iconfont "+i})))))}}]),t}(c.Component))||n)||n;t.default=f},1181:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,'.tab-lay-modal .u-modal-content{min-height:500px}.tab-lay-modal .u-modal-content .u-modal-body{background-color:#f6f6f6;padding:0}.tab-lay-modal .tls-content{margin-top:4px}.tab-lay-modal .tls-list-container{padding:0 30px}.tab-lay-modal .tls-list-container.hover{background:#f9f2ee}.tab-lay-modal .tls-list{padding-right:32px;border-bottom:1px solid #dadada;min-height:40px;display:flex;align-items:center}.tab-lay-modal .tls-list .lane-index{width:49px;text-align:center;line-height:26px}.tab-lay-modal .tls-list .lane-delete{color:#0073e1;font-size:12px;cursor:pointer}.tab-lay-modal .tls-list .icon-tuodong{cursor:pointer;color:#007ace}.tab-lay-modal .tls-list .tags{flex:1}.tab-lay-modal .tls-list .tag{position:relative;display:inline-block;cursor:pointer;height:27px;line-height:1;background-color:#fff;padding:6px 8px;border:1px solid #a0a1a1;margin-left:10px;border-radius:3px;box-shadow:0 1px 3px 0 rgba(163,156,156,.5)}.tab-lay-modal .tls-list .tag .iconfont{font-size:14px;vertical-align:middle;margin-left:4px}.tab-lay-modal .tls-list .tag.nodrop{cursor:no-drop;background-color:#eaeaea;color:#555}.tab-lay-modal .tls-list .tag:hover{border:1px solid #0091ff}.tab-lay-modal .tls-list .tag:active{background-color:#b6dcff;border:1px solid #0091ff}.tab-lay-modal .tls-list .tag .drag-hover:before{content:"";position:absolute;width:2px;background:#2797ff;left:-8px;top:-2px;bottom:-2px}.tab-lay-modal .tls-list .tag .drag-hover:after{content:"";position:absolute;width:2px;background:#f7c1c1;left:-6px;top:-2px;bottom:-2px}.tab-lay-modal .tls-add{width:100%;height:40px;border-bottom:1px solid #ccc;border-top:1px solid #ccc}.tab-lay-modal .tls-add .add-content{width:100%;text-align:center;line-height:38px;color:#0073e1}.tab-lay-modal .tls-add .add-content i{vertical-align:middle;padding-right:5px;cursor:pointer}.tab-lay-modal .tls-add .add-content span{font-size:15px;vertical-align:middle;cursor:pointer}.tab-lay-modal .tls-header{background-color:#fff}.tab-lay-modal .tls-header .head-btns{display:flex;align-items:center;justify-content:flex-end;height:40px;margin-right:24px}.tab-lay-modal .u-tabs-top .u-tabs-content{background-color:#f6f6f6}.tab-lay-modal .u-tabs-top .u-tabs-bar{border-bottom:2px solid #ccc}',""])},1182:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(372)),r=f(a(170)),l=f(a(230)),o=f(a(3));t.addMetaItem=function(e){var t=this,a=e.selectedTreeNode,n=e.targetAreaID,r=e.dataRef,l=e.areaList,o=e.dropIndex,u=[],p={props:{dataRef:r}},f=l.find((function(e){return e&&e.pk_area===n})),g=this.props.json,h=i.default.isEmpty(r)?[]:[p];a.length>0&&a.forEach((function(e){e.props.dataRef.myUniqID!==r.myUniqID&&h.push(e)}));i.default.forEach(h,(function(e,t){var a=e.props.dataRef,r=a.myUniqID,l=a.datatype,o=a.refname,i=(a.refcode,a.pid,a.refpk),s=a.isLeaf,p=a.modelname,m=a.length,h=a.notSearchAreaCode,b=a.proid,v=a.resid,y=a.readonly,k={};if("0"===f.areatype){var C=(0,c.getObjNameByDatatype)(l,c.opersignObj),S=(0,c.getObjNameByDatatype)(l,(0,c.opersignNameObj)());k={pk_query_property:"newMetaData_"+r,areaid:n,datatype:l,code:r,label:o,metapath:r,isnotmeta:!1,isuse:!0,opersign:C||"=@>@>=@<@<=@like@",opersignname:S||(0,d.langCheck)("ZoneSetting-000001","pages",g),defaultvalue:"",isfixedcondition:!1,required:!1,disabled:!1,visible:"56"!==l,ismultiselectedenabled:!1,isquerycondition:!0,refname:"204"===l?p:"-99",containlower:!s,ischeck:!1,isbeyondorg:!1,usefunc:"34"===l,showtype:"1",returntype:"refpk",define1:"",define2:"",define3:"",define4:"",define5:"",itemtype:"input",myrefpk:i,visibleposition:"",tablecode:"",querytablename:"",maxlength:m}}else k={pk_query_property:"newMetaData_"+r,areaid:n,code:h||r,datatype:l,label:o,metapath:r,color:(0,c.colorObj)()&&(0,c.colorObj)()[0].value,isrevise:!1,required:!1,disabled:!1,visible:"56"!==l,maxlength:m,defaultvalue:"",hyperlinkflag:!1,defaultvar:"",define1:"",define2:"",define3:"",itemtype:"input",myrefpk:i};"1"===f.areatype&&(k.colnum="1",k.isnextrow=!1),"2"===f.areatype&&(k.width="",k.istotal=!1),"204"===k.datatype&&(k.metaid=i,k.iscode=!1,k.modelname=p),"56"===k.datatype&&(k.isdefined=!0),"31"!==k.datatype&&"52"!==k.datatype||(k.dataval="2,,"),k.itemtype=(0,c.getItemtypeByDatatype)(k.datatype),k.proid=b,k.resid=v,!0===y&&(k.disabled=!0),u.push(k)}));var b=[];i.default.forEach(u,(function(e){"203"===e.datatype&&(console.log(e.label),b.push(e.myrefpk))})),b.length>0?(0,s.default)({url:"/nccloud/platform/templet/getEnumValue.do",info:{name:(0,d.langCheck)("ZoneSetting-000017","pages",g),action:(0,d.langCheck)("ZoneSetting-000122","pages",g)},data:b,success:function(e){if(e){var a=e.data,r=a.data,l=a.success;l&&r&&i.default.forEach(r,(function(e){i.default.forEach(u,(function(t){i.default.forEach(e,(function(e){e.id===t.myrefpk&&(i.default.isEmpty(t.dataval)?t.dataval=e.name+"="+e.value:t.dataval=t.dataval+","+e.name+"="+e.value)}))}))})),m.call(t,{cardList:u,areaType:f.areatype,targetAreaID:n,dropIndex:o})}}}):m.call(this,{cardList:u,areaType:f.areatype,targetAreaID:n,dropIndex:o})},t.filterRepeatMeta=function(e,t){var a={},n=[],r={};return e.forEach((function(e){a[e.code]=e.label})),t.forEach((function(e){a[e.code]?r[e.code]?r[e.code].repeat.push((0,o.default)({},e.code,e.label)):r[e.code]={label:a[e.code],repeat:[(0,o.default)({},e.code,e.label)]}:n.push(e)})),n.forEach((function(e){void 0===a[e.code]?a[e.code]=e.label:r[e.code]?r[e.code].repeat.push((0,o.default)({},e.code,e.label)):r[e.code]={label:a[e.code],repeat:[(0,o.default)({},e.code,e.label)]}})),{cardList:n,errorMsg:r}},t.giveRepeatedTips=function(e,t){var a=[],o=(0,d.langCheck)("ZoneSetting-000279","pages",t),i=(0,d.langCheck)("ZoneSetting-000280","pages",t),s=function(e,t){var n=t.repeat.map((function(t){return"“"+e+" "+t[e]+"”"})).join("、"),r=a.length+1+". "+o+"“"+e+" "+t.label+"”, "+i+n;a.push(r)},c=!0,u=!1,f=void 0;try{for(var m,g=(0,r.default)((0,n.default)(e));!(c=(m=g.next()).done);c=!0){var h=m.value,b=(0,l.default)(h,2),v=b[0],y=b[1];s(v,y)}}catch(e){u=!0,f=e}finally{try{!c&&g.return&&g.return()}finally{if(u)throw f}}(0,p.default)({status:"warning",msg:a.join("\n")})};var i=f(a(89)),s=f(a(35)),c=a(373),d=a(19),u=a(366),p=f(a(68));function f(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=this,a=e.cardList,n=e.areaType,r=e.targetAreaID,l=e.dropIndex,o=this.props.json;if("0"!==n){var c=[];i.default.forEach(a,(function(e){"204"===e.datatype&&c.push(e.modelname)})),c.length>0?(0,s.default)({url:"/nccloud/platform/templet/getRefDefaultSel.do",info:{name:(0,d.langCheck)("ZoneSetting-000017","pages",o),action:(0,d.langCheck)("ZoneSetting-000024","pages",o)},data:c,success:function(e){if(e){var n=e.data,o=n.data,s=n.success;s&&o&&i.default.forEach(o,(function(e){i.default.forEach(a,(function(t){e.name===t.modelname&&(t.dataval=e.pk_refinfo+",code=1",t.refname=e.name,t.refcode=e.refpath)}))})),console.log("meta ajax"),a[0]&&u.setCardSelect.call(t,a[0]),t.addCardFromMetaTree({cardList:a,targetAreaID:r,dropIndex:l})}}}):(a[0]&&u.setCardSelect.call(this,a[0]),this.addCardFromMetaTree({cardList:a,targetAreaID:r,dropIndex:l}))}else a[0]&&u.setCardSelect.call(this,a[0]),this.addCardFromMetaTree({cardList:a,targetAreaID:r,dropIndex:l})}},1183:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,l=R(a(3)),o=R(a(936)),i=R(a(169)),s=R(a(2)),c=R(a(134)),d=R(a(135)),u=R(a(111)),p=R(a(924)),f=R(a(21)),m=R(a(5)),g=R(a(7)),h=R(a(4)),b=R(a(6)),v=R(a(232)),y=R(a(109));a(934),a(231),a(130);var k=a(1),C=R(k),S=a(37),x=a(114),E=R(a(35)),w=a(373),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(w),A=a(968),M=a(366),D=R(a(1184)),I=R(a(1185)),N=R(a(1186)),L=R(a(1188)),P=R(a(1189)),Z=R(a(1190)),O=a(19),j=R(a(1193)),V=a(133),F=R(a(26)),q=R(a(1195)),z=R(a(1198)),B=R(a(1201));function R(e){return e&&e.__esModule?e:{default:e}}var H=F.default.base,K=H.NCDiv,U=H.NCCheckbox,G=H.NCSelect,W=F.default.high,Y=(W.Refer,W.FormulaEditor),J=y.default.Search,Q=G.NCOption,X=v.default.TabPane,$={height:28,width:"100%"},ee=(n=function(e){function t(e){(0,m.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return r.call(a),a.urlRequestObj=(0,O.GetQuery)(a.props.location.search),a.pagecode=a.urlRequestObj.pcode,a.checkedAreaMap=new p.default,a.state={moneyModalVisibel:!1,referModalVisibel:!1,relateMetaModalVisibel:!1,customModalVisibel:!1,defaultValueModalVisibel:!1,customDocDefaultModalVisibel:!1,showformula:!1,editformula:!1,validateformula:!1,watermark:!1,filetype:!1,referFilterModalVisible:!1},a}var a;return(0,b.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){window["nc-lightapp-front"]=F.default}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectCard;if(!_.eq(this.props.selectCard,t)){var a=["issyncside","issyncfold","issynclist"];if(!(0,u.default)(t).some((function(e){return a.includes(e)})))return this.checkedAreaMap.clear(),!1;for(var n in t)if(a.includes(n)&&t[n]){var r=this.findAreaRelation(e,n)||{};if(null==r.pk_area)continue;this.checkedAreaMap.set(n,r.pk_area)}}}},{key:"getMyInput",value:function(e,t,a){var n=this,r=!1;if("width"==t&&(null!=this.props.selectCard[t]&&""!=this.props.selectCard[t]||(this.props.selectCard[t]="120")),r=(""!=a&&null!=a||"code"!=t)&&"code"==t,this.props.isImplement&&1==this.props.selectCard.isfixedcondition){["opersign","opersignname","defaultvalue"].includes(t)&&(r=!0)}return C.default.createElement("div",{fieldid:t},C.default.createElement(y.default,{disabled:r,style:$,value:this.props.selectCard[t],onChange:function(e){n.changeValue(e.target.value,t)},onBlur:function(e){"label"==t&&(n.props.updateSearchBox({reset:!0}),console.log("label modify")),n.updateCardInArea()},ref:function(e){return n[t+"input"]=e},onPressEnter:function(e){n.onPressEnter(e.target.value,t)}}))}},{key:"asyncUpdataCardAndAreaList",value:(a=(0,d.default)(c.default.mark((function e(t,a){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.updateSelectCard(t);case 2:return e.next=4,this.updateCardInArea();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,a=t.selectCard,n=(t.areaList,t.formula),r=t.selectedArea,l=t.json,o=void 0;if(_.isEmpty(r)&&_.isEmpty(a))o=null;else if(_.isEmpty(r)){var i=this.getMetaType(a),s=this.getAreaType();o="0"===s?i?this.getDom1():this.getDom2():this.getDom3(s,i)}else o=C.default.createElement(j.default,{json:this.props.json});return C.default.createElement(K,{className:"template-setting-right-sider template-setting-sider",fieldid:"right",areaCode:K.config.Area},C.default.createElement("div",{className:"sider-content"},C.default.createElement("div",{className:"sider-tab"},o)),n.showformula.visible&&C.default.createElement(Y,{value:n.showformula.value,isValidateOnOK:!0,validateUrl:"/nccloud/platform/formula/check.do",validateData:{areacodes:n.regionCode,pagecode:this.pagecode},formulaUrl:"/nccloud/platform/formula/control.do",treeParam:{pk_billtype:"CM02",bizmodelStyle:"fip",classid:""},noShowAttr:[(0,O.langCheck)("ZoneSetting-000106","pages",l)],show:n.showformula.visible,onHide:function(){e.props.toggleFormula("showformula",!1)},attrConfig:n.tab,onOk:function(t){return e.handleFormulaOkClick(t,"showformula")},onCancel:function(){e.props.toggleFormula("showformula",!1)}}),n.editformula.visible&&C.default.createElement(Y,{value:n.editformula.value,isValidateOnOK:!0,validateUrl:"/nccloud/platform/formula/check.do",validateData:{areacodes:n.regionCode,pagecode:this.pagecode},formulaUrl:"/nccloud/platform/formula/control.do",noShowAttr:[(0,O.langCheck)("ZoneSetting-000106","pages",l)],show:n.editformula.visible,onHide:function(){e.props.toggleFormula("editformula",!1)},attrConfig:n.tab,onOk:function(t){return e.handleFormulaOkClick(t,"editformula")},onCancel:function(){e.props.toggleFormula("editformula",!1)}}),n.validateformula.visible&&C.default.createElement(Y,{value:n.validateformula.value,isValidateOnOK:!0,validateUrl:"/nccloud/platform/formula/check.do",validateData:{areacodes:n.regionCode,pagecode:this.pagecode},formulaUrl:"/nccloud/platform/formula/control.do",noShowAttr:[(0,O.langCheck)("ZoneSetting-000106","pages",l)],show:n.validateformula.visible,onHide:function(){e.props.toggleFormula("validateformula",!1)},attrConfig:n.tab,onOk:function(t){return e.handleFormulaOkClick(t,"validateformula")},onCancel:function(){e.props.toggleFormula("validateformula",!1)}}),n.watermark.visible&&C.default.createElement(q.default,{handleSelectCardChange:function(t){e.asyncUpdataCardAndAreaList(t)},toggleFormula:this.props.toggleFormula,visible:n.watermark.visible,json:l}),n.filetype.visible&&C.default.createElement(z.default,{customHeader:(0,O.langCheck)("ZoneSetting-000288","pages",l),visible:n.filetype.visible,onOk:function(){e.props.toggleFormula("filetype",!1)},onCancel:function(){e.props.toggleFormula("filetype",!1)},json:l}))}}]),t}(k.Component),r=function(){var e=this;this.findAreaRelation=function(t,a){var n=t.selectCard,r=(t.json,t.newAreaList),l=e.getArea(n),o=e.transferNewAreaList(r);switch(e.checkAreaType(l)){case"table":var i=o.filter((function(e){return e})).find((function(e){return e.pk_area==l.pk_area})),s=i&&i.sides&&i.sides.find((function(e){return"edit"==e.areastatus})),c=i&&i.sides&&i.sides.find((function(e){return"browse"==e.areastatus}));switch(a){case"issyncside":return s;case"issyncfold":return c;default:return null}case"fold":var d=o.filter((function(e){return e})).find((function(e){return e.code==l.relationcode})),u=d&&d.sides&&d.sides.find((function(e){return"edit"==e.areastatus}));switch(a){case"issynclist":return d;case"issyncside":return u;default:return null}case"side":var p=o.filter((function(e){return e})).find((function(e){return e.code==l.relationcode})),f=p&&p.sides&&p.sides.find((function(e){return"browse"==e.areastatus}));switch(a){case"issynclist":return p;case"issyncfold":return f;default:return null}default:return null}},this.changeValue=function(t,a){var n=e.props.selectCard;_.isEmpty(n)||((n=(0,s.default)({},n))[a]=t,e.props.updateSelectCard(n))},this.changeCheckboxValue=function(t,a,n){var r=e.props.selectCard;if(!_.isEmpty(r)){if(r=_.cloneDeep(r),"visible"===a&&(r.visibleposition=""),e.props.isImplement&&"isfixedcondition"===a&&1==r.isfixedcondition){var l=e.getArea(r);e.queryFixedCondition({pk_template:e.props.zoneFormData.pk_page_templet,araecode:l.code,propcode:r.code},(function(n){r[a]=t,r.isfixedcondition=n,e.asyncUpdataCardAndAreaList(r,a)}))}else r[a]=t,e.asyncUpdataCardAndAreaList(r,a);["issyncside","issyncfold","issynclist"].includes(a)&&(t&&n?e.checkedAreaMap.set(a,n.pk_area):e.checkedAreaMap.delete(a))}},this.syncFields=function(t){var a=e.props.selectCard;a=_.cloneDeep(a);var n=["pk_form_property","pk_query_property","areaid","width","position","isnextrow","issyncside","issyncfold","issynclist"];if(0==e.checkedAreaMap.size)return!1;e.checkedAreaMap.forEach((function(e,r,l){var o=t.find((function(t){return t.pk_area==e})).queryPropertyList,s=!0;o.map((function(e,t){e.code==a.code&&(n.map((function(e){a.hasOwnProperty(e)&&delete a[e]})),o[t]=(0,i.default)(e,a),s=!1)})),s&&(n.map((function(t){"areaid"==t?a.areaid=e:["pk_query_property","pk_form_property"].includes(t)?a[t]="":a.hasOwnProperty(t)&&delete a[t]})),a.position=o.length+1,o.push(a))}))},this.getArea=function(t,a){var n=void 0;return(a=a||e.props.areaList).forEach((function(e,a){e.queryPropertyList.forEach((function(a,r){t.areaid!==a.areaid||(n=e)}))})),n},this.updateCardInArea=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.selectCard,a=e.props.areaList;if(!_.isEmpty(t)){var n=0,r=0;a=_.cloneDeep(a),_.forEach(a,(function(e,a){_.forEach(e.queryPropertyList,(function(e,l){if(e.areaid===t.areaid&&e.pk_query_property===t.pk_query_property)return n=a,r=l,!1}))})),a[n].queryPropertyList[r]=t,e.props.updateAreaList(a,!1,e.syncFields)}},this.getCardListInAreaBySelectCard=function(){var t=e.props,a=t.areaList,n=t.selectCard,r=0;return _.forEach(a,(function(e,t){if(e.pk_area===n.areaid)return r=t,!1})),a[r]?a[r].queryPropertyList:{}},this.onPressEnter=function(t,a){e[a+"input"].blur()},this.getMyNumberInput=function(t,a){return C.default.createElement("div",{fieldid:a},C.default.createElement(o.default,{min:1,max:20,value:e.props.selectCard[a],onChange:function(t){e.changeValue(t,a)},onBlur:function(t){e.updateCardInArea()},ref:function(t){return e[a+"input"]=t},onPressEnter:function(t){e.onPressEnter(t.target.value,a)}}))},this.getMyCheckbox=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];return e.props.isImplement&&1==e.props.selectCard.isfixedcondition&&"isuse"===t&&(a=!0),C.default.createElement("div",{fieldid:t},C.default.createElement(U,{disabled:a,checked:Boolean(e.props.selectCard[t]),onChange:function(a){e.changeCheckboxValue(a,t,n)}}))},this.handleSelectChange=function(t,a){var n=e.props.selectCard;_.isEmpty(n)||("mobiletitle"===a&&e.checkMobileTitleChange(t),"itemtype"===a&&("photo"===t?n.uploadquantity=10:"attachment"===t&&(n.uploadquantity="")),n=(0,s.default)({},n),void 0===a?n=(0,s.default)({},n,t):(n[a]=t,"datatype"===a&&(n.dataval="",n.itemtype=T.getItemtypeByDatatype(n.datatype),"31"!==t&&"52"!==t||(n.dataval="2,,"))),e.asyncUpdataCardAndAreaList(n,a))},this.getMySelect=function(t,a){return C.default.createElement("div",{fieldid:a},C.default.createElement(G,{showClear:!1,value:_.isEmpty(e.props.selectCard[a])?t[0].value:e.props.selectCard[a],onChange:function(t){e.handleSelectChange(t,a)},style:$,fieldid:a,multiple:"issupportphoto"==a},"color"===a?t.map((function(e,t){return C.default.createElement(Q,{key:t,value:e.value},C.default.createElement("span",{className:"template-setting-color-select"},C.default.createElement("span",null,e.name),C.default.createElement("span",{className:"color-select-color",style:{backgroundColor:e.value}})))})):t.map((function(e,t){return C.default.createElement(Q,{key:t,value:e.value},e.name)}))))},this.getMetaType=function(e){return!!e.metapath},this.getAreaType=function(){var t=e.props,a=t.areaList,n=t.selectCard,r=void 0;return _.forEach(a,(function(e,t){_.forEach(e.queryPropertyList,(function(t,a){n.areaid!==t.areaid||(r=e.areatype)}))})),r},this.setModalVisibel=function(t,a){e.setState((0,l.default)({},t,a))},this.getMySearch=function(t,a){var n=e.props.selectCard,r=n[t];if("57"===n.datatype)if("dataval"===t)r=n.refname;else if("defaultvalue"===t){var o=n.defaultvalue&&n.defaultvalue.split("=");r=o&&o[0]}return C.default.createElement("div",{fieldid:t},C.default.createElement(J,{disabled:e.getPropertyDisabled(t),style:$,value:r,onChange:function(){},onSearch:function(){e.setState((0,l.default)({},a,!0))}}))},this.getMyFormulaSearch=function(t){var a=e.props,n=a.selectCard,r=a.toggleFormula;return C.default.createElement("div",{fieldid:t},C.default.createElement(J,{style:$,value:n[t],onChange:function(){},onSearch:function(){M.handleFormula.call(e,n),r([t],{visible:!0,value:n[t]})}}))},this.getMyModalSearch=function(t){var a=e.props,n=a.selectCard,r=a.toggleFormula;return C.default.createElement("div",{fieldid:t},C.default.createElement(J,{className:"attachmentSearch",suffix:C.default.createElement("i",{className:"iconfont icon-danchuang",onClick:function(){M.handleFormula.call(e,n),r([t],{visible:!0,value:n[t]})}}),value:(0,w.watermarktype)(n.watermarktype),style:$,disabled:"filetype"==t&&"300"==n.datatype&&"photo"==n.itemtype}))},this.checkMobileTitleChange=function(t){var a=e.props.selectCard,n=a.mobiletitle,r=e.getCardListInAreaBySelectCard(),l=function(t){return(0,O.langCheck)("ZoneSetting-"+t,"pages",e.props.json)};if("1"===t||"3"===t){var o=r.find((function(e){return e.mobiletitle===t})),i=(0,w.mobileTitle)().find((function(e){return e.value===t})).name;if(o&&o.pk_query_property!==a.pk_query_property){var s=""+o.label+l("000253")+i+l("000254")+i+"？"+l("000255")+o.label+l("000256");(0,V.ControlTip)({status:"warning",title:(0,O.langCheck)("ZoneSetting-000207","pages",e.props.json),msg:s,onOk:function(){o.mobiletitle="0",e.updateCardInArea(o)},onCancel:function(){a.mobiletitle=n,e.asyncUpdataCardAndAreaList(a)}})}}},this.checkAreaType=function(e){var t=M.checkAreaType.isFold,a=M.checkAreaType.isTable,n=M.checkAreaType.isSide;return t(e)?"fold":a(e)?"table":n(e)?"side":void 0},this.transferNewAreaList=function(e){var t=[];return e.forEach((function(e){e&&(t.push(e),Array.isArray(e.tabs)&&(t=t.concat(e.tabs)))})),t},this.renderSyncCheckbox=function(){var t=e.props,a=t.selectCard,n=t.json,r=t.newAreaList,l=e.getArea(a),o=e.transferNewAreaList(r);if(l&&!l.newArea)switch(e.checkAreaType(l)){case"table":var i=o.filter((function(e){return e})).find((function(e){return e.pk_area==l.pk_area})),s=i&&i.sides&&i.sides.find((function(e){return"edit"==e.areastatus})),c=i&&i.sides&&i.sides.find((function(e){return"browse"==e.areastatus}));return C.default.createElement(C.default.Fragment,null,s&&C.default.createElement(C.default.Fragment,null,C.default.createElement("li",null,""+(0,O.langCheck)("ZoneSetting-000275","pages",n)+s.name),C.default.createElement("li",null,e.getMyCheckbox("issyncside",!1,s))),c&&C.default.createElement(C.default.Fragment,null,C.default.createElement("li",null,""+(0,O.langCheck)("ZoneSetting-000275","pages",n)+c.name),C.default.createElement("li",null,e.getMyCheckbox("issyncfold",!1,c))));case"fold":var d=o.filter((function(e){return e})).find((function(e){return e.code==l.relationcode})),u=d&&d.sides&&d.sides.find((function(e){return"edit"==e.areastatus}));return C.default.createElement(C.default.Fragment,null,d&&C.default.createElement(C.default.Fragment,null,C.default.createElement("li",null,""+(0,O.langCheck)("ZoneSetting-000275","pages",n)+d.name),C.default.createElement("li",null,e.getMyCheckbox("issynclist",!1,d))),u&&C.default.createElement(C.default.Fragment,null,C.default.createElement("li",null,""+(0,O.langCheck)("ZoneSetting-000275","pages",n)+u.name),C.default.createElement("li",null,e.getMyCheckbox("issyncside",!1,u))));case"side":var p=o.filter((function(e){return e})).find((function(e){return e.code==l.relationcode})),f=p&&p.sides&&p.sides.find((function(e){return"browse"==e.areastatus}));return C.default.createElement(C.default.Fragment,null,p&&C.default.createElement(C.default.Fragment,null,C.default.createElement("li",null,""+(0,O.langCheck)("ZoneSetting-000275","pages",n)+p.name),C.default.createElement("li",null,e.getMyCheckbox("issynclist",!1,p))),f&&C.default.createElement(C.default.Fragment,null,C.default.createElement("li",null,""+(0,O.langCheck)("ZoneSetting-000275","pages",n)+f.name),C.default.createElement("li",null,e.getMyCheckbox("issyncfold",!1,f))));default:return null}},this.renderCanEditFields=function(){var t=[{key:"#a",name:(0,O.langCheck)("ZoneSetting-000192","pages",e.props.json)},{key:"#b",name:(0,O.langCheck)("ZoneSetting-000193","pages",e.props.json)},{key:"#c",name:(0,O.langCheck)("ZoneSetting-000194","pages",e.props.json)},{key:"#d",name:(0,O.langCheck)("ZoneSetting-000195","pages",e.props.json)}];if(!e.props.isImplement)return t.map((function(t){return[C.default.createElement("li",null,t.name),C.default.createElement("li",null,e.getMyCheckbox(t.key))]}))},this.renderCustomDocRefer=function(){var t=e.props,a=t.selectCard,n=t.json;return C.default.createElement("li",null,e.getMySearch("defaultvalue","customDocDefaultModalVisibel"),C.default.createElement(Z.default,{docPk:a.dataval,refname:a.refname,isgrade:a.isgrade,handleSelectChange:e.handleSelectChange,defaultvalue:a.defaultvalue,modalVisibel:e.state.customDocDefaultModalVisibel,setModalVisibel:e.setModalVisibel,json:n,isMultiSelectedEnabled:a.ismultiselectedenabled}))},this.renderMoneyModal=function(){var t=e.props.selectCard;return C.default.createElement("li",null,e.getMySearch("dataval","moneyModalVisibel"),C.default.createElement(D.default,{datatype:t.datatype,handleSelectChange:e.handleSelectChange,initVal:t.dataval,modalVisibel:e.state.moneyModalVisibel,setModalVisibel:e.setModalVisibel}))},this.getPropertyDisabled=function(t){var a=e.props,n=a.selectCard,r=a.isImplement;return"defaultvalue"===t&&(r&&1==n.isfixedcondition)},this.queryFixedCondition=function(t,a){(0,E.default)({url:"/nccloud/platform/templet/checkfixedconditionaction.do",data:t,info:{name:(0,O.langCheck)("ZoneSetting-000017","pages",e.props.json),action:(0,O.langCheck)("ZoneSetting-000200","pages",e.props.json)},success:function(e){var t=e.data,n=t.success,r=t.data;n&&a(r)}})},this.renderSearchFilterItems=function(){var t=e.props,a=t.json,n=t.selectCard,r=e.getCardListInAreaBySelectCard();return C.default.createElement(k.Fragment,null,C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000328","pages",a)),C.default.createElement("li",null,e.getMySelect(T.permOrgItem(),"orgrights")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000331","pages",a)),C.default.createElement("li",null,e.getMySearch("refcondition","referFilterModalVisible"),e.state.referFilterModalVisible&&C.default.createElement(B.default,{json:a,selectCard:n,handleSelectChange:e.handleSelectChange,modalVisibel:e.state.referFilterModalVisible,cards:r,setModalVisibel:e.setModalVisibel})))},this.getDom1=function(){var t=e.props,a=t.selectCard,n=t.json;console.log("selectCard--",a);var r=a.metapath;return C.default.createElement(v.default,{defaultActiveKey:"1",renderTabBar:function(e,t){return C.default.createElement(K,{areaCode:K.config.TABS}," ",C.default.createElement(t,e))}},C.default.createElement(X,{tab:(0,O.langCheck)("ZoneSetting-000075","pages",n),key:"1"},C.default.createElement("ul",{className:"basic-property"},C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000076","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000076","pages",n),"label")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000077","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000077","pages",n),"resid")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000078","pages",n)),function(){if(a.isdefined)return C.default.createElement("li",null,e.getMySelect((0,w.dataTypeObj)(),"datatype"));var t=T.getObjNameByDatatype(a.datatype,(0,w.dataTypeObj)());return t=""===t?a.datatype:t,C.default.createElement("li",null,t)}(),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000022","pages",n)),"203"==a.datatype||"32"==a.datatype?C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000022","pages",n),"showdataval")):C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000022","pages",n),"dataval")),function(){if("203"==a.datatype||"32"==a.datatype)return C.default.createElement("li",{style:{display:"none"}},(0,O.langCheck)("ZoneSetting-000022","pages",n))}(),function(){if("203"==a.datatype||"32"==a.datatype)return C.default.createElement("li",{style:{display:"none"}},e.getMyInput((0,O.langCheck)("ZoneSetting-000022","pages",n),"dataval"))}(),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000032","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000032","pages",n),"maxlength")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000079","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("isnotmeta")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000080","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("isuse")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000081","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000081","pages",n),"code",r)),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000082","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000082","pages",n),"opersign")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000083","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000083","pages",n),"opersignname")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000084","pages",n)),"204"===a.datatype&&"-99"!==a.refname?C.default.createElement("li",null,e.getMySearch("defaultvalue","defaultValueModalVisibel"),C.default.createElement(P.default,{areatype:"0",refcode:a.refcode,refname:a.refname,isMultiSelectedEnabled:Boolean(a.ismultiselectedenabled),handleSelectChange:e.handleSelectChange,defaultvalue:a.defaultvalue,modalVisibel:e.state.defaultValueModalVisibel,setModalVisibel:e.setModalVisibel})):"57"===a.datatype&&a.dataval?e.renderCustomDocRefer():C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000084","pages",n),"defaultvalue")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000085","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("disabled",e.props.isImplement&&(!0===a["#a"]||!0===a["#b"]))),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000086","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("visible")),function(){if(a.visible)return[C.default.createElement("li",{key:"visibleposition0"},(0,O.langCheck)("ZoneSetting-000087","pages",n)),C.default.createElement("li",{key:"visibleposition1"},e.getMyInput((0,O.langCheck)("ZoneSetting-000087","pages",n),"visibleposition"))]}(),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000088","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("ismultiselectedenabled")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000089","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("isfixedcondition")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000090","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("required")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000091","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("isquerycondition")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000030","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000030","pages",n),"refname")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000092","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("containlower")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000093","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("ischeck")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000094","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("isbeyondorg")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000095","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("usefunc")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000096","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000096","pages",n),"tablecode")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000097","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000097","pages",n),"querytablename")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000098","pages",n)),C.default.createElement("li",null,e.getMySelect(T.getItemtypeObjByDatatype(a.datatype),"itemtype")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000099","pages",n)),C.default.createElement("li",null,e.getMySelect((0,w.showType)(),"showtype")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000100","pages",n)),C.default.createElement("li",null,e.getMySelect((0,w.returnType)(),"returntype")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000101","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000101","pages",n),"define1")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000102","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000102","pages",n),"define2")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000103","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000103","pages",n),"define3")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000104","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000104","pages",n),"define4")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000105","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000105","pages",n),"define5")),"204"===a.datatype&&e.renderSearchFilterItems())))},this.getDom2=function(){var t=e.props,a=t.selectCard,n=t.json,r=a.metapath;return console.log("selectCard=",a),C.default.createElement(v.default,{defaultActiveKey:"1",renderTabBar:function(e,t){return C.default.createElement(K,{areaCode:K.config.TABS}," ",C.default.createElement(t,e))}},C.default.createElement(X,{tab:(0,O.langCheck)("ZoneSetting-000075","pages",n),key:"1"},C.default.createElement("ul",{className:"basic-property"},C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000076","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000076","pages",n),"label")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000077","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000077","pages",n),"resid")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000079","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("isnotmeta")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000080","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("isuse")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000106","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000106","pages",n),"metadataproperty")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000032","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000032","pages",n),"maxlength")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000081","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000081","pages",n),"code",r)),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000082","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000082","pages",n),"opersign")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000083","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000083","pages",n),"opersignname")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000084","pages",n)),"204"===a.datatype&&"-99"!==a.refname?C.default.createElement("li",null,e.getMySearch("defaultvalue","defaultValueModalVisibel"),C.default.createElement(P.default,{areatype:"0",refcode:a.refcode,refname:a.refname,isMultiSelectedEnabled:Boolean(a.ismultiselectedenabled),handleSelectChange:e.handleSelectChange,defaultvalue:a.defaultvalue,modalVisibel:e.state.defaultValueModalVisibel,setModalVisibel:e.setModalVisibel})):"57"===a.datatype&&a.dataval?e.renderCustomDocRefer():C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000084","pages",n),"defaultvalue")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000085","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("disabled",e.props.isImplement&&(!0===a["#a"]||!0===a["#b"]))),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000086","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("visible")),function(){if(a.visible)return[C.default.createElement("li",{key:"visibleposition0"},(0,O.langCheck)("ZoneSetting-000087","pages",n)),C.default.createElement("li",{key:"visibleposition1"},e.getMyInput((0,O.langCheck)("ZoneSetting-000087","pages",n),"visibleposition"))]}(),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000088","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("ismultiselectedenabled")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000089","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("isfixedcondition")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000090","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("required")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000091","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("isquerycondition")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000030","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000030","pages",n),"refname")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000092","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("containlower")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000093","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("ischeck")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000094","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("isbeyondorg")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000095","pages",n)),C.default.createElement("li",null,e.getMyCheckbox("usefunc")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000096","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000096","pages",n),"tablecode")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000097","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000097","pages",n),"querytablename")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000099","pages",n)),C.default.createElement("li",null,e.getMySelect((0,w.showType)(),"showtype")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000100","pages",n)),C.default.createElement("li",null,e.getMySelect((0,w.returnType)(),"returntype")))),C.default.createElement(X,{tab:(0,O.langCheck)("ZoneSetting-000107","pages",n),key:"2"},C.default.createElement("ul",{className:"basic-property"},C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000078","pages",n)),C.default.createElement("li",null,e.getMySelect((0,w.dataTypeObj)(),"datatype")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000022","pages",n)),"203"==a.datatype||"32"==a.datatype?C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000022","pages",n),"showdataval")):"31"===a.datatype||"52"===a.datatype||"4"===a.datatype?e.renderMoneyModal():C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000022","pages",n),"dataval")),function(){if("203"==a.datatype||"32"==a.datatype)return C.default.createElement("li",{style:{display:"none"}},(0,O.langCheck)("ZoneSetting-000022","pages",n))}(),function(){if("203"==a.datatype||"32"==a.datatype)return C.default.createElement("li",{style:{display:"none"}},e.getMyInput((0,O.langCheck)("ZoneSetting-000022","pages",n),"dataval"))}(),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000098","pages",n)),C.default.createElement("li",null,e.getMySelect(T.getItemtypeObjByDatatype(a.datatype),"itemtype")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000101","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000101","pages",n),"define1")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000102","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000102","pages",n),"define2")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000103","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000103","pages",n),"define3")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000104","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000104","pages",n),"define4")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000105","pages",n)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000105","pages",n),"define5")),"204"===a.datatype&&e.renderSearchFilterItems())))},this.getDom3=function(t,a){var n=e.props,r=n.selectCard,l=n.json,o=n.formula;console.log("selectCard-------",r);var i="204"===r.datatype?"block":"none",s=e.getCardListInAreaBySelectCard(),c=r.metapath,d={areacodes:o.regionCode};return console.log("validateDataParm-----------",d),C.default.createElement(v.default,{defaultActiveKey:"1",renderTabBar:function(e,t){return C.default.createElement(K,{areaCode:K.config.TABS}," ",C.default.createElement(t,e))}},C.default.createElement(X,{tab:(0,O.langCheck)("ZoneSetting-000075","pages",l),key:"1"},C.default.createElement("ul",{className:"basic-property"},C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000076","pages",l)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000076","pages",l),"label")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000077","pages",l)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000077","pages",l),"resid")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000081","pages",l)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000081","pages",l),"code",c)),function(){if(!a)return[C.default.createElement("li",{key:"metadataproperty0"},(0,O.langCheck)("ZoneSetting-000106","pages",l)),C.default.createElement("li",{key:"metadataproperty1"},e.getMyInput((0,O.langCheck)("ZoneSetting-000106","pages",l),"metadataproperty"))]}(),"1"===t?[C.default.createElement("li",{key:"colnum0"},(0,O.langCheck)("ZoneSetting-000031","pages",l)),C.default.createElement("li",{key:"colnum1"},e.getMySelect(T.colnumObj,"colnum"))]:[C.default.createElement("li",{key:"width0"},(0,O.langCheck)("ZoneSetting-000108","pages",l)),C.default.createElement("li",{key:"width1"},e.getMyInput((0,O.langCheck)("ZoneSetting-000108","pages",l),"width"))],C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000032","pages",l)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000032","pages",l),"maxlength")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000109","pages",l)),C.default.createElement("li",null,e.getMyCheckbox("isrevise",e.props.isImplement&&(!0===r["#a"]||!0===r["#d"]))),"1"===t?[C.default.createElement("li",{key:"nextrow0"},(0,O.langCheck)("ZoneSetting-000110","pages",l)),C.default.createElement("li",{key:"nextrow1"},e.getMyCheckbox("isnextrow"))]:[C.default.createElement("li",{key:"istotal0"},(0,O.langCheck)("ZoneSetting-000111","pages",l)),C.default.createElement("li",{key:"istotal1"},e.getMyCheckbox("istotal",e.props.isImplement&&!0===r["#a"]))],C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000112","pages",l)),C.default.createElement("li",null,e.getMyCheckbox("visible",e.props.isImplement&&(!0===r["#a"]||!0===r["#c"]))),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000113","pages",l)),C.default.createElement("li",null,e.getMyCheckbox("required",e.props.isImplement&&!0===r["#a"])),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000085","pages",l)),C.default.createElement("li",null,e.getMyCheckbox("disabled",e.props.isImplement&&(!0===r["#a"]||!0===r["#b"]))),e.renderSyncCheckbox(),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000084","pages",l)),"204"!==r.datatype||_.isUndefined(r.refcode)||""===r.refcode||null===r.refcode?"57"===r.datatype&&r.dataval?e.renderCustomDocRefer():C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000084","pages",l),"defaultvalue")):C.default.createElement("li",null,e.getMySearch("defaultvalue","defaultValueModalVisibel"),C.default.createElement(P.default,{refcode:r.refcode,refname:r.refname,isMultiSelectedEnabled:Boolean(r.ismultiselectedenabled),handleSelectChange:e.handleSelectChange,defaultvalue:r.defaultvalue,modalVisibel:e.state.defaultValueModalVisibel,setModalVisibel:e.setModalVisibel})),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000114","pages",l)),C.default.createElement("li",null,e.getMySelect(T.defaultvarObj,"defaultvar")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000115","pages",l)),C.default.createElement("li",null,e.getMySelect((0,w.colorObj)(),"color")),e.props.ismobile&&"2"===e.getAreaType()&&[C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000233","pages",l)),C.default.createElement("li",null,e.getMySelect((0,w.mobileTitle)(),"mobiletitle"))])),C.default.createElement(X,{tab:(0,O.langCheck)("ZoneSetting-000107","pages",l),key:"2"},C.default.createElement("ul",{className:"basic-property"},C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000078","pages",l)),function(){if(a){if(r.isdefined)return C.default.createElement("li",null,e.getMySelect((0,w.dataTypeObj)(),"datatype"));var t=T.getObjNameByDatatype(r.datatype,(0,w.dataTypeObj)());return t=""===t?r.datatype:t,C.default.createElement("li",null,t)}return C.default.createElement("li",null,e.getMySelect((0,w.dataTypeObj)(),"datatype"))}(),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000022","pages",l)),function(){switch(!0){case"204"===r.datatype:return C.default.createElement("li",null,e.getMySearch("refname","referModalVisibel"),C.default.createElement(I.default,{handleSelectChange:e.handleSelectChange,dataval:r.dataval,refname:r.refname,showfocus:r.showfocus,iscode:r.iscode,onlyLeafCanSelect:r.onlyLeafCanSelect,isdatapowerenable:r.isdatapowerenable,modalVisibel:e.state.referModalVisibel,setModalVisibel:e.setModalVisibel}));case"31"===r.datatype||"52"===r.datatype||"4"===r.datatype:return e.renderMoneyModal();case"57"===r.datatype:return C.default.createElement("li",null,e.getMySearch("dataval","customModalVisibel"),C.default.createElement(N.default,{handleSelectChange:e.handleSelectChange,initVal:r.dataval,refname:r.refname,showfocus:r.showfocus,iscode:r.iscode,onlyLeafCanSelect:r.onlyLeafCanSelect,isdatapowerenable:r.isdatapowerenable,modalVisibel:e.state.customModalVisibel,setModalVisibel:e.setModalVisibel}));case"203"===r.datatype:case"32"===r.datatype:return C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000022","pages",l),"showdataval"));default:return C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000022","pages",l),"dataval"))}}(),function(){if("203"==r.datatype||"32"==r.datatype)return C.default.createElement("li",{style:{display:"none"}},(0,O.langCheck)("ZoneSetting-000022","pages",l))}(),function(){if("203"==r.datatype||"32"==r.datatype)return C.default.createElement("li",{style:{display:"none"}},e.getMyInput((0,O.langCheck)("ZoneSetting-000022","pages",l),"dataval"))}(),function(){if(a&&!r.isdefined)return C.default.createElement("li",{style:{display:i}},(0,O.langCheck)("ZoneSetting-000071","pages",l))}(),function(){if(a&&!r.isdefined)return C.default.createElement("li",{style:{display:i}},e.getMySearch("relatemeta","relateMetaModalVisibel"),C.default.createElement(L.default,{cards:s,handleSelectChange:e.handleSelectChange,initVal:r.relatemeta,modalVisibel:e.state.relateMetaModalVisibel,setModalVisibel:e.setModalVisibel}))}(),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000098","pages",l)),C.default.createElement("li",null,e.getMySelect(T.getItemtypeObjByDatatype(r.datatype),"itemtype")),function(){if(e.props.ismobile&&"300"==r.datatype)return C.default.createElement(k.Fragment,null,C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000285","pages",l)),C.default.createElement("li",null,C.default.createElement("li",null,e.getMyCheckbox("issupportphoto"))),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000286","pages",l)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000286","pages",l),"uploadquantity")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000287","pages",l)),C.default.createElement("li",null,e.getMyModalSearch("watermark")))}(),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000116","pages",l)),C.default.createElement("li",null,e.getMyFormulaSearch("showformula")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000117","pages",l)),C.default.createElement("li",null,e.getMyFormulaSearch("editformula")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000118","pages",l)),C.default.createElement("li",null,e.getMyFormulaSearch("validateformula")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000119","pages",l)),C.default.createElement("li",null,e.getMyCheckbox("hyperlinkflag")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000120","pages",l)),C.default.createElement("li",{title:r.metapath,className:"metapath"},r.metapath),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000101","pages",l)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000101","pages",l),"define1")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000102","pages",l)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000102","pages",l),"define2")),C.default.createElement("li",null,(0,O.langCheck)("ZoneSetting-000103","pages",l)),C.default.createElement("li",null,e.getMyInput((0,O.langCheck)("ZoneSetting-000103","pages",l),"define3")))))},this.onCellChange=function(t,a){return function(n){var r=e.props.batchSource,l=(r=_.cloneDeep(r))[t];l&&(l[a]=n,e.props.updateBatchSource(r))}},this.handleFormulaOkClick=function(t,a){var n=e.props.currentBatchCell,r=n.index,l=n.code;_.isEmpty(e.props.selectCard)?e.onCellChange(r,l)(t):e.handleSelectChange(t,a),e.props.toggleFormula(a,!1)}},n);t.default=(0,S.connect)((function(e){return{areaList:e.zoneSettingData.areaList,selectCard:e.zoneSettingData.selectCard,formula:e.zoneSettingData.formula,selectedArea:e.zoneSettingData.selectedArea,currentBatchCell:e.zoneSettingData.currentBatchCell,batchSource:e.zoneSettingData.batchSource,zoneFormData:e.zoneSettingData.zoneFormData,isImplement:e.zoneSettingData.isImplement,newAreaList:e.zoneSettingData.newAreaList,ismobile:e.zoneSettingData.ismobile}}),{updateAreaList:A.updateAreaList,updateSelectCard:A.updateSelectCard,updateBatchSource:A.updateBatchSource,toggleFormula:A.toggleFormula,setFormulaInfo:A.setFormulaInfo,updateSearchBox:A.updateSearchBox})((0,x.withRouter)(ee))},1184:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(a(936)),r=h(a(3)),l=h(a(21)),o=h(a(5)),i=h(a(7)),s=h(a(4)),c=h(a(6));a(934);var d=a(1),u=h(d),p=h(a(364)),f=h(a(68)),m=a(19),g=a(365);function h(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){(0,o.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel("moneyModalVisibel",!1)},a.onOkDialog=function(){var e=a.state,t=e.small,n=e.big,r=e.customScale,l=e.json,o=a.props.datatype,i=void 0;if(""!==t&&""!==n&&Number(t)>=Number(n))return(0,f.default)({status:"error",msg:(0,m.langCheck)("ZoneSetting-000056","pages",l)});i="4"===o?t+","+n:r+","+t+","+n,a.props.handleSelectChange(i,"dataval"),a.showModalHidden()},a.saveValue=function(e,t){(_.isNull(t)||_.isUndefined(t))&&(t=""),a.setState((0,r.default)({},e,t))},a.state={initVal:a.props.initVal,small:"",big:"",customScale:"",json:{}},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;!0===e.modalVisibel&&this.setState({initVal:e.initVal},(function(){var a=e.datatype,n=t.state.initVal;if(""===n||null===n)t.setState({customScale:"4"===a?0:2,small:"",big:""});else{var r=n&&n.split(",");"4"===a?t.setState({customScale:0,small:r&&3===n.length?r[1]:n&&2===n.length?r[0]:"",big:r?r[r.length-1]:""}):t.setState({customScale:r?r[0]:31,small:r?r[1]:"",big:r?r[2]:""})}}))}},{key:"componentDidMount",value:function(){var e=this;(0,g.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.customScale,r=t.small,l=t.big,o=t.json,i=this.props.datatype;return u.default.createElement("div",{className:"myZoneModal"},u.default.createElement(p.default,{closable:!1,customHeader:(0,m.langCheck)("ZoneSetting-000022","pages",o),wrapClassName:"zonesetting-moneyModal",visible:this.props.modalVisibel,okText:(0,m.langCheck)("ZoneSetting-000005","pages",o),cancelText:(0,m.langCheck)("ZoneSetting-000006","pages",o),onOk:this.onOkDialog,destroyOnClose:!0,onCancel:this.showModalHidden,fieldid:"money"},function(){if("4"!==i)return u.default.createElement("div",null,u.default.createElement("div",{className:"descrip_label"},(0,m.langCheck)("ZoneSetting-000057","pages",o)," "),u.default.createElement("div",{className:"mdcontent"},u.default.createElement("div",null,u.default.createElement("span",{className:"money-label"}," ",(0,m.langCheck)("ZoneSetting-000058","pages",o)),u.default.createElement(n.default,{precision:0,min:0,max:8,value:a,onChange:function(t){e.saveValue("customScale",t)}}))))}(),u.default.createElement("div",null,u.default.createElement("div",{className:"descrip_label"},(0,m.langCheck)("ZoneSetting-000059","pages",o)," "),u.default.createElement("div",{className:"mdcontent"},u.default.createElement("div",null,u.default.createElement("span",{className:"money-label"},(0,m.langCheck)("ZoneSetting-000060","pages",o)),u.default.createElement(n.default,{precision:a,value:r,onChange:function(t){e.saveValue("small",t)}})),u.default.createElement("div",null,u.default.createElement("span",{className:"money-label"},(0,m.langCheck)("ZoneSetting-000061","pages",o)),u.default.createElement(n.default,{value:l,precision:a,onChange:function(t){e.saveValue("big",t)}}))))))}}]),t}(d.Component);t.default=b},1185:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(134)),r=y(a(135)),l=y(a(21)),o=y(a(5)),i=y(a(7)),s=y(a(4)),c=y(a(6)),d=y(a(56));a(132);var u=a(1),p=y(u),f=y(a(89)),m=y(a(35)),g=a(37),h=y(a(364)),b=a(19),v=a(365);function y(e){return e&&e.__esModule?e:{default:e}}var k=y(a(26)).default.base.NCRadio,C=d.default.Option;function S(e){var t=e.labelName,a=e.selectedValue,n=e.onChange;return p.default.createElement("div",{className:"mdcontentItem"},p.default.createElement("span",{className:"refer_label"},t),p.default.createElement(k.NCRadioGroup,{selectedValue:a,onChange:n},e.children))}var x=function(e){function t(e){(0,o.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel("referModalVisibel",!1)},a.asyncChange=function(e,t,n,r,l,o){a.props.handleSelectChange({refname:e,dataval:t+",code="+n,showfocus:r,onlyLeafCanSelect:l,isdatapowerenable:o})},a.handleSelectChange=function(e,t){a.setState({pk_refinfo:e,refname:t})},a.checkboxChange=function(e){a.setState({showfocus:e})},a.leafChange=function(e){a.setState({onlyLeafCanSelect:e})},a.isDataPowerEnableChange=function(e){a.setState({isdatapowerenable:e})},a.state={pk_refinfo:"",refname:a.props.refname,showfocus:a.props.showfocus,iscode:a.props.iscode,onlyLeafCanSelect:a.props.onlyLeafCanSelect,isdatapowerenable:a.props.isdatapowerenable,option:[],json:{}},a.onOkDialog=a.onOkDialog.bind(a),a}var a;return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.state.json;if(!0===e.modalVisibel){var n=this.props.dataval;if(!f.default.isEmpty(n)){var r=n.split(",")[0],l=e.iscode&&!0===e.iscode?"0":"1";this.setState({pk_refinfo:r,refname:e.refname,showfocus:e.showfocus||l,iscode:e.iscode,onlyLeafCanSelect:e.onlyLeafCanSelect||!1,isdatapowerenable:e.isdatapowerenable||!1})}var o;"/nccloud/platform/templet/queryrefinfo.do",o={defdoc:e.selectCard&&e.selectCard.metaid},(0,m.default)({url:"/nccloud/platform/templet/queryrefinfo.do",data:o,info:{name:(0,b.langCheck)("ZoneSetting-000062","pages",a),action:(0,b.langCheck)("ZoneSetting-000063","pages",a)},success:function(e){var a=e.data;a.success&&a.data?t.setState({option:a.data}):Notice({status:"error",msg:a.data.true})}})}}},{key:"onOkDialog",value:(a=(0,r.default)(n.default.mark((function e(){var t,a,r,l,o,i,s,c,d,u,p=this;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.refname,r=t.showfocus,l=t.onlyLeafCanSelect,o=t.pk_refinfo,i=t.option,s=t.json,c=t.isdatapowerenable,d=r,!((u=f.default.filter(i,(function(e){return e.pk_refinfo===o})))&&u.length&&u[0].refpath)){e.next=6;break}return e.next=6,this.props.handleSelectChange(u[0].refpath,"refcode");case 6:return e.next=8,this.asyncChange(a,o,d,r,l,c);case 8:(0,m.default)({url:"/nccloud/platform/templet/getMetaByRefName.do",info:{scode:(0,b.langCheck)("ZoneSetting-000064","pages",s),action:(0,b.langCheck)("ZoneSetting-000065","pages",s)},data:{showfocus:d||"1",onlyLeafCanSelect:l||!1,refname:a},success:function(e){if(e){var t=e.data,a=t.data,n=t.success;n&&a&&p.props.handleSelectChange(a,"metadataproperty")}}}),this.showModalHidden();case 10:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentDidMount",value:function(){var e=this;(0,v.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.showfocus,n=(t.iscode,t.onlyLeafCanSelect),r=t.option,l=t.refname,o=t.json,i=t.isdatapowerenable;return p.default.createElement("div",{className:"myZoneModal"},p.default.createElement(h.default,{customHeader:(0,b.langCheck)("ZoneSetting-000066","pages",o),wrapClassName:"zonesetting-referModal",visible:this.props.modalVisibel,okText:(0,b.langCheck)("ZoneSetting-000005","pages",o),cancelText:(0,b.langCheck)("ZoneSetting-000006","pages",o),onOk:this.onOkDialog,destroyOnClose:!0,onCancel:this.showModalHidden,fieldid:"referType"},p.default.createElement("div",{style:{margin:20}},p.default.createElement("div",{className:"descrip_label"},(0,b.langCheck)("ZoneSetting-000067","pages",o)," "),p.default.createElement("div",{className:"mdcontent"},p.default.createElement("div",{className:"mdcontentItem"},p.default.createElement("span",{className:"refer_label"},(0,b.langCheck)("ZoneSetting-000068","pages",o)),p.default.createElement(d.default,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},value:l,onChange:function(t,a){e.handleSelectChange(t,a.props.children)},style:{width:200}},r.map((function(e,t){return p.default.createElement(C,{key:t,value:e.pk_refinfo},e.name)})))))),p.default.createElement("div",{style:{margin:20}},p.default.createElement("div",{className:"descrip_label"},(0,b.langCheck)("ZoneSetting-000069","pages",o)," "),p.default.createElement("div",{className:"mdcontent"},p.default.createElement(S,{labelName:(0,b.langCheck)("ZoneSetting-000070","pages",o),selectedValue:a,onChange:this.checkboxChange},p.default.createElement(k,{value:"0"},(0,b.langCheck)("ZoneSetting-000081","pages",o)),p.default.createElement(k,{value:"1"},(0,b.langCheck)("ZoneSetting-000131","pages",o)),p.default.createElement(k,{value:"2"},(0,b.langCheck)("ZoneSetting-000243","pages",o))),p.default.createElement(S,{labelName:(0,b.langCheck)("ZoneSetting-000232","pages",o),selectedValue:n,onChange:this.leafChange},p.default.createElement(k,{value:!0},(0,b.langCheck)("ZoneSetting-000229","pages",o)),p.default.createElement(k,{value:!1},(0,b.langCheck)("ZoneSetting-000230","pages",o))),p.default.createElement(S,{labelName:(0,b.langCheck)("ZoneSetting-000327","pages",o),selectedValue:i,onChange:this.isDataPowerEnableChange},p.default.createElement(k,{value:!0},(0,b.langCheck)("ZoneSetting-000229","pages",o)),p.default.createElement(k,{value:!1},(0,b.langCheck)("ZoneSetting-000230","pages",o)))))))}}]),t}(u.Component);t.default=(0,g.connect)((function(e){return{selectCard:e.zoneSettingData.selectCard}}),{})(x)},1186:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(21)),r=g(a(5)),l=g(a(7)),o=g(a(4)),i=g(a(6)),s=a(1),c=g(s),d=a(37),u=g(a(364)),p=g(a(1187)),f=a(19),m=a(365);function g(e){return e&&e.__esModule?e:{default:e}}var h=g(a(26)).default.base.NCRadio,b=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel("customModalVisibel",!1)},a.onOkDialog=function(){var e=a.state,t=e.initVal,n=e.showfocus,r=e.onlyLeafCanSelect,l=e.refname,o=e.isgrade,i=e.isdatapowerenable;a.props.handleSelectChange({dataval:t,showfocus:n||"1",onlyLeafCanSelect:r||!1,isdatapowerenable:i||!1,refname:l,defaultvalue:"",isgrade:o}),a.showModalHidden()},a.checkboxChange=function(e){a.setState({showfocus:e})},a.leafChange=function(e){a.setState({onlyLeafCanSelect:e})},a.isDataPowerEnableChange=function(e){a.setState({isdatapowerenable:e})},a.state={initVal:a.props.initVal,refname:a.props.refname,showfocus:a.props.showfocus,iscode:a.props.iscode,onlyLeafCanSelect:a.props.onlyLeafCanSelect,isdatapowerenable:a.props.isdatapowerenable,isgrade:"",json:{}},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({initVal:e.initVal,refname:e.refname,showfocus:e.showfocus,iscode:e.iscode,onlyLeafCanSelect:e.onlyLeafCanSelect,isdatapowerenable:e.isdatapowerenable})}},{key:"componentDidMount",value:function(){var e=this;(0,m.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.initVal,n=t.showfocus,r=t.iscode,l=t.onlyLeafCanSelect,o=t.refname,i=t.json,s=t.isdatapowerenable;return c.default.createElement("div",{className:"myZoneModal"},c.default.createElement(u.default,{closable:!1,title:(0,f.langCheck)("ZoneSetting-000022","pages",i),wrapClassName:"zonesetting-customModal",visible:this.props.modalVisibel,okText:(0,f.langCheck)("ZoneSetting-000005","pages",i),cancelText:(0,f.langCheck)("ZoneSetting-000006","pages",i),onOk:this.onOkDialog,destroyOnClose:!0,onCancel:this.showModalHidden,fieldid:"custom"},c.default.createElement("div",{className:"def-refer"},c.default.createElement(p.default,{value:{refpk:a,refname:o,refcode:""},placeholder:(0,f.langCheck)("ZoneSetting-000023","pages",i),fieldid:"defdocList",onChange:function(t){e.setState({initVal:t&&t.refpk,refname:t&&t.refname,isgrade:t&&t.values&&t.values.isgrade&&t.values.isgrade.value})}})),c.default.createElement("div",{className:"mdcontent"},c.default.createElement("div",{className:"mdcontentItem"},c.default.createElement("span",{className:"refer_label"},(0,f.langCheck)("ZoneSetting-000070","pages",i)),c.default.createElement(h.NCRadioGroup,{selectedValue:n||(r&&!0===r?"0":"1"),onChange:this.checkboxChange},c.default.createElement(h,{value:"0"},(0,f.langCheck)("ZoneSetting-000081","pages",i)),c.default.createElement(h,{value:"1"},(0,f.langCheck)("ZoneSetting-000131","pages",i)),c.default.createElement(h,{value:"2"},(0,f.langCheck)("ZoneSetting-000243","pages",i)))),c.default.createElement("div",{className:"mdcontentItem"},c.default.createElement("span",{className:"refer_label"},(0,f.langCheck)("ZoneSetting-000232","pages",i)),c.default.createElement(h.NCRadioGroup,{selectedValue:l||!1,onChange:this.leafChange},c.default.createElement(h,{value:!0},(0,f.langCheck)("ZoneSetting-000229","pages",i)),c.default.createElement(h,{value:!1},(0,f.langCheck)("ZoneSetting-000230","pages",i)))),c.default.createElement("div",{className:"mdcontentItem"},c.default.createElement("span",{className:"refer_label"},(0,f.langCheck)("ZoneSetting-000327","pages",i)),c.default.createElement(h.NCRadioGroup,{selectedValue:s||!1,onChange:this.isDataPowerEnableChange},c.default.createElement(h,{value:!0},(0,f.langCheck)("ZoneSetting-000229","pages",i)),c.default.createElement(h,{value:!1},(0,f.langCheck)("ZoneSetting-000230","pages",i)))))))}}]),t}(s.Component);t.default=(0,d.connect)((function(e){return{selectCard:e.zoneSettingData.selectCard}}),{})(b)},1187:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(169));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={refType:"grid",refName:(0,o.langCheck)("0000PUB-000061"),placeholder:(0,o.langCheck)("0000PUB-000061"),refCode:"uapbd.refer.userdef.DefdocListGridRef",queryGridUrl:"/nccloud/uapbd/userdef/DefdocListGridRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:[(0,o.langCheck)("0000PUB-000062"),(0,o.langCheck)("0000PUB-000063")],code:["code","name"]}]};return r.default.createElement(s,(0,n.default)(t,e))};var r=i(a(1)),l=a(919),o=a(19);function i(e){return e&&e.__esModule?e:{default:e}}var s=l.high.Refer},1188:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=x(a(11)),r=x(a(17)),l=x(a(2)),o=x(a(110)),i=x(a(21)),s=x(a(5)),c=x(a(7)),d=x(a(4)),u=x(a(6)),p=x(a(922));a(923),a(921);var f=a(1),m=x(f),g=x(a(89)),h=x(a(35)),b=a(37),v=x(a(364)),y=x(a(229)),k=a(19),C=a(365),S=a(969);function x(e){return e&&e.__esModule?e:{default:e}}var E=x(a(26)).default.base.NCDiv,w=p.default.TreeNode,T=function(e){function t(e){(0,s.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onLoadData=function(e){var t=a.state.json;return new o.default((function(n){e.props.children?n():(0,h.default)({url:"/nccloud/platform/templet/querymetapro.do",info:{name:(0,k.langCheck)("ZoneSetting-000017","pages",t),action:(0,k.langCheck)("ZoneSetting-000020","pages",t)},data:{metaid:e.props.refpk},success:function(t){if(t){var o=t.data,i=o.data,s=o.success;if(s&&i&&i.rows&&i.rows.length>0){var c=[];i.rows.map((function(t,a){c.push((0,l.default)({},t,{title:t.refcode+" "+t.refname,key:e.props.myUniqID+"."+t.refcode,myUniqID:e.props.myUniqID+"."+t.refcode,isLeaf:t.isleaf}))})),e.props.dataRef.children=[].concat(c),a.setState({metaTree:[].concat((0,r.default)(a.state.metaTree))}),n()}}}})}))},a.showModalHidden=function(){var e=a.props.cards;g.default.forEach(e,(function(e,t){e.myMetaPath&&""!==e.myMetaPath&&(e.myMetaPath="")})),a.props.setModalVisibel("relateMetaModalVisibel",!1)},a.onOkDialog=function(){var e="",t=a.props.cards;g.default.forEach(t,(function(t,a){t.myMetaPath&&""!==t.myMetaPath&&(e=""===e?t.code+"="+t.myMetaPath:e+","+t.code+"="+t.myMetaPath)})),a.props.handleSelectChange(e,"relatemeta"),a.showModalHidden()},a.renderTreeNodes=function(e){return e.map((function(e){var t="fieldid_"+e.refcode+"_node";return e.children?m.default.createElement(w,{icon:function(e){var t=e.expanded;return m.default.createElement(y.default,{width:20,height:20,xlinkHref:t?"#icon-wenjianjiadakai":"#icon-wenjianjia"})},switcherIcon:function(e){var t=e.expanded;return m.default.createElement("i",{className:"font-size-18 iconfont "+(t?"icon-shu_zk":"icon-shushouqi")})},title:e.title,key:e.key,dataRef:e,className:t},a.renderTreeNodes(e.children)):e.isLeaf?m.default.createElement(w,(0,l.default)({icon:m.default.createElement("span",{className:"tree-dot"})},e,{dataRef:e,className:t})):m.default.createElement(w,(0,l.default)({},e,{icon:function(e){var t=e.expanded;return m.default.createElement(y.default,{width:20,height:20,xlinkHref:t?"#icon-wenjianjiadakai":"#icon-wenjianjia"})},switcherIcon:function(e){var t=e.expanded;return m.default.createElement("i",{className:"font-size-18 iconfont "+(t?"icon-shu_zk":"icon-shushouqi")})},dataRef:e,className:t}))}))},a.onSelect=function(e,t){a.setState({selectedKeys:e,selectTreeNodes:t.selectedNodes})},a.cardClick=function(e){var t=a.state.selectTreeNodes;if(t.length>0){var n=t[0].props.dataRef;n.datatype===e.datatype&&(e.myMetaPath=n.myUniqID,a.setState({selectedKeys:[],selectTreeNodes:[]}))}},a.deleteMyMetaPath=function(e,t){e.myMetaPath="",a.setState({selectedKeys:[],selectTreeNodes:[]})},a.getOpacity=function(e,t){var a=1;return""!==t&&e!==t&&(a=.5),a},a.state={metaTree:[],selectTreeNodes:[],json:{}},a}return(0,u.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.state.json;if(!0===e.modalVisibel){var n=this.props.selectCard,r=n.metaid,o=n.relatemeta,i=this.props.cards;if(o&&""!==o){var s=o.split(","),c=[];g.default.forEach(s,(function(e){var t=e.split("=");c.push({code:t[0],myMetaPath:t[1]})})),g.default.forEach(i,(function(e,t){g.default.forEach(c,(function(t){t.code===e.code&&(e.myMetaPath=t.myMetaPath)}))}))}(0,h.default)({url:"/nccloud/platform/templet/querymetapro.do",info:{name:(0,k.langCheck)("ZoneSetting-000017","pages",a),action:(0,k.langCheck)("ZoneSetting-000020","pages",a)},data:{metaid:r},success:function(e){if(e){var n=e.data,r=n.data,o=n.success;if(o&&r&&r.rows&&r.rows.length>0){var i=[];r.rows.map((function(e,t){i.push((0,l.default)({},e,{title:e.refcode+" "+e.refname,key:""+e.refcode,myUniqID:""+e.refcode,isLeaf:e.isleaf}))})),t.setState({metaTree:i})}else o&&r&&r.rows&&!r.rows.length&&Notice({status:"warning",msg:(0,k.langCheck)("ZoneSetting-000021","pages",a)})}}})}}},{key:"componentDidMount",value:function(){var e=this;(0,C.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.metaTree,r=t.selectTreeNodes,l=t.json,o=this.props.cards,i="";return r.length>0&&(i=r[0].props.dataRef.datatype),m.default.createElement(v.default,{title:m.default.createElement("div",null,(0,k.langCheck)("ZoneSetting-000071","pages",l),m.default.createElement("span",{style:{fontSize:"13px",color:"#555",marginLeft:"20px"}},(0,k.langCheck)("ZoneSetting-000072","pages",l))),wrapClassName:"realate-meta-modal",visible:this.props.modalVisibel,okText:(0,k.langCheck)("ZoneSetting-000005","pages",l),cancelText:(0,k.langCheck)("ZoneSetting-000006","pages",l),onOk:this.onOkDialog,destroyOnClose:!0,onCancel:this.showModalHidden,width:"80%",bodyHeight:.72*document.body.clientHeight+"px",fieldid:"relateMeta"},m.default.createElement(S.PageLayout,null,m.default.createElement(S.PageLayoutLeft,null,m.default.createElement(E,{className:"sider-tree",fieldid:"releateMeta",areaCode:E.config.TreeCom},m.default.createElement(p.default,{loadData:this.onLoadData,showLine:!0,showIcon:!0,onSelect:this.onSelect,selectedKeys:this.state.selectedKeys},this.renderTreeNodes(a)))),m.default.createElement(S.PageLayoutRight,null,m.default.createElement("div",{className:"sider-list"},m.default.createElement("table",null,m.default.createElement("thead",null,m.default.createElement("tr",null,m.default.createElement("th",null,(0,k.langCheck)("ZoneSetting-000073","pages",l)),m.default.createElement("th",null,(0,k.langCheck)("ZoneSetting-000074","pages",l)))),m.default.createElement("tbody",null,o.map((function(t,a){if(t.metapath&&""!==t.metapath)return m.default.createElement("tr",{key:a,onClick:function(a){e.cardClick(t)},style:{opacity:e.getOpacity(t.datatype,i)}},m.default.createElement("td",null,t.label),t.myMetaPath&&""!==t.myMetaPath?m.default.createElement("td",null,m.default.createElement("div",{className:"close-and-text"},m.default.createElement(n.default,{type:"close",onClick:function(){e.deleteMyMetaPath(t,a)}})," ",t.myMetaPath)):m.default.createElement("td",null))}))))))))}}]),t}(f.Component);t.default=(0,b.connect)((function(e){return{selectCard:e.zoneSettingData.selectCard}}),{})(T)},1189:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=b(a(21)),r=b(a(5)),l=b(a(7)),o=b(a(4)),i=b(a(6)),s=a(1),c=b(s),d=b(a(364)),u=h(a(919)),p=b(a(35)),f=h(a(373)),m=a(19),g=a(365);function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}u.high.Refer;var v=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.getFunctions=function(){(0,p.default)({url:"/nccloud/platform/templet/getfunction.do",success:function(e){var t=e.data.data,n=[];for(var r in t)n.push({code:r,name:t[r]});a.setState({functions:n})}})},a.showModalHidden=function(){a.props.setModalVisibel("defaultValueModalVisibel",!1)},a.onOkDialog=function(){var e=a.state.defaultvalueObj,t=e.display,n=e.value,r="";""!==t&&""!==n&&(r=t+"="+n),a.props.handleSelectChange(r,"defaultvalue"),a.showModalHidden()},a.state={defaultvalueObj:{},json:{}},a.onOkDialog=a.onOkDialog.bind(a),a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.state.json;if(!0===e.modalVisibel){var n={},r=e.defaultvalue,l=e.isMultiSelectedEnabled,o=e.refname;if(r){var i=r.split("=");n={display:i[0],value:i[1]}}"0"===e.areatype?((0,p.default)({url:"/nccloud/platform/templet/getRefDefaultSel.do",info:{name:(0,m.langCheck)("ZoneSetting-000017","pages",a),action:(0,m.langCheck)("ZoneSetting-000024","pages",a)},data:[o],success:function(e){if(e){var a=e.data,r=a.data,o=a.success,i=void 0;o&&r&&(_.forEach(r,(function(e){i=e.refpath})),t.setState({refcode:i,defaultvalueObj:n,isMultiSelectedEnabled:l}))}}}),this.getFunctions()):this.setState({refcode:e.refcode,defaultvalueObj:n,isMultiSelectedEnabled:l})}}},{key:"componentDidMount",value:function(){var e=this;window["nc-lightapp-front"]=u;(0,g.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this,t=this.state.json;if(!this.state.refcode)return null;var a="0"===this.props.areatype?this.state.functions:null;return c.default.createElement(d.default,{customHeader:(0,m.langCheck)("ZoneSetting-000025","pages",t),wrapClassName:"zonesetting-defaultValueModal",visible:this.props.modalVisibel,okText:(0,m.langCheck)("ZoneSetting-000005","pages",t),cancelText:(0,m.langCheck)("ZoneSetting-000006","pages",t),onOk:this.onOkDialog,destroyOnClose:!0,onCancel:this.showModalHidden,fieldid:"defaultValue"},c.default.createElement("div",{className:"mdcontent"},function(){if(e.state["myRefDom"+e.state.refcode]){var t=e.state["myRefDom"+e.state.refcode];return c.default.createElement(t,{isMultiSelectedEnabled:e.state.isMultiSelectedEnabled,foolValue:e.state.defaultvalueObj,fieldid:"defaultValueRef",onChange:function(t,a){e.setState({defaultvalueObj:a})},functions:a})}f.createScript.call(e,""+e.state.refcode)}()))}}]),t}(s.Component);t.default=v},1190:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(2)),r=g(a(21)),l=g(a(5)),o=g(a(7)),i=g(a(4)),s=g(a(6)),c=a(1),d=g(c),u=g(a(364)),p=g(a(1191)),f=g(a(1192)),m=a(19);function g(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel("customDocDefaultModalVisibel",!1)},a.onOkDialog=function(){var e=a.state.defaultvalueObj,t=e.display,n=e.value,r="";""!==t&&""!==n&&(r=t+"="+n),a.props.handleSelectChange(r,"defaultvalue"),a.showModalHidden()},a.renderDocRefer=function(){var e=a.props,t=e.isgrade,r=e.docPk,l=e.refname,o=(e.json,{foolValue:a.state.defaultvalueObj,queryCondition:function(){return{pk_defdoclist:r}},refName:l,placeholder:l,isMultiSelectedEnabled:a.props.isMultiSelectedEnabled,onChange:function(e,t){a.setState({defaultvalueObj:t})}});return"Y"===t?d.default.createElement(f.default,(0,n.default)({fieldid:"defdocTreeRef"},o)):d.default.createElement(p.default,(0,n.default)({fieldid:"defdocGridRef"},o))},a.state={defaultvalueObj:{}},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(!0===e.modalVisibel){var t={},a=e.defaultvalue;e.refname;if(a){var n=a.split("=");t={display:n[0],value:n[1]}}this.setState({defaultvalueObj:t})}}},{key:"render",value:function(){var e=this.props.json;return d.default.createElement(u.default,{closable:!1,title:(0,m.langCheck)("ZoneSetting-000227","pages",e),wrapClassName:"zonesetting-defaultValueModal",visible:this.props.modalVisibel,okText:(0,m.langCheck)("ZoneSetting-000005","pages",e),cancelText:(0,m.langCheck)("ZoneSetting-000006","pages",e),onOk:this.onOkDialog,destroyOnClose:!0,onCancel:this.showModalHidden,fieldid:"cusDocDefault"},d.default.createElement("div",{className:"mdcontent"},this.renderDocRefer()))}}]),t}(c.Component);t.default=h},1191:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(169));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={refType:"grid",refName:(0,o.langCheck)("0000PUB-000060"),placeholder:(0,o.langCheck)("0000PUB-000060"),refCode:"uapbd.refer.userdef.DefdocGridRef",queryGridUrl:"/nccloud/uapbd/userdef/DefdocGridRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:[(0,o.langCheck)("0000PUB-000032"),(0,o.langCheck)("0000PUB-000033")],code:["code","name"]}]};return r.default.createElement(s,(0,n.default)(t,e))};var r=i(a(1)),l=a(919),o=a(19);function i(e){return e&&e.__esModule?e:{default:e}}var s=l.high.Refer},1192:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(169));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={refType:"tree",refName:(0,o.langCheck)("0000PUB-000060"),placeholder:(0,o.langCheck)("0000PUB-000060"),refCode:"uapbd.refer.userdef.DefdocTreeRef",queryTreeUrl:"/nccloud/uapbd/userdef/DefdocTreeRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:[(0,o.langCheck)("0000PUB-000032"),(0,o.langCheck)("0000PUB-000033")],code:["code","name"]}]};return r.default.createElement(s,(0,n.default)(t,e))};var r=i(a(1)),l=a(919),o=a(19);function i(e){return e&&e.__esModule?e:{default:e}}var s=l.high.Refer},1193:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=C(a(109)),r=C(a(2)),l=C(a(21)),o=C(a(5)),i=C(a(7)),s=C(a(4)),c=C(a(6)),d=C(a(232));a(130),a(231);var u=a(1),p=C(u),f=a(37),m=(C(a(0)),a(373)),g=a(968),h=a(19),b=a(133),v=C(a(1194)),y=C(a(26)),k=a(366);function C(e){return e&&e.__esModule?e:{default:e}}var S=y.default.base,x=S.NCSelect,E=S.NCRadio,w=S.NCDiv,T=S.NCCheckbox,A=x.NCOption,M=d.default.TabPane,D=E.NCRadioGroup,I={height:28,width:"100%"},N=function(e){function t(e){(0,o.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.relationcode=function(){var e=a.props,t=e.areaList,n=e.selectedArea,r=_.cloneDeep(t);"2"===n.areatype&&(r=r.filter((function(e){return"2"===e.areatype&&!e.associatedtab})));var l=r.map((function(e){return{name:e.code,value:e.code}}));return[{name:"",value:""}].concat(l)},a.getAssociatedtabCode=function(){var e=a.props,t=e.areaList,n=e.selectedArea,r=_.cloneDeep(t);"2"===n.areatype?r=r.filter((function(e){if("2"===e.areatype&&e.code!==n.code&&!e.associatedtab)return n.isgrandson?e.isgrandson:!e.isgrandson})):"1"===n.areatype&&(r=r.filter((function(e){return"1"===e.areatype&&e.code!==n.code&&e.code===e.headcode})));var l=r.map((function(e){return{name:e.code,value:e.code}}));return[{name:"",value:""}].concat(l)},a.onPressEnter=function(e,t){a[t+"input"].blur()},a.changeTemplateValue=function(e,t){var n=a.props,l=n.selectedArea,o=n.areaList,i=n.json,s=l.associatedtab;if(o=_.cloneDeep(o),!_.isEmpty(l)){var c=_.cloneDeep(l);if(l=(0,r.default)({},l),"metaObj"===t){var d=o.findIndex((function(e){return e.pk_area===l.pk_area}));if(!_.isEmpty(o[d].queryPropertyList))return void(0,b.ControlTip)({status:"warning",title:(0,h.langCheck)("102202APP-000021","pages",i),msg:(0,h.langCheck)("102202APP-000071","pages",i),onOk:function(){u.call(a)},onCancel:function(){l.metaname=c.metaname,l.metaid="root",l.refcode=c.refcode,a.props.updateSelectArea(l)}});u.call(a)}else"associatedtab"===t&&(p(l,e),""!==e&&"2"===l.areatype&&(o=a.getMoveAreaList(l,a.props.areaList.find((function(t){return t.code===e}))))),l[t]=e,o.map((function(a){a.pk_area==l.pk_area&&(a[t]=e,"associatedtab"===t&&p(a,e))})),a.props.updateSelectArea(l),a.props.updateAreaList(o),"associatedtab"===t&&(e?(0,k.setActiveTabKey)({areaCode:e,activeKey:l.code,expand:!0}):((0,k.setActiveTabKey)({areaCode:s,activeKey:s,expand:!1}),(0,k.setActiveTabKey)({areaCode:l.code,activeKey:l.code,expand:!0})))}function u(){l.metaname=e.refname,l.metaid=e.refpk,l.refcode=e.refcode,l.queryPropertyList=[],l.formPropertyList=[],o.map((function(t){t.code==l.code&&(t.metaname=e.refname,t.metaid=e.refpk,t.refcode=e.refcode,t.queryPropertyList=[],t.formPropertyList=[])})),this.props.updateSelectArea(l),this.props.updateAreaList(o)}function p(e,t){""!==t&&("2"===e.areatype&&(e.tabheadcode=t),"1"===e.areatype&&(e.relationcode=""))}},a.getMoveAreaList=function(e,t){if(t){var n=_.cloneDeep(a.props.areaList),r=n.findIndex((function(t){return t.pk_area===e.pk_area})),l=n.findIndex((function(e){return e.pk_area===t.pk_area}));return r<l&&(n.splice(r,1),n.splice(l+1,0,e)),n}},a.getTemplateInput=function(e,t){var l=I,o=a.props,i=o.areaList,s=o.selectedArea,c=o.validate,d=i.findIndex((function(e){return e.pk_area===s.pk_area})),u=i[d];return!1===c&&u&&["code","name"].includes(t)&&""===u[t]&&(l=(0,r.default)({},I,{borderColor:"#f5222d"})),p.default.createElement("div",{fieldid:t},p.default.createElement(n.default,{style:l,value:a.props.selectedArea[t],onChange:function(e){a.changeTemplateValue(e.target.value,t)},onBlur:function(e){a.changeTemplateValue(e.target.value,t)},ref:function(e){return a[t+"input"]=e},onPressEnter:function(e){a.onPressEnter(e.target.value,t)},disabled:a.getItemDisabled(t)}))},a.getTemplateSelect=function(e,t){return p.default.createElement("div",{fieldid:t},p.default.createElement(x,{showSearch:!0,showClear:!1,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},value:a.props.selectedArea[t],onChange:function(e){a.changeTemplateValue(e,t)},style:I,disabled:a.getItemDisabled(t),fieldid:t},e&&e.map((function(e,t){return p.default.createElement(A,{key:t,value:e.value},e.name)}))))},a.getTemplateRefer=function(e){var t=a.props.selectedArea,n={refcode:t?t.refcode:"",refname:t?t.metaname:"",refpk:t?t.metaid:""};return p.default.createElement(v.default,{value:n,onChange:function(e){a.changeTemplateValue(e,"metaObj")},disabled:a.props.isImplement,fieldid:"mdDefaultClassEntity"})},a.getTemplateRadio=function(e,t){return p.default.createElement("div",{fieldid:t},p.default.createElement(D,{defaultValue:!!a.props.selectedArea[t]&&a.props.selectedArea[t],selectedValue:a.props.selectedArea[t],onChange:function(e){a.changeTemplateValue(e,t)},style:I},p.default.createElement(E,{value:!0,disabled:a.getItemDisabled(t)},(0,h.langCheck)("102202APP-000069","pages",a.props.json)),p.default.createElement(E,{value:!1,disabled:a.getItemDisabled(t)},(0,h.langCheck)("102202APP-000070","pages",a.props.json))))},a.getTemplateCheckbox=function(e,t){return p.default.createElement("div",{fieldid:t},p.default.createElement(T,{checked:!!a.props.selectedArea[t]&&a.props.selectedArea[t],onChange:function(e){console.log(a.props),a.changeTemplateValue(e,t)}}))},a.getItemDisabled=function(e){return a.props.isImplement&&!["name","isunfold","isclosequickquery"].includes(e)},a.renderTabFields=function(){var e=a.props,t=e.selectedArea,n=e.json;return k.checkAreaType.isTable(t)&&!0!==t.isgrandson&&t.relationcode&&t.relationcode!==t.code?null:p.default.createElement(p.default.Fragment,null,t.areatype&&"0"!==t.areatype&&p.default.createElement(p.default.Fragment,null,p.default.createElement("li",null,(0,h.langCheck)("102202APP-000074","pages",n)),p.default.createElement("li",null,a.getTemplateSelect(a.getAssociatedtabCode(),"associatedtab"))),t.areatype&&"2"==t.areatype&&p.default.createElement(p.default.Fragment,null,p.default.createElement("li",null,(0,h.langCheck)("102202APP-000079","pages",n)),p.default.createElement("li",null,a.getTemplateSelect(a.getAssociatedtabCode(),"tabheadcode"))))},a.state={},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.json,a=e.selectedArea;return p.default.createElement(d.default,{defaultActiveKey:"1",renderTabBar:function(e,t){return p.default.createElement(w,{areaCode:w.config.TABS}," ",p.default.createElement(t,e))}},p.default.createElement(M,{tab:(0,h.langCheck)("102202APP-000067","pages",t),key:"1"},p.default.createElement("ul",{className:"basic-property rightTemplate"},p.default.createElement("li",{className:"required"},(0,h.langCheck)("102202APP-000038","pages",t)),p.default.createElement("li",null,this.getTemplateInput((0,h.langCheck)("102202APP-000038","pages",t),"code")),p.default.createElement("li",{className:"required"},(0,h.langCheck)("102202APP-000039","pages",t)),p.default.createElement("li",null,this.getTemplateInput((0,h.langCheck)("102202APP-000039","pages",t),"name")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000040","pages",t)),p.default.createElement("li",null,this.getTemplateSelect((0,m.areatype)(t),"areatype")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000064","pages",t)),p.default.createElement("li",null,this.getTemplateSelect((0,m.isunfold)(t),"isunfold")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000041","pages",t)),p.default.createElement("li",null,this.getTemplateInput((0,h.langCheck)("102202APP-000041","pages",t),"areadesc")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000042","pages",t)),p.default.createElement("li",null,this.getTemplateSelect(this.relationcode(),"relationcode")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000043","pages",t)),p.default.createElement("li",null,this.getTemplateInput((0,h.langCheck)("102202APP-000043","pages",t),"clazz")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000044","pages",t)),p.default.createElement("li",null,this.getTemplateSelect((0,m.areastatus)(t),"areastatus")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000036","pages",t)),p.default.createElement("li",null,p.default.createElement("div",{fieldid:"mdDefaultClassEntity"},this.getTemplateRefer((0,h.langCheck)("102202APP-000036","pages",t)))),a.areatype&&"2"==a.areatype&&p.default.createElement(p.default.Fragment,null,p.default.createElement("li",null,(0,h.langCheck)("102202APP-000072","pages",t)),p.default.createElement("li",{className:"isgrandsonRadio"},this.getTemplateRadio((0,h.langCheck)("102202APP-000072","pages",t),"isgrandson"))),this.renderTabFields(),this.props.isImplement&&!k.checkAreaType.isSearch(a)?p.default.createElement(p.default.Fragment,null,p.default.createElement("li",null,(0,h.langCheck)("102202APP-000078","pages",t)),p.default.createElement("li",null,this.getTemplateCheckbox((0,m.areastatus)(t),"areahide"))):null,a.areatype&&"0"==a.areatype&&p.default.createElement(p.default.Fragment,null,p.default.createElement("li",null,(0,h.langCheck)("102202APP-000080","pages",t)),p.default.createElement("li",{className:"isgrandsonRadio"},this.getTemplateRadio((0,h.langCheck)("102202APP-000080","pages",t),"isclosequickquery"))))))}}]),t}(u.Component);N.PropTypes={},t.default=(0,f.connect)((function(e){return{areaList:e.zoneSettingData.areaList,selectedArea:e.zoneSettingData.selectedArea,validate:e.zoneSettingData.validate,isImplement:e.zoneSettingData.isImplement,zoneDatas:e.zoneRegisterData.zoneDatas}}),{updateAreaList:g.updateAreaList,updateSelectArea:g.updateSelectArea})(N)},1194:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(169));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={queryTreeUrl:"/nccloud/riart/ref/mdClassDefaultEntityRefTreeAction.do",refType:"tree",isTreelazyLoad:!1,refName:(0,o.langCheck)("0000PUB-000046"),rootNode:{refname:(0,o.langCheck)("0000PUB-000046"),refpk:"root"},queryCondition:{isWorkbench:"Y"},onlyLeafCanSelect:!0};return r.default.createElement(s,(0,n.default)(t,e))};var r=i(a(1)),l=a(919),o=a(19);function i(e){return e&&e.__esModule?e:{default:e}}var s=l.high.Refer},1195:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=C(a(964)),r=C(a(936)),l=C(a(370)),o=C(a(109)),i=C(a(2)),s=C(a(21)),c=C(a(5)),d=C(a(7)),u=C(a(4)),p=C(a(6));a(953),a(934),a(371),a(130);var f=a(1),m=C(f),g=C(a(364)),h=a(19),b=C(a(26)),v=a(968),y=a(37),k=C(a(68));function C(e){return e&&e.__esModule?e:{default:e}}a(1196);var S=b.default.base,x=S.NCRadio,E=S.NCSelect,w=S.NCCheckbox,T=E.NCOption,A=function(e){function t(e){(0,c.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.handleSelectCardChange=function(e,t){var n=a.props.selectCard;(n=(0,i.default)({},n))[t]=e,"watermarktype"===t&&(0==e?(n.watermarktext="",n.watermarkfont="",n.position="",n.transparency=""):(n.watermarktext="",n.watermarkfont=0,n.position=0,n.transparency=0)),a.props.updateSelectCard(n)},a.handleOk=function(){var e=a.props,t=e.selectCard,n=e.json;if(1==t.watermarktype){if(0==t.watermarktext.length)return void(0,k.default)({status:"warning",msg:(0,h.langCheck)("ZoneSetting-000318","pages",n)});if(t.watermarktext.length>20)return void(0,k.default)({status:"warning",msg:(0,h.langCheck)("ZoneSetting-000319","pages",n)})}a.props.handleSelectCardChange(t),a.props.toggleFormula("watermark",!1)},a.getSelectoption=function(){var e=a.props.json;return{fontsizeOption:[{name:"正常",value:0},{name:"大",value:1},{name:"小",value:2}],positionOption:[{name:""+(0,h.langCheck)("ZoneSetting-000309","pages",e),value:0},{name:""+(0,h.langCheck)("ZoneSetting-000310","pages",e),value:1},{name:""+(0,h.langCheck)("ZoneSetting-000311","pages",e),value:2},{name:""+(0,h.langCheck)("ZoneSetting-000312","pages",e),value:3},{name:""+(0,h.langCheck)("ZoneSetting-000313","pages",e),value:4},{name:""+(0,h.langCheck)("ZoneSetting-000314","pages",e),value:5},{name:""+(0,h.langCheck)("ZoneSetting-000315","pages",e),value:6},{name:""+(0,h.langCheck)("ZoneSetting-000316","pages",e),value:7}]}},a.renderTextMarkOption=function(){var e=a.props,t=e.selectCard,i=e.json,s=1!==t.watermarktype;return m.default.createElement("div",{className:"textMark"},m.default.createElement(l.default,null,m.default.createElement("label",null,(0,h.langCheck)("ZoneSetting-000304","pages",i)),m.default.createElement(o.default,{disabled:s,value:t&&t.watermarktext,onChange:function(e){a.handleSelectCardChange(e.target.value,"watermarktext")},onBlur:function(e){a.handleSelectCardChange(e.target.value,"watermarktext")},ref:function(e){return a.input=e},onPressEnter:function(e){a.input.blur()}})),m.default.createElement(l.default,null,m.default.createElement("label",null,(0,h.langCheck)("ZoneSetting-000305","pages",i)),m.default.createElement(E,{showClear:!1,disabled:s,value:t&&t.watermarkfont||0,onChange:function(e){a.handleSelectCardChange(e,"watermarkfont")}},a.getSelectoption().fontsizeOption.map((function(e,t){return m.default.createElement(T,{key:t,value:e.value},e.name)}))),m.default.createElement("label",{style:{marginLeft:20}},(0,h.langCheck)("ZoneSetting-000308","pages",i)),m.default.createElement(E,{showClear:!1,disabled:s,value:t&&t.position||0,onChange:function(e){a.handleSelectCardChange(e,"position")}},a.getSelectoption().positionOption.map((function(e,t){return m.default.createElement(T,{key:t,value:e.value},e.name)})))),m.default.createElement(l.default,null,m.default.createElement("label",null,(0,h.langCheck)("ZoneSetting-000307","pages",i)),m.default.createElement(r.default,{min:0,max:100,step:1,value:t&&t.watermarkalpha||0,onChange:function(e){a.handleSelectCardChange(e,"watermarkalpha")},disabled:s}),m.default.createElement(n.default,{min:0,max:100,onChange:function(e){a.handleSelectCardChange(e,"watermarkalpha")},value:t&&"number"==typeof t.watermarkalpha?t.watermarkalpha:0,step:1,disabled:s})))},a.rendetOtherOption=function(){var e=a.props,t=e.selectCard,n=e.json,r=t.isshowplace,l=t.isshowtime;return m.default.createElement("div",{className:"otherOption"},(0,h.langCheck)("ZoneSetting-000301","pages",n),m.default.createElement(w,{className:"dnd-cancel",checked:r,onChange:function(e){a.handleSelectCardChange(e,"isshowplace")}}),m.default.createElement("span",null,(0,h.langCheck)("ZoneSetting-000302","pages",n)),m.default.createElement(w,{className:"dnd-cancel",checked:l,onChange:function(e){a.handleSelectCardChange(e,"isshowtime")}}),m.default.createElement("span",null,(0,h.langCheck)("ZoneSetting-000303","pages",n)))},a.state={preSelectCard:{}},a}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.selectCard;this.setState({preSelectCard:(0,h.deepClone)(e)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.selectCard,n=t.visible,r=t.json,l=this.state.preSelectCard;return console.log("selectCard========>",a),console.log("preSelectCard========>",l),m.default.createElement(g.default,{maskClosable:!0,customHeader:(0,h.langCheck)("ZoneSetting-000287","pages",r),visible:n,onOk:function(){e.handleOk()},onCancel:function(){e.props.handleSelectCardChange(l),e.props.toggleFormula("watermark",!1)},className:"watermarkModal"},m.default.createElement("div",{className:"leftSide"},m.default.createElement(x.NCRadioGroup,{selectedValue:a&&a.watermarktype,onChange:function(t){return e.handleSelectCardChange(t,"watermarktype")}},m.default.createElement(x,{value:0},(0,h.langCheck)("ZoneSetting-000298","pages",r)),m.default.createElement("br",null),m.default.createElement(x,{value:1},(0,h.langCheck)("ZoneSetting-000299","pages",r)),this.renderTextMarkOption(),this.rendetOtherOption())),m.default.createElement("div",{className:"rightSide"}))}}]),t}(f.Component);t.default=(0,y.connect)((function(e){return{selectCard:e.zoneSettingData.selectCard}}),{updateSelectCard:v.updateSelectCard})(A)},1196:function(e,t,a){var n=a(1197);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},1197:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".watermarkModal{display:flex;flex-direction:row}.watermarkModal .leftSide{width:70%}.watermarkModal .leftSide .u-radio-group{width:100%}.watermarkModal .leftSide .ant-row,.watermarkModal .leftSide .u-radio-label{margin:10px 0}.watermarkModal .leftSide .textMark .ant-row>label{display:inline-block;min-width:43px!important;margin-right:16px;text-align:right}.watermarkModal .leftSide .textMark .ant-row .ant-input{width:280px}.watermarkModal .leftSide .textMark .ant-row .ant-input-number{width:60px}.watermarkModal .leftSide .textMark .ant-row .ant-slider{display:inline-block;width:200px;margin:0 20px}.watermarkModal .leftSide .textMark .ant-row .nc-select-wrapper{width:100px}.watermarkModal .leftSide .otherOption{margin-top:50px}.watermarkModal .leftSide .otherOption .checkbox-hotkey-wrapper{margin-left:16px}.watermarkModal .leftSide .otherOption .checkbox-hotkey-wrapper .u-checkbox{margin:0}.watermarkModal .rightSide{width:30%}",""])},1198:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(a(21)),r=f(a(5)),l=f(a(7)),o=f(a(4)),i=f(a(6)),s=a(1),c=f(s),d=f(a(364)),u=f(a(26)),p=a(19);function f(e){return e&&e.__esModule?e:{default:e}}a(1199);var m=u.default.base,g=m.NCCheckbox,h=m.NCRadio,b=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.getfiletypeMap=function(){var e=a.props.json;return[{key:"all",name:""+(0,p.langCheck)("ZoneSetting-000270","pages",e),value:""},{key:"work",name:""+(0,p.langCheck)("ZoneSetting-000293","pages",e),value:"ppt、pptx、xls、xlsx、doc、docx、pdf、txt"},{key:"img",name:""+(0,p.langCheck)("ZoneSetting-000294","pages",e),value:"png、jpg、heic"},{key:"video",name:""+(0,p.langCheck)("ZoneSetting-000295","pages",e),value:"mp4"},{key:"zip",name:""+(0,p.langCheck)("ZoneSetting-000296","pages",e),value:"rar 、zip、7z"},{key:"dwg",name:""+(0,p.langCheck)("ZoneSetting-000297","pages",e),value:"dwg(AutoCad)"}]},a.radioChange=function(e){a.setState({filetype:e})},a.checkboxChange=function(e,t){console.log(e,t)},a.renderCheckboxArea=function(){return c.default.createElement("ul",null,a.getfiletypeMap().map((function(e){return c.default.createElement("li",null,c.default.createElement(g,{className:"dnd-cancel",onChange:function(t){a.checkboxChange(t,e.key)}},e.name),c.default.createElement("span",null,e.value))})))},a.state={filetype:"0"},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onOk,n=e.onCancel,r=e.json,l=this.state.filetype;return c.default.createElement(d.default,{maskClosable:!0,customHeader:(0,p.langCheck)("ZoneSetting-000287","pages",r),visible:t,onOk:a,onCancel:n,className:"filetypeModal"},c.default.createElement(h.NCRadioGroup,{selectedValue:l,onChange:this.radioChange},c.default.createElement(h,{value:"0"},(0,p.langCheck)("ZoneSetting-000291","pages",r)),c.default.createElement(h,{value:"1"},(0,p.langCheck)("ZoneSetting-000292","pages",r))),this.renderCheckboxArea())}}]),t}(s.Component);t.default=b},1199:function(e,t,a){var n=a(1200);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},1200:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,"",""])},1201:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,l=k(a(77)),o=k(a(372)),i=k(a(170)),s=k(a(230)),c=k(a(21)),d=k(a(5)),u=k(a(7)),p=k(a(4)),f=k(a(6)),m=a(1),g=k(m),h=k(a(364)),b=k(a(26)),v=a(19),y=k(a(1202));function k(e){return e&&e.__esModule?e:{default:e}}a(1203);var C=b.default.createPage,S=b.default.base.NCButton,x="referFilterTable",E=(n=function(e){function t(e){(0,d.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));r.call(a),a.props.use.editTable(x);var n=(0,y.default)(e);return a.props.meta.setMeta(n),a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.props.editTable.setStatus(x,"edit"),this.props.selectCard.refcondition&&this.initTableData()}},{key:"render",value:function(){var e=this.props,t=e.modalVisibel,a=e.json;return g.default.createElement(h.default,{maskClosable:!0,wrapClassName:"zonesetting-referfilter-modal",title:(0,v.langCheck)("ZoneSetting-000331","pages",a),visible:t,size:"lg",onOk:this.handleOk,onCancel:this.handleModalClose},this.renderContent())}}]),t}(m.Component),r=function(){var e=this;this.initTableData=function(){var t=e.props.selectCard.refcondition,a=e.formatTableData(t);e.props.editTable.setTableData(x,{rows:a})},this.formatTableData=function(t){return JSON.parse(t).map((function(t){return{values:e.obj2ObjValue(t)}}))},this.obj2ObjValue=function(t){var a={item:(0,v.langCheck)("ZoneSetting-000333","pages",e.props.json),constant:(0,v.langCheck)("ZoneSetting-000333","pages",e.props.json),code:(0,v.langCheck)("ZoneSetting-000333","pages",e.props.json)},n={},r=!0,l=!1,c=void 0;try{for(var d,u=(0,i.default)((0,o.default)(t));!(r=(d=u.next()).done);r=!0){var p=d.value,f=(0,s.default)(p,2),m=f[0],g=f[1];n[m]={display:"type"===m?a[g]:"",value:g}}}catch(e){l=!0,c=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw c}}return n},this.handleModalClose=function(){e.props.setModalVisibel("referFilterModalVisible",!1)},this.handleOk=function(){var t=e.props.editTable.getViewData(x),a=t.map((function(e){var t=e.values,a=t.type,n=t.key,r=t.value;return{type:a.value,key:n.value,value:r.value}}));e.props.editTable.checkRequired(x,t)&&(e.props.handleSelectChange((0,l.default)(a),"refcondition"),e.handleModalClose())},this.handleAddRow=function(){e.props.editTable.addRow(x,-1,!1,{type:{display:(0,v.langCheck)("ZoneSetting-000333","pages",e.props.json),value:"item"}})},this.handleRemoveRow=function(){var t=e.props.editTable,a=t.getCheckedRows,n=t.deleteTableRowsByIndex,r=a(x).map((function(e){return e.index}));n(x,r)},this.handleAfterEvent=function(e,t,a,n,r,l,o,i,s){"type"===a&&e.editTable.setValByKeyAndIndex(x,l,"value",{display:"",value:""})},this.renderContent=function(){var t=e.props,a=t.json,n=t.editTable.createEditTable;return g.default.createElement("div",null,g.default.createElement("div",{className:"modal-header"},g.default.createElement(S,{onClick:e.handleAddRow},(0,v.langCheck)("ZoneSetting-000260","pages",a)),g.default.createElement(S,{onClick:e.handleRemoveRow},(0,v.langCheck)("ZoneSetting-000190","pages",a))),n(x,{showCheck:!0,hideRightMenu:!0,onAfterEvent:e.handleAfterEvent,onBeforeEvent:e.handleBeforeEvent}))}},n);E=C({})(E),t.default=E},1202:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(26),l=(n=r)&&n.__esModule?n:{default:n},o=a(19);var i=l.default.base,s=i.NCSelect,c=i.NCFormControl,d=s.NCOption;function u(e){return React.createElement(s,{value:e.value,style:{width:150},showSearch:!0,supportSearch:!0,optionFilterProp:"children",onChange:e.onChange},e.optionData.map((function(e){return React.createElement(d,{value:e.value},e.display)})))}t.default=function(e){var t=e.json;return{code:"20521030",pageid:"20521030",appCode:"",referFilterTable:{items:[{attrcode:"type",itemtype:"select",visible:!0,label:(0,o.langCheck)("ZoneSetting-000336","pages",t),width:"150px",required:!0,options:[{display:(0,o.langCheck)("ZoneSetting-000333","pages",t),value:"item"},{display:(0,o.langCheck)("ZoneSetting-000334","pages",t),value:"constant"},{display:(0,o.langCheck)("ZoneSetting-000335","pages",t),value:"code"}]},{attrcode:"key",itemtype:"input",width:"200px",visible:!0,label:(0,o.langCheck)("ZoneSetting-000337","pages",t),required:!0},{attrcode:"value",itemtype:"customer",width:"200px",visible:!0,label:(0,o.langCheck)("ZoneSetting-000338","pages",t),required:!0,render:function(t,a,n){var r=a.values||{},l=function(t){e.editTable.setValByKeyAndIndex("referFilterTable",n,"value",{value:t})};return"item"===r.type.value?React.createElement(u,{value:r.value.value,optionData:e.cards.map((function(t){if(t.code!==e.selectCard.code)return{value:t.code,display:t.label}})).filter((function(e){return null!=e})),onChange:l}):React.createElement(c,{value:r.value.value,onChange:l})}}],moduletype:"table",pagination:!1,code:"referFilterTable"}}}},1203:function(e,t,a){var n=a(1204);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},1204:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".zonesetting-referfilter-modal .modal-header{float:right;margin-bottom:10px}",""])},1205:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=x(a(111)),r=x(a(21)),l=x(a(5)),o=x(a(7)),i=x(a(4)),s=x(a(6)),c=a(1),d=x(c),u=x(a(1009)),p=(x(a(35)),a(37)),f=(x(a(68)),x(a(1206))),m=x(a(1208)),g=x(a(1210)),h=a(19),b=x(a(1215)),v=x(a(26)),y=a(968),k=a(366),C=x(a(89)),S=a(1049);x(a(1032));function x(e){return e&&e.__esModule?e:{default:e}}var E=v.default.base.NCDiv,w=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.changeTab=function(e){a.setState({activeTab:e})},a.updateMetaTreeData=function(e){var t=e.metaTree,n=e.origTree;a.setState({metaTree:t,origTree:n})},a.loadMetaTree=function(e,t){var r=a.props,l=r.isImplement,o=r.newAreaList,i=r.selectedArea,s=r.updateSelectArea,c=a.state,d=c.metaTree,u=c.currentArea;return!1!==l&&(o.length&&0===d.length&&0===(0,n.default)(u).length?(s(o.find(Boolean)),!0):(0!==(0,n.default)(i).length||0===(0,n.default)(e.selectedArea).length)&&(e.selectedArea&&i?e.selectedArea.code!==i.code:void 0))},a.findActiveArea=function(e){var t=a.props,n=t.newAreaList,r=t.selectedArea;return e.selectedArea.code!==r.code?r:n.find(Boolean)},a.calculateToggleIconPosition=function(){var e=a.props,t=e.show;return e.isImplement?{}:{left:t?k.LEFT_SIDER_WIDTH:-11}},a.toggleLeftSider=function(){a.props.onToggleLeftSider(!a.props.leftSiderShow)},a.state={activeTab:"meta",metaTree:[],origTree:null,targetAreaID:"",targetAreaType:"",canSelectTreeNodeList:[],currentArea:{},loading:!1},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this;this.props.json;if(this.loadMetaTree(e,t)){var r=this.findActiveArea(e);if(!r||""!==r.metaid&&null!==r.metaid&&void 0!==r.metaid){if(this.state.loading)return;this.setState({loading:!0}),S.queryMetaTreeData.call(this,r.metaid,"").then((function(e){var t={isleaf:!1,readonly:!1,refpk:r.metaid,refcode:"",pid:null,children:e},a=S.createMetaTreeIns.call(n,t,r.areatype),l=a.getMetaTreeData().children,o=[];C.default.forEach(l,(function(e){"205"===e.datatype&&o.push(e)})),n.setState({metaTree:l,origTree:a,targetAreaID:r.pk_area,targetAreaType:r.areatype,canSelectTreeNodeList:o,currentArea:r,loading:!1})}))}else this.setState({metaTree:[],targetAreaID:r.pk_area,targetAreaType:r.areatype,canSelectTreeNodeList:[],currentArea:r,loading:!1})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.status,r=t.json,l=t.isImplement,o=this.state,i=o.activeTab,s=o.loading,c=l&&!1===a?"spread-height":"";return d.default.createElement(E,{className:"template-setting-left-sider-container "+c,fieldid:"left",areaCode:E.config.Area},n&&a&&d.default.createElement("div",{className:"left-side-tab"},d.default.createElement("div",{onClick:function(){e.changeTab("meta")},className:"meta"===i&&"active"},(0,h.langCheck)("ZoneSetting-000247","pages",r)),d.default.createElement("div",{onClick:function(){e.changeTab("notMeta")},className:"notMeta"===i&&"active"},(0,h.langCheck)("ZoneSetting-000202","pages",r))),d.default.createElement("div",{className:"toggle-left-btn "+(a?"hide":"show")+" "+(l?"implement":""),style:this.calculateToggleIconPosition(),onClick:this.toggleLeftSider},d.default.createElement("i",{className:"iconfont icon-mbpz_sq"})),d.default.createElement("div",{className:"template-setting-sider template-setting-left-sider"+(l?" implement":""),style:{display:a?"block":"none"}},!l&&d.default.createElement(b.default,null),!l&&d.default.createElement(f.default,{json:this.props.json}),"meta"===i&&l&&!1===s&&d.default.createElement(g.default,{metaTree:this.state.metaTree,origTree:this.state.origTree,updateMetaTreeData:this.updateMetaTreeData,json:r,targetAreaID:this.state.targetAreaID,canSelectTreeNodeList:this.state.canSelectTreeNodeList,currentArea:this.state.currentArea}),!0!==l&&d.default.createElement(m.default,{json:this.props.json,templettype:this.props.templettype}),"notMeta"===i&&l&&d.default.createElement(m.default,{json:this.props.json,templettype:this.props.templettype})))}}]),t}(c.Component);t.default=(0,p.connect)((function(e){return{newAreaList:e.zoneSettingData.newAreaList,selectedArea:e.zoneSettingData.selectedArea,isImplement:e.zoneSettingData.isImplement,leftSiderShow:e.zoneSettingData.leftSiderShow}}),{updateSelectArea:y.updateSelectArea,onToggleLeftSider:y.onToggleLeftSider})((0,u.default)(w))},1206:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(21)),r=h(a(5)),l=h(a(7)),o=h(a(4)),i=h(a(6)),s=a(1),c=h(s),d=a(19),u=a(37),p=h(a(1081)),f=h(a(1207)),m=a(968),g=a(366);function h(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.json,a=[{areacode:"0",name:(0,d.langCheck)("102202APP-000033","pages",t),icon:"ncc-pt-cxq"},{areacode:"1",name:(0,d.langCheck)("102202APP-000032","pages",t),icon:"ncc-pt-bdq"},{areacode:"2",name:(0,d.langCheck)("102202APP-000031","pages",t),icon:"ncc-pt-bgq"}],n=c.default.createElement("div",null,c.default.createElement("div",{className:"tip"},c.default.createElement("i",{className:"iconfont icon-zhuyi1"}),(0,d.langCheck)("ZoneSetting-000197","pages",t)),c.default.createElement("span",{className:"title"},(0,d.langCheck)("ZoneSetting-000196","pages",t))," ");return c.default.createElement(p.default,{renderHeader:n,onDragItemClick:function(t){return(0,g.addNewAreaItem)(e.props,{items:{areatype:t.items.areacode},isExpand:!0})}},a.map((function(e){return c.default.createElement(f.default,{items:e})})))}}]),t}(s.Component);t.default=(0,u.connect)((function(e){return{areaList:e.zoneSettingData.areaList}}),{updateAreaList:m.updateAreaList,updateSelectArea:m.updateSelectArea})(b)},1207:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),r=a(920),l=o(a(229));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.DragSource)("area",{beginDrag:function(e){return{type:"area",from:"left",areaCode:e.items.areacode}}},(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))((function(e){var t=e.items,a=e.connectDragSource,r=e.onDragItemClick,o=t.areacode,i=t.name,s=t.icon;return a(n.default.createElement("div",{className:"drag-item-wrapper area",key:o,onClick:r},n.default.createElement("div",{className:"drag-item",title:i},n.default.createElement(l.default,{xlinkHref:"#icon-"+s}),n.default.createElement("span",{className:"name"},i))))}))},1208:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(21)),r=m(a(5)),l=m(a(7)),o=m(a(4)),i=m(a(6)),s=a(1),c=m(s),d=a(19),u=m(a(1081)),p=m(a(1209)),f=a(373);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.json,a=(e.templettype,(0,f.dataTypeObj)());return c.default.createElement(u.default,{headerTitle:(0,d.langCheck)("ZoneSetting-000202","pages",t)},a.map((function(e){return c.default.createElement(p.default,{items:e})})))}}]),t}(s.Component);t.default=g},1209:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),r=a(920),l=o(a(229));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.DragSource)("card",{beginDrag:function(e){return{type:"card",from:"left",datatype:e.items.value,notMetaData:!0}}},(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))((function(e){var t=e.items,a=e.connectDragSource,r=e.onDragItemClick,o=t.datatype,i=t.name,s=t.icon;t.nowrap;return a(n.default.createElement("div",{className:"drag-item-wrapper",key:o,onClick:r},n.default.createElement("div",{className:"drag-item",title:i},n.default.createElement(l.default,{xlinkHref:"#icon-"+s}),n.default.createElement("span",{className:"name"},i))))}))},1210:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=A(a(924)),r=A(a(14)),l=A(a(110)),o=A(a(2)),i=A(a(21)),s=A(a(5)),c=A(a(7)),d=A(a(4)),u=A(a(6)),p=A(a(56)),f=A(a(109));a(132),a(130);var m=a(1),g=A(m),h=a(37),b=A(a(35)),v=A(a(26)),y=a(19),k=(a(972),A(a(1211))),C=a(968),S=A(a(1212)),x=A(a(1213)),E=A(a(89)),w=a(1049),T=A(a(1032));function A(e){return e&&e.__esModule?e:{default:e}}var _=f.default.Search,M=p.default.Option,D=v.default.base,I=D.NCTree,N=(D.NCIcon,D.NCCheckbox),L=(D.NCFormControl,I.NCTreeNode),P=function(e){function t(e){(0,s.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.createCodeObject=function(){var e=a.props,t=e.areaList,n=e.targetAreaID,r={},l=t.find((function(e){return e&&e.pk_area===n})),o=l&&l.queryPropertyList;return o&&o.forEach((function(e){r[e.proid]=e.proid})),r},a.selectAllTreeNode=function(e,t){var n=a.state.selectedKeys,r=a.createCodeObject();n=E.default.cloneDeep(n);var l=a.props.metaTreeNodes;e?E.default.forEach(t,(function(e,t){-1===n.indexOf(e.myUniqID)&&void 0===r[e.proid]&&"205"!==e.datatype&&(n.push(e.myUniqID),l.push({props:{dataRef:(0,o.default)({},e)}}))})):(E.default.forEach(t,(function(e,t){E.default.remove(n,(function(t){return t===e.myUniqID}))})),E.default.forEach(t,(function(e,t){E.default.remove(l,(function(t){return t.props.dataRef.myUniqID===e.myUniqID}))}))),a.setState({selectedKeys:n,checkAllTree:e}),a.props.setMetaTreeNodes(l)},a.handleChangeSelectTreeNode=function(e){var t=a.props.canSelectTreeNodeList;E.default.forEach(t,(function(t){-1===e.indexOf(t.refcode+" "+t.refname)?null!==t.children&&setTimeout((function(){a.selectAllTreeNode(!1,t.children)}),0):null!==t.children&&setTimeout((function(){a.selectAllTreeNode(!0,t.children)}),0)})),a.setState({needToBeAllSelectNodeList:e})},a.initState=function(){a.setState({selectedKeys:[],searchSelectedKeys:[],checkAllTree:!1}),a.props.setMetaTreeNodes([])},a.handleSearch=function(e){var t=a.state,n=(t.searchTreeData,t.searchSelectedKeys),r=[];(0,y.DeferFn)((function(){(0,b.default)({url:"/nccloud/platform/templet/searchmeta.do",data:{metaid:a.props.selectedArea.metaid,text:e},info:{name:(0,y.langCheck)("ZoneSetting-000017","pages",a.props.json),action:(0,y.langCheck)("ZoneSetting-000020","pages",a.props.json)},success:function(t){var l=t.data.data;if(l){var i=[];l.map((function(e){i.push((0,o.default)({},e,{title:e.refcode+" "+e.refname,key:""+e.refcode,myUniqID:""+e.refcode,isLeaf:e.isleaf}))})),i.forEach((function(t){if(t.title.indexOf(e)>-1){var a=function e(t,a){for(var n=void 0,r=t.key,l=0;l<a.length;l++){var o=a[l];o.children&&(o.children.some((function(e){return e.key.indexOf(r)>-1}))?n=o.key:e(r,o.children)&&(n=e(r,o.children)))}return n}(t,l);a&&!r.includes(a)&&r.push(a),a&&console.log(a)}})),a.setState({searchExpandedKeys:r,searchSelectedKeys:n,searchTreeData:i})}else a.setState({searchExpandedKeys:[],searchSelectedKeys:[],searchTreeData:[]})}})}))},a.onSearchFieldChange=(0,y.debounce)((function(e){var t=a.props,n=t.origTree;t.searchField;0===e.length?a.setState({searchValue:e,searchExpandedKeys:[],curTree:n}):a.setState({searchValue:e})}),300),a.onSearchMeta=function(e){if(e){var t=a.props,n=t.selectedArea,r=t.origTree,l=(n.metaid,a.state),o=(l.searchTreeData,l.searchSelectedKeys),i=[],s=w.queryMetaPropByKeyWords.call(a,e,r,i),c=s.getMetaTreeData().children;s.getRoot().children.length>0?a.setState({curTree:s,searchExpandedKeys:i,searchSelectedKeys:o,searchTreeData:c}):a.setState({curTree:s,searchExpandedKeys:[],searchSelectedKeys:[],searchTreeData:[]})}},a.onSearchMetaAsync=function(e){var t=a.props,n=t.selectedArea,r=t.currentArea,l=n.metaid;e&&(0,y.DeferFn)((function(){w.queryMetaTreeData.call(a,l,e).then((function(e){var t={isleaf:!1,readonly:!1,refpk:r.metaid,refcode:"",pid:null,children:e},n=w.createMetaTreeIns.call(a,t,r.areatype).getMetaTreeData();n.children;console.log(n)}))}))},a.onSearchFieldClean=function(){var e=a.props,t=e.origTree,n=e.searchField;ReactDOM.findDOMNode(n).querySelector(".ant-input").value="",a.setState({searchValue:"",curTree:t})},a.onLoadSubTreeData=function(e){var t=a.state.searchValue,n=a.props,r=(n.targetAreaType,n.origTree),o=e.props,i=o.children,s=o.refpk,c=o.myUniqID,d=(o.notSearchAreaCode,o.datatype,o.dataRef,[]);return new l.default((function(e){i?e():w.asyncQueryMetaPro.call(a,s).then((function(n){var l=w.appendMetaTreeNodes.call(a,n.rows,c,r),o=w.queryMetaPropByKeyWords.call(a,t,l,d);a.setState({curTree:o,searchExpandedKeys:d});var i=l.getMetaTreeData();a.props.updateMetaTreeData({metaTree:i.children,origTree:l}),e()}))}))},a.onSelectTreeNode=function(e,t){a.setState({selectedKeys:e,searchSelectedKeys:e});var n=t.selectedNodes.map((function(e){return{props:{dataRef:e.props.dataRef}}}));a.props.setMetaTreeNodes(n)},a.onExpandTreeNode=function(e,t,n){var r=t.expanded,l=t.node,o=E.default.result(l,"props.dataRef.myUniqID");!1===r&&(e=E.default.filter(e,(function(e){return-1===e.indexOf(o)}))),"search"===n?a.setState({searchExpandedKeys:e}):a.setState({expandedKeys:e})},a.renderMetaTree=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=a.state,n=t.expandedKeys,r=t.selectedKeys,l=t.searchSelectedKeys,o=t.searchExpandedKeys;return"search"===e&&(r=l,n=o),g.default.createElement(I,{fieldid:"meta",showIcon:!0,mustExpandable:!0,showLine:!0,multiple:!0,loadData:a.onLoadSubTreeData,onSelect:a.onSelectTreeNode,onExpand:function(t,n){a.onExpandTreeNode(t,n,e)},expandedKeys:n,selectedKeys:r},a.renderMetaTreeNodes(e))},a.renderTreeNode=function(e,t,n){var l=a.state,i=l.expandedKeys,s=l.searchExpandedKeys,c=l.searchValue,d="search"===n?s:i,u=a.props,p=u.targetAreaID,f=u.metaTreeNodes,m=u.currentArea,h=a.createCodeObject(),b=e.data,v=(e.parent,e.children),y=(b.children,(0,r.default)(b,["children"])),C=y.isLeaf,S=y.key,x=y.refcode,E=y.title,w="fieldid_"+x+"_node",T=h[y.proid]?"moved-tree-node":"",A=E.search(c),_=E.substr(0,A),M=E.substr(A+c.length),D=A>-1?g.default.createElement("span",null,_,g.default.createElement("span",{className:"u-tree-searchable-filter"},c),M):g.default.createElement("span",null,E),I=g.default.createElement("span",{className:"icon iconfont "+(d.includes(x)?"icon-wenjianjiadakai":"icon-wenjianjia")}),N=g.default.createElement(k.default,{title:D,dataRef:y,targetAreaID:p,selectedNodes:f,movedItem:!!T,initState:a.initState,currentArea:m});y.targetAreaID=p;var P=void 0;if(v.length>0){var Z=v.map((function(e){return t.get(e)}));P=g.default.createElement(L,(0,o.default)({},y,{key:S,dataRef:y,className:w+" "+T,icon:I,title:N}),Z)}else P=C?g.default.createElement(L,(0,o.default)({},y,{dataRef:y,className:w+" "+T,title:N})):g.default.createElement(L,(0,o.default)({},y,{dataRef:y,className:w+" "+T,icon:I,title:N}));return P},a.renderMetaTreeNodes=function(e){var t=a.state.curTree;if(!(t instanceof T.default))return null;console.time("SerializeMetaTreeNodes");var r=T.default.serialize(t);console.timeEnd("SerializeMetaTreeNodes"),console.time("RenderMetaTreeNodes");var l=r.nodes.reverse(),o=t.getRoot(),i=new n.default;l.forEach((function(t){var n=a.renderTreeNode(t,i,e);i.set(t,n)}));var s=o.children.map((function(e){return i.get(e)}));return console.timeEnd("RenderMetaTreeNodes"),s},a.state={selectedKeys:[],needToBeAllSelectNodeList:[],expandedKeys:[],checkAllTree:!1,searchValue:"",searchSelectedKeys:[],searchTreeData:[],searchExpandedKeys:[],curTree:null},a}return(0,u.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedArea,a=e.origTree,n=t.metaid;console.log(n),this.setState({curTree:a})}},{key:"componentWillReceiveProps",value:function(e,t){var a=this.props,n=a.currentArea,r=a.metaTreeNodes;n.pk_area!==e.currentArea.pk_area&&(this.setState({curTree:e.origTree,selectedKeys:[],searchSelectedKeys:[],expandedKeys:[],needToBeAllSelectNodeList:[],checkAllTree:!1,searchValue:"",searchTreeData:[]}),this.props.setMetaTreeNodes([])),0===e.metaTreeNodes.length&&r.length>0&&this.setState({selectedKeys:[],searchSelectedKeys:[],needToBeAllSelectNodeList:[],checkAllTree:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.json,n=t.canSelectTreeNodeList,r=t.metaTree;this.state.searchValue;return g.default.createElement("div",{className:"left-side-meta-tree"},g.default.createElement("div",{className:"tree-feature-container",style:{height:n.length>0?"133px":""}},g.default.createElement("div",{className:"tip"},g.default.createElement("i",{className:"iconfont icon-zhuyi1"}),(0,y.langCheck)("ZoneSetting-000197","pages",a)),g.default.createElement("div",{className:"metatree-search-input",style:{width:"250px",display:"block"}},g.default.createElement(_,{ref:function(t){return e.props.searchField=t},placeholder:(0,y.langCheck)("ZoneSetting-000322","pages",a),onChange:function(t){e.onSearchFieldChange(t.target.value)},onSearch:this.onSearchMeta}),this.state.searchValue&&g.default.createElement("i",{class:"icon iconfont icon-qingkong",onClick:this.onSearchFieldClean})),g.default.createElement(N,{className:"dnd-cancel check-all-tree",onChange:function(t){e.selectAllTreeNode(t,e.props.metaTree)},checked:this.state.checkAllTree},(0,y.langCheck)("ZoneSetting-000125","pages",a)),n.length>0&&g.default.createElement("div",{fieldid:"root",className:"left-tree-search"},g.default.createElement(p.default,{className:"dnd-cancel",maxTagCount:1,size:"small",style:{width:"212px"},multiple:!0,mode:"multiple",placeholder:(0,y.langCheck)("ZoneSetting-000126","pages",a),onChange:this.handleChangeSelectTreeNode,value:this.state.needToBeAllSelectNodeList,dropdownClassName:"fieldid_root_select",notFoundContent:(0,y.langCheck)("ZoneSetting-000277","pages",a)},this.props.canSelectTreeNodeList.map((function(e,t){return g.default.createElement(M,{key:e.refcode+" "+e.refname,disabled:!e.children},e.refcode," ",e.refname)}))))),g.default.createElement("div",{className:"tree-contianer",style:{height:n.length>0?"calc(100% - 133px)":"calc(100% - 81px)"}},r.length>0?this.renderMetaTree(this.state.searchValue?"search":"default"):g.default.createElement(x.default,{text:(0,y.langCheck)("ZoneSetting-000278","pages",a)})),g.default.createElement(S.default,null))}}]),t}(m.Component);t.default=(0,h.connect)((function(e){return{metaTreeNodes:e.zoneSettingData.metaTreeNodes,areaList:e.zoneSettingData.areaList,selectedArea:e.zoneSettingData.selectedArea}}),{setMetaTreeNodes:C.setMetaTreeNodes})(P)},1211:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=h(a(21)),l=h(a(5)),o=h(a(7)),i=h(a(4)),s=h(a(6)),c=a(1),d=h(c),u=h(a(26)),p=a(920),f=a(926),m=a(37),g=a(1031);function h(e){return e&&e.__esModule?e:{default:e}}var b=u.default.base,v=(b.NCTree,b.NCIcon,{canDrag:function(e){return!e.movedItem},beginDrag:function(e){var t=e.targetAreaID,a=e.selectedNodes,n=e.currentArea;document.body.classList.add("dragging-meta-tree");var r=(0,g.processClass)(n.code),l=document.querySelector(".search-area-"+r);return l&&l.classList.add("area-can-drop-meta"),e.areaList.forEach((function(e){var t=document.createElement("div"),a=(0,g.processClass)(e.code);t.classList.add("mask");var l=".drag-mask-"+a,o=document.querySelector(l);if(a!==r){if("1"===n.areatype&&n.relationcode===a)document.querySelector(".drag-mask-content-"+a).appendChild(t);else o&&o.appendChild(t);t.addEventListener("dragenter",(function(){t.classList.add("mask-bg-color")})),t.addEventListener("dragleave",(function(){t.classList.remove("mask-bg-color")}))}})),a=a.map((function(e){return{props:{dataRef:e.props.dataRef}}})),{dataRef:e.dataRef,metaTree:"metaTree",selectedNodes:a,targetAreaID:t}},isDragging:function(e,t){return t.getItem().id===e.id},endDrag:function(e){var t=e.currentArea,a=(0,g.processClass)(t.code);document.body.classList.remove("dragging-meta-tree");var n=document.querySelector(".search-area-"+a);n&&n.classList.remove("area-can-drop-meta"),e.areaList.forEach((function(t){var a=e.currentArea,n=(0,g.processClass)(t.code),r=".drag-mask-"+n,l=document.querySelector(r);("1"!==t.areatype&&"2"!==t.areatype||a.relationcode!==n||(l=document.querySelector(".drag-mask-content-"+n)),l)&&(l.lastElementChild.className.includes("mask")&&l.removeChild(l.lastElementChild))}))}}),y=(0,p.DragSource)("card",v,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),getDropResult:t.getDropResult()}}))(n=function(e){function t(){return(0,l.default)(this,t),(0,i.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=e.getDropResult,r=e.initState;n&&n.result&&r()}},{key:"componentDidMount",value:function(){this.props.connectDragPreview((0,f.getEmptyImage)(),{captureDraggingState:!0})}},{key:"render",value:function(){var e=this.props,t=e.connectDragSource,a=e.title;return t(d.default.createElement("div",{style:{display:"inline-block"}},a))}}]),t}(c.Component))||n;t.default=(0,m.connect)((function(e){return{areaList:e.zoneSettingData.areaList}}))(y)},1212:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=p(a(21)),l=p(a(5)),o=p(a(7)),i=p(a(4)),s=p(a(6)),c=a(1),d=p(c),u=a(37);function p(e){return e&&e.__esModule?e:{default:e}}var f=(0,a(920).DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset(),isDragging:e.isDragging()}}))(n=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.getItemStyles=function(){var e=a.props.clientOffset;if(!e)return{display:"none"};var t="translate("+e.x+"px, "+e.y+"px)";return{transform:t,WebkitTransform:t}},a.countSelectedNumber=function(){var e=a.props.item,t=e.selectedNodes,n=t.find((function(t){return t.props.dataRef.proid===e.dataRef.proid}));return 1===t.length&&n?e.dataRef.title:n?"+"+t.length:"+"+(t.length+1)},a.state={layerStyle:{display:"none"}},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){if(navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1||navigator.userAgent.indexOf("Edge")>-1)return null;var e=this.props.item;return null===e||e&&!e.metaTree?null:d.default.createElement("div",null,d.default.createElement("div",{style:this.getItemStyles(),className:"tree-node-layer"},d.default.createElement("span",null,0===e.selectedNodes.length?e.dataRef.title:this.countSelectedNumber())))}}]),t}(c.Component))||n;t.default=(0,u.connect)((function(e){return{}}))(f)},1213:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.default.createElement("div",{className:"not-have-meta-data"},n.default.createElement("img",{src:r.default,alt:""}),e.text)};var n=l(a(1)),r=l(a(1214));function l(e){return e&&e.__esModule?e:{default:e}}},1214:function(e,t,a){e.exports=a.p+"images/nothavemetadata.png"},1215:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(368)),r=v(a(370)),l=v(a(21)),o=v(a(5)),i=v(a(7)),s=v(a(4)),c=v(a(6)),d=v(a(56));a(369),a(371),a(132);var u=a(1),p=v(u),f=a(37),m=v(a(0)),g=a(968),h=a(1216),b=a(19);a(365);function v(e){return e&&e.__esModule?e:{default:e}}var y=d.default.Option,k=function(e){function t(e,a){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,a));return n.getFromData=function(){var e=n.props.form,t=e.getFieldsValue,a=e.validateFields,r=!1;return a((function(e,t){e||(r=!0)})),r?t():null},n.getFormItem=function(e){var t,a=n.props.areaList,r=[],l=[];if(a&&a.map((function(e,t){"1"===e.areatype?r.push(e):"2"===e.areatype&&l.push(e)})),n.props.isImplement)e=e.filter((function(e,t){return"name"===e.code}));else if(0!==r.length||0!==l.length){var o=e.find((function(e){return"headcode"===e.code}));o&&(o.options=(t=a&&a.filter((function(e,t){return"0"!==e.areatype})))&&t.map((function(e,t){return p.default.createElement(y,{key:e.code,value:e.code},e.name)})))}else e=e&&e.filter((function(e,t){return"headcode"!==e.code}));return e},n.state={},n}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.props.setZoneDataFun(this.getFromData)}},{key:"render",value:function(){var e=this.props.json,t=[{lable:(0,b.langCheck)("102202APP-000005","pages",e),type:"input",code:"code",required:!0},{lable:(0,b.langCheck)("102202APP-000006","pages",e),type:"input",code:"name",required:!0,disabled:this.props.isImplement},{lable:(0,b.langCheck)("102202APP-000007","pages",e),type:"input",code:"resid"},{lable:(0,b.langCheck)("102202APP-000008","pages",e),type:"input",code:"templetdesc",required:!1},{lable:(0,b.langCheck)("102202APP-000009","pages",e),type:"input",code:"clazz",required:!1},{lable:(0,b.langCheck)("102202APP-000010","pages",e),type:"select",code:"headcode",options:[],required:!0},{lable:(0,b.langCheck)("102202APP-000068","pages",e),type:"radio",code:"isdefault"}];return t=this.getFormItem(t),p.default.createElement(n.default,{className:"from-card"},p.default.createElement(r.default,{gutter:24},(0,h.createForm)(t,this.props)))}}]),t}(u.Component);(k=n.default.create()(k)).PropTypes={zoneArr:m.default.object.isRequired,zoneDatas:m.default.object.isRequired,setZoneDataFun:m.default.func.isRequired},t.default=(0,f.connect)((function(e){var t=e.zoneRegisterData,a=t.zoneDatas,n=t.json,r=e.zoneSettingData;return{zoneDatas:a,json:n,areaList:r.areaList,zoneFormData:r.zoneFormData,isImplement:r.isImplement}}),{setZoneDataFun:g.setZoneDataFun,updateAreaList:g.updateAreaList})(k)},1216:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createForm=void 0;var n=p(a(109)),r=p(a(3)),l=p(a(28)),o=p(a(2)),i=p(a(374)),s=p(a(368));a(130),a(375),a(369);var c=p(a(1)),d=a(19),u=p(a(68));function p(e){return e&&e.__esModule?e:{default:e}}var f=p(a(26)).default.base,m=f.NCSelect,g=f.NCRadio,h=s.default.Item,b=g.NCRadioGroup,v=(t.createForm=function(e,t){var a=[];return e&&e.map((function(e,n){e.lable;var r=e.md,l=void 0===r?24:r,o=e.lg,s=void 0===o?12:o,d=e.xl,u=void 0===d?8:d;a.push(c.default.createElement(i.default,{md:l,lg:s,xl:u,key:n,fieldid:e.code},v(t,e)))})),a.filter((function(e){return e.props.children}))},function(e,t){var a=e.zoneDatas,i=e.json,s=e.zoneFormData,p=e.form,f=p.getFieldDecorator,v=(p.getFieldsValue,t.lable),y=t.type,k=t.code,C=t.required,S=t.check,x=(t.search,t.disabled),E=function(t){var a=(0,o.default)({},s),n=["string","boolean"].includes(void 0===t?"undefined":(0,l.default)(t))?t:t.target.value,i=(0,o.default)({},a,(0,r.default)({},k,n));e.setZoneDataFun(i),"headcode"===k&&e.updateAreaList(e.areaList)};switch(y){case"select":return a.areaList&&a.areaList.length>0&&a.areaList.map((function(e){a[k]!==e.code||"0"!==e.areatype||(0,u.default)({status:"error",msg:(0,d.langCheck)("102202APP-000000","pages",i)})})),c.default.createElement(h,{label:v},f(k,{initialValue:a[k]?a[k]+"":"",rules:[{required:C,message:(0,d.langCheck)("102202APP-000001","pages",i)},{validator:S||null}]})(c.default.createElement(m,{showClear:!1,fieldid:k,onChange:E},t.options)));case"radio":var w=!!a[k]&&a[k];return c.default.createElement(h,{label:v},f(k,{initialValue:w,rules:[{required:C},{type:"boolean",validator:S||null}]})(c.default.createElement(b,{selectedValue:e.zoneFormData[k],onChange:E},c.default.createElement(g,{value:!0},(0,d.langCheck)("102202APP-000069","pages",i)),c.default.createElement(g,{value:!1},(0,d.langCheck)("102202APP-000070","pages",i)))));default:return c.default.createElement(h,{label:v},x?c.default.createElement("span",null,a[k]):f(k,{initialValue:a[k]?a[k]+"":"",rules:[{required:C,message:""+(0,d.langCheck)("102202APP-000002","pages",i)+v},{validator:S||null}]})(c.default.createElement(n.default,{onChange:E})))}})},951:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=S(a(21)),r=S(a(5)),l=S(a(7)),o=S(a(4)),i=S(a(6)),s=S(a(401));a(398);var c=a(1),d=S(c),u=a(37);a(1076);var p=S(a(1143)),f=S(a(1149)),m=S(a(1183)),g=S(a(1205)),h=a(19),b=a(365),v=a(366),y=a(968),k=a(1030),C=S(a(26));S(a(35));function S(e){return e&&e.__esModule?e:{default:e}}s.default.Step;var x=C.default.DragWithCom,E=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.urlRequestObj=(0,h.GetQuery)(a.props.location.search),a.state={templetid:a.urlRequestObj.templetid,status:a.urlRequestObj.status,pcode:a.urlRequestObj.pcode,appcode:a.urlRequestObj.appcode,json:{},isLang:!1,isImplement:"templateSetting"===a.urlRequestObj.status||"templateSetting-unit"===a.urlRequestObj.status,ismobile:"mobile"===a.urlRequestObj.templettype},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"componentWillMount",value:function(){var e=this;(0,b.getMulti)({moduleId:["ZoneSetting","102202APP"],domainName:"workbench",callback:function(t){window.multiZoneSettingLang=t,e.props.setJson(t),e.setState({json:t,isLang:!0})}}),this.props.setImplementFlag(this.state.isImplement),this.props.setMobileFlag(this.state.ismobile)}},{key:"componentDidMount",value:function(){var e=this,t=(0,h.GetQuery)(this.props.location.search);this.props.setZoneTempletid(t.templetid),v.queryAllArea.call(this).then((function(){v.queryTemplateProperty.call(e)}))}},{key:"render",value:function(){var e=this.state,t=(e.json,e.isImplement),a=this.props.leftSiderShow;return d.default.createElement("div",{className:"template-setting-page"},d.default.createElement(p.default,{templetid:this.state.templetid,status:this.state.status,pcode:this.state.pcode,appcode:this.state.appcode,json:this.state.json}),d.default.createElement("div",{className:"template-setting-container "+(a?"":"hide-drag-line")},t?d.default.createElement(x,{defLeftWid:a?"279px":"0px",leftMinWid:a?"279px":"0px",leftDom:d.default.createElement(g.default,{json:this.state.json,status:this.state.status,show:a}),rightDom:d.default.createElement(d.default.Fragment,null,d.default.createElement(f.default,{templetid:this.state.templetid,status:this.state.status,json:this.state.json}),this.state.isLang?d.default.createElement(m.default,{json:this.state.json,status:this.state.status}):null)}):d.default.createElement(d.default.Fragment,null,d.default.createElement(g.default,{json:this.state.json,status:this.state.status,show:a,templettype:(0,h.GetQuery)(this.props.location.search)&&(0,h.GetQuery)(this.props.location.search).templettype}),d.default.createElement(f.default,{templetid:this.state.templetid,status:this.state.status,json:this.state.json,pcode:this.state.pcode,appcode:this.state.appcode}),this.state.isLang?d.default.createElement(m.default,{json:this.state.json,status:this.state.status}):null)))}}]),t}(c.Component);t.default=(0,u.connect)((function(e){return{isImplement:e.zoneSettingData.isImplement,leftSiderShow:e.zoneSettingData.leftSiderShow}}),{setJson:k.setJson,setZoneData:k.setZoneData,setZoneTempletid:k.setZoneTempletid,setZoneDataFun:y.setZoneDataFun,updateAreaList:y.updateAreaList,setImplementFlag:y.setImplementFlag,setServerData:y.setServerData,setMobileFlag:y.setMobileFlag})(E)},968:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMobileFlag=t.onToggleLeftSider=t.updateSearchBox=t.setMetaTreeNodes=t.setAreaHide=t.setServerData=t.setTabLayModalVisible=t.setAreaItemVisible=t.setImplementFlag=t.updateAreaValidate=t.updateSaveFlag=t.setZoneDataFun=t.setCurrentBatchCell=t.updateBatchSource=t.setFormulaInfo=t.toggleFormula=t.clearData=t.updatePreviewData=t.updateSelectArea=t.updateAreaList=t.updateSelectCard=t.setZoneData=void 0;var n,r=a(3),l=(n=r)&&n.__esModule?n:{default:n},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(376));t.setZoneData=function(e){return{type:o.ZONESETTING,data:e}},t.updateSelectCard=function(e){return{type:o.UPDATESELECTCARD,selectCard:e}},t.updateAreaList=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments[2];return a&&a(e),{type:o.UPDATEAREALIST,areaList:e,init:t}},t.updateSelectArea=function(e){return{type:o.UPDATESELECTAREA,selectedArea:e}},t.updatePreviewData=function(e){return{type:o.PREVIEWDATA,previewData:e}},t.clearData=function(){return{type:o.CLEARDATA}},t.toggleFormula=function(e,t){return{type:o.TOGGLEFORMULA,formula:(0,l.default)({},e,t||{visible:!1,value:""})}},t.setFormulaInfo=function(e){return{type:o.SETFORMULAINFO,formulaInfo:e}},t.updateBatchSource=function(e){return{type:o.UPDATEBATCHSOURCE,batchSource:e}},t.setCurrentBatchCell=function(e){return{type:o.SETCURRENTBATCHCELL,currentBatchCell:e}},t.setZoneDataFun=function(e){return{type:o.SETZONEFORMFUN,getFromData:e}},t.updateSaveFlag=function(e){return{type:o.UPDATESAVEFLAG,isSave:e}},t.updateAreaValidate=function(e){return{type:o.SETAREAVALIDATE,validate:e}},t.setImplementFlag=function(e){return{type:o.SETIMPLEMENTFLAG,isImplement:e}},t.setAreaItemVisible=function(e){return{type:o.SETAREAVISIBLE,areaVisible:e}},t.setTabLayModalVisible=function(e){return{type:o.TABLAYMODALVISIBLE,showTabLaySetModal:e}},t.setServerData=function(e){return{type:o.SETSEVERDATA,serverData:e}},t.setAreaHide=function(e){return{type:o.SETAREAHIDE,areaHide:e}},t.setMetaTreeNodes=function(e){return{type:o.SET_META_TREE_NODES,data:e}},t.updateSearchBox=function(e){return{type:o.UPDATE_SEARCH_BOX,boxStatus:e}},t.onToggleLeftSider=function(e){return{type:o.ONTOGGLELEFTSIDER,leftSiderShow:e}},t.setMobileFlag=function(e){return{type:o.SETMOBILEFLAG,ismobile:e}}},969:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageLayoutRight=t.PageLayoutLeft=t.PageLayoutHeader=t.PageScrollLayout=t.PageLayout=void 0;var n=u(a(21)),r=u(a(5)),l=u(a(7)),o=u(a(4)),i=u(a(6)),s=a(1),c=u(s),d=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}a(970);var p=u(a(26)).default.base.NCDiv,f=!1,m=function(e){function t(e){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,i.default)(t,e),(0,l.default)(t,[{key:"handleMouseUp",value:function(){f=!1,console.log(this.test)}},{key:"handleMouseMove",value:function(e){if(f){var t=e.clientX,a=document.querySelector("#layoutLeft"),n=a.getBoundingClientRect().left,r=parseInt(t-n)+3;r<200||(a.style.width=r+"px")}}},{key:"render",value:function(){return c.default.createElement("div",{className:"nc-workbench-page"},this.props.header?this.props.header:null,c.default.createElement("div",{onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this),className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+(this.props.className||"")},this.props.children))}}]),t}(s.Component),g=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={suck:!1},a.initScrollContainerTop,a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"handleMouseUp",value:function(){f=!1}},{key:"handleMouseMove",value:function(e){if(f){var t=e.clientX,a=document.querySelector("#layoutLeft"),n=a.getBoundingClientRect().left,r=parseInt(t-n)+3;r<200||(a.style.width=r+"px")}}},{key:"handleScroll",value:function(e){var t=this.refs.ncWorkbenchPageScroll.getBoundingClientRect().y;if(t==this.initScrollContainerTop&&this.setState({suck:!1}),t<this.initScrollContainerTop){if(this.state.suck)return;this.containerWidthChange(),this.setState({suck:!0})}}},{key:"containerWidthChange",value:function(){var e=this.refs.ncWorkbenchPageOwnpage.getBoundingClientRect().width;document.getElementsByClassName("nc-workbench-page-header")[0].style.width=e+"px",document.getElementById("suckTableHeader")&&(document.getElementById("suckTableHeader").style.width=e+"px")}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.containerWidthChange);var e=this.refs.ncWorkbenchPageScroll.getBoundingClientRect().y;this.initScrollContainerTop=e}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.containerWidthChange)}},{key:"render",value:function(){var e=this.state.suck;return c.default.createElement("div",{className:"nc-workbench-page-scroll",onScroll:this.handleScroll.bind(this)},c.default.createElement("div",{className:" nc-workbench-page "},c.default.createElement("div",{className:"nc-workbench-page-container "+(e?"nc-workbench-suck":""),ref:"ncWorkbenchPageScroll"},this.props.header?this.props.header:null,c.default.createElement("div",{onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this),ref:"ncWorkbenchPageOwnpage",className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+(this.props.className||"")},this.props.children))))}}]),t}(s.Component),h=function(e){function t(e){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,i.default)(t,e),(0,l.default)(t,[{key:"handleMouseDown",value:function(){f=!0}},{key:"render",value:function(){return c.default.createElement("div",{id:"layoutLeft",className:"nc-workbench-ownpage-left "+(this.props.className||""),style:this.props.style?this.props.style:{background:"#f6f6f6"}},c.default.createElement("span",{className:"layout-drag-block",onMouseDown:this.handleMouseDown.bind(this)}),this.props.children)}}]),t}(s.Component),b=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.handleBindKey=a.handleBindKey.bind(a),a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleBindKey,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleBindKey,!1)}},{key:"handleBindKey",value:function(e){var t=e||window.event||arguments.callee.caller.arguments[0];t&&t.keyCode&&t.shiftKey&&27==t.keyCode&&this.props.pageback&&this.props.pageback()}},{key:"render",value:function(){return c.default.createElement(p,{areaCode:p.config.HEADER,className:"nc-workbench-page-header "+(this.props.className||"")},this.props.children)}}]),t}(s.Component),v=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"nc-workbench-ownpage-right "+(this.props.className||"")},this.props.children)}}]),t}(s.Component);m.propTypes={children:d.default.any.isRequired},h.propTypes={children:d.default.any.isRequired},v.propTypes={children:d.default.any.isRequired},t.PageLayout=m,t.PageScrollLayout=g,t.PageLayoutHeader=b,t.PageLayoutLeft=h,t.PageLayoutRight=v},970:function(e,t,a){var n=a(971);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},971:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,'.nc-workbench-page{position:absolute;top:0;z-index:10;height:100%;width:100%;padding:8px 0 0;display:flex;flex-direction:column}.nc-workbench-page .nc-workbench-page-header{flex:0 0 45px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #d9d9d9;border-radius:3px 3px 0 0;background:#fff;padding:0 20px}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn{display:flex;align-items:center;font-size:16px;color:#111;font-weight:700}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont{margin-right:16px;border-radius:50%;font-size:16px;padding:0 4px;font-weight:400;line-height:24px;cursor:pointer}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont:hover{background:#e8e8e8}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn img{margin-right:10px}.nc-workbench-page .nc-workbench-page-header .header_in_icon{display:flex;font-weight:700;font-size:16px;color:#111;line-height:24px}.nc-workbench-page .nc-workbench-page-header .header_in_icon span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-ownpage{min-width:800px;height:calc(100% - 61px);border-radius:0 0 3px 3px}.nc-workbench-page .nc-workbench-ownpage-all{display:flex;justify-content:flex-start;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nc-workbench-page .nc-workbench-ownpage-left{position:relative;height:100%;min-width:280px}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block{position:absolute;right:-3px;z-index:10;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:block;padding:0 3px;height:100%;border-radius:3px;cursor:w-resize}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:after{content:"";display:block;width:1px;height:100%;background:#d9d9d9}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:hover:after{width:2px;background:rgba(0,0,0,.54)}.nc-workbench-page .nc-workbench-ownpage-right{min-width:50%;flex:1}.nc-workbench-page-scroll{height:100%;width:100%;overflow-y:auto}.nc-workbench-page-scroll .nc-workbench-page-container{margin-top:0;min-height:100%;background:#fff;border-radius:3px}.nc-workbench-page-scroll .nc-workbench-page-container .nc-workbench-page-header{position:static;transition:top .7s ease;height:46px}.nc-workbench-page-scroll .nc-workbench-page-container .suck-table-header{position:static;transition:top .7s ease}.nc-workbench-page-scroll .nc-workbench-suck{padding-top:80px}.nc-workbench-page-scroll .nc-workbench-suck .nc-workbench-page-header{position:fixed;z-index:1;top:44px}.nc-workbench-page-scroll .nc-workbench-suck .suck-table-header{position:fixed;z-index:1;top:94px}@media screen and (min-width:1280px){.nc-workbench-page{padding:8px 16px}}@media screen and (min-width:1440px){.nc-workbench-page{padding:8px 16px}}@media screen and (min-width:1600px){.nc-workbench-page{padding:8px 16px}}',""])},972:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTree=void 0;var n,r=a(89),l=(n=r)&&n.__esModule?n:{default:n};t.createTree=function(e,t,a){e=l.default.cloneDeep(e);var n=o(e,a),r=n.treeArray,c=n.treeObject;return c=i(c,t),s(r,c,t)};var o=function(e,t){var a=[],n={};return e.map((function(e,r){e[t]?(n.hasOwnProperty(e[t])||(n[e[t]]=[]),n[e[t]].push(e)):a.push(e)})),{treeArray:a,treeObject:n}},i=function(e,t){for(var a in e)e.hasOwnProperty(a)&&(e[a]=s(e[a],e,t));return e},s=function(e,t,a){return e.map((function(e,n){return t.hasOwnProperty(e[a])&&(e.children=t[e[a]]),e}))}},975:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),r=u(a(21)),l=u(a(5)),o=u(a(7)),i=u(a(4)),s=u(a(6));t.default=function(e){return function(t){return function(a){function u(t){(0,l.default)(this,u);var a=(0,i.default)(this,(u.__proto__||(0,r.default)(u)).call(this,t));return a.showVaryModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pagetemplate",t=arguments[1];a.setState({showVaryModal:!0,flag:e,operate:t})},a.onConfirm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"function"==typeof e&&e(t,a.component,a.state.operate)},a.state={showVaryModal:!1,flag:"pagetemplate"},a}return(0,s.default)(u,a),(0,o.default)(u,[{key:"render",value:function(){var e=this,a=(0,n.default)({showVaryModal:this.showVaryModal},this.props);return c.default.createElement(c.default.Fragment,null,c.default.createElement(t,(0,n.default)({ref:function(t){return e.component=t}},a)),this.state.showVaryModal&&c.default.createElement(d.default,{flag:this.state.flag,close:function(){return e.setState({showVaryModal:!1})},confirm:this.onConfirm}))}}]),u}(c.default.Component)}};var c=u(a(1)),d=u(a(1008));function u(e){return e&&e.__esModule?e:{default:e}}},976:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(21)),r=d(a(5)),l=d(a(7)),o=d(a(4)),i=d(a(6)),s=a(1),c=d(s);function d(e){return e&&e.__esModule?e:{default:e}}a(977);var u=d(a(26)).default.base,p=u.NCButtonGroup,f=u.NCButton,m=u.NCMenu,g=u.NCDropdown,h=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.createBtn=function(e){return e.map((function(e){if(e.isshow){if("btn"==e.divide)return c.default.createElement(f,{className:"divide-btn",key:e.code,colors:e.type,fieldid:e.fieldid||e.code,disabled:e.disabled,onClick:function(){a.props.onClick(e.code)}},e.name);if("select"==e.divide){var t=c.default.createElement(m,{onClick:function(){a.props.onClick(e.code)}},c.default.createElement(m.Item,{key:"1",fieldid:e.fieldid||e.code},c.default.createElement("div",null,e.name)));return c.default.createElement(g,{overlay:t,trigger:["click"],fieldid:e.dropdownFieldid},c.default.createElement(f,{className:"margin-left-1",key:e.code,colors:e.type,fieldid:e.fieldid||e.code,is_arrow:!0,style:{minWidth:18}},c.default.createElement("i",{className:"iconfont icon-hangcaozuoxiala1"})))}return c.default.createElement(f,{className:"margin-left-6 "+(e.className?e.className:""),key:e.code,colors:e.type,fieldid:e.fieldid||e.code,disabled:e.disabled,onClick:function(){a.props.onClick(e.code)}},e.name)}return null}))},a.createBtnGroup=function(e){if(e.length>0){var t=e.filter((function(e){return e.isshow})),n=a.createBtn(e);return 1===t.length?n:c.default.createElement(p,null,n)}return null},a.createButton=function(e){var t=e.filter((function(e){return e.group})),n=e.filter((function(e){return!e.group}));return c.default.createElement("div",null,c.default.createElement("div",{style:{marginLeft:6}},a.createBtnGroup(t)),a.createBtn(n))},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"buttons-component "+(this.props.className?this.props.className:"")},this.createButton(this.props.dataSource))}}]),t}(s.Component);t.default=h},977:function(e,t,a){var n=a(978);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},978:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".buttons-component div{display:flex;align-items:center}.buttons-component .ant-btn-group{margin-left:6px}body .divide-btn{margin-left:6px;border-top-right-radius:0;border-bottom-right-radius:0}body .margin-left-1{margin-left:1px;width:18px;border-top-left-radius:0;border-bottom-left-radius:0;display:flex;justify-content:center;align-items:center;padding:0}body .margin-left-1 .iconfont{font-size:12px}",""])},979:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1)),r=a(32),l=i(a(26)),o=i(a(367));function i(e){return e&&e.__esModule?e:{default:e}}var s=l.default.appIcons;t.default=function(e){var t=e.appCode,a=(0,r.getStore)("APPICONSSTORE"),l=(0,r.getStore)("nccIcon")||"";l=l.length?l+"_":l;var i=a&&a[t],c=s&&s[l+i]?s[l+i]:o.default[l]?o.default[l]:o.default.defaultIcon;return n.default.createElement("div",{style:{width:"24px",height:"24px",marginRight:"10px",background:"url("+c+") no-repeat 0px 0px",backgroundSize:"contain"}})}},983:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(21)),r=f(a(5)),l=f(a(7)),o=f(a(4)),i=f(a(6)),s=a(1),c=f(s),d=f(a(1003)),u=f(a(1004)),p=a(19);function f(e){return e&&e.__esModule?e:{default:e}}a(1005);var m=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.switchImg=function(e,t){switch(e){case"treeCardTable":return c.default.createElement("div",{className:"CoverPosition-content-treeCardTable"},c.default.createElement("img",{src:u.default}),c.default.createElement("span",null,t("0000PUB-000002")));default:return c.default.createElement("div",{className:"CoverPosition-content"},c.default.createElement("img",{src:d.default}),c.default.createElement("span",null,t("0000PUB-000002")))}},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"CoverPosition-container"},this.switchImg(this.props.type,p.langCheck))}}]),t}(s.Component);t.default=m},984:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=S(a(372)),r=S(a(170)),l=S(a(111)),o=S(a(230)),i=S(a(925)),s=S(a(21)),c=S(a(5)),d=S(a(7)),u=S(a(4)),p=S(a(6)),f=a(1),m=S(f),g=a(37),h=a(968),b=a(919),v=S(a(35)),y=a(19),k=a(365),C=S(a(364));function S(e){return e&&e.__esModule?e:{default:e}}function x(e,t){var a=this,n=this.props,r=n.requestUrl,l=n.requestData,o=n.templetData,i=o.pagecode,s=o.appcode,c=o.templetid,d=r||"/nccloud/platform/templet/querypage.do",u=l||{pagecode:i,appcode:s,templetid:c};Array.isArray(u)&&0==u.length||(0,v.default)({url:d,data:u,loading:!0,info:{name:(0,y.langCheck)("ZoneSetting-000028","pages",e),action:(0,y.langCheck)("ZoneSetting-000029","pages",e)},success:function(e){var n=e.data.data;n&&(a.registerComponent(n),a.props.meta.setMeta(n),l&&l.forEach((function(e){n[e.code]&&(n[e.code].position=e.position)})),a.props.updatePreviewData(n),a.setState({reRender:!0},(function(){return t(n)})))}})}a(985);var E=function(e){function t(e){(0,c.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.afterInitTemplate=function(e){if(e){var t=e,s=[],c=a.getTabGirdRelationCode(t),d=t.formrelation,u=t.containerrelation,p=t.formassociatedrelation,f=[],m=[];c&&(0,i.default)(c).forEach((function(e){f=f.concat(e)})),p&&(0,i.default)(p).forEach((function(e){m=m.concat(e.formtabs)}));var g=function(e,t){var n=t.moduletype,r=t.code;"table"!==n&&"form"!==n&&"search"!==n||"form"===n&&d&&t.relationcode in d||"form"===n&&p&&m.includes(e)||(u&&c&&(0,i.default)(u).length&&(0,l.default)(c).includes(e)?s.push({id:r,name:t.name,myAreaType:n,position:t.position,tabGirdRelationCode:c[e],srcAreaCode:e}):f.includes(e)||s.push({id:r,name:t.name,myAreaType:n,position:t.position})),"form"===n&&a.props.form.setFormStatus(r,"edit"),"table"===n&&setTimeout((function(){0==a.props.editTable.getNumberOfRows(r)&&a.props.editTable.addRow(r)}),10)},h=!0,b=!1,v=void 0;try{for(var y,k=(0,r.default)((0,n.default)(t));!(h=(y=k.next()).done);h=!0){var C=y.value,S=(0,o.default)(C,2);g(S[0],S[1])}}catch(e){b=!0,v=e}finally{try{!h&&k.return&&k.return()}finally{if(b)throw v}}s[0]&&s[0].position&&s.sort((function(e,t){return e.position-t.position})),a.setState({all_keys:s})}},a.getTabGirdRelationCode=function(e){var t={},a=!0,l=!1,i=void 0;try{for(var s,c=(0,r.default)((0,n.default)(e));!(a=(s=c.next()).done);a=!0){var d=s.value,u=(0,o.default)(d,2),p=u[0],f=u[1];if("containerrelation"===p){var m=function(e,a){e&&(t.hasOwnProperty(e)||(t[e]=[]),a.map((function(a){t[e]=t[e].concat(a)})))},g=!0,h=!1,b=void 0;try{for(var v,y=(0,r.default)((0,n.default)(f));!(g=(v=y.next()).done);g=!0){var k=v.value,C=(0,o.default)(k,2);m(C[0],C[1])}}catch(e){h=!0,b=e}finally{try{!g&&y.return&&y.return()}finally{if(h)throw b}}}}}catch(e){l=!0,i=e}finally{try{!a&&c.return&&c.return()}finally{if(l)throw i}}return t},a.registerComponent=function(e){var t=a.getTabGirdRelationCode(e),n=(0,i.default)(e).filter((function(e){return e&&"form"===e.moduletype})).map((function(e){return e.code})),r=(0,i.default)(e).filter((function(e){return e&&"table"===e.moduletype})).map((function(e){return e.code})),o=(0,i.default)(e).filter((function(e){return e&&"search"===e.moduletype})).map((function(e){return e.code})),s=t&&(0,l.default)(t)||[];s.length&&t&&(0,i.default)(t).forEach((function(e){r=_.differenceBy(r,e)})),n.length&&a.props.use.form.apply(null,n),r.length&&a.props.use.editTable.apply(null,r),s.length&&a.props.use.cardTable.apply(null,s),o.length&&a.props.use.search.apply(null,o)},a.showModalHidden=function(){a.props.setModalVisibel(!1)},a.createDom=function(){var e=a.props,t=e.editTable,n=e.form,r=e.search,l=e.cardTable,o=n.createForm,i=t.createEditTable,s=r.NCCreateSearch,c=l.createCardTable,d=a.state.all_keys,u=[];return d.length&&d.map((function(e,t){switch(e.myAreaType){case"form":u.push(m.default.createElement("div",{className:"viewTemplateArea",key:"form"+t},m.default.createElement("div",{className:"descrip"},m.default.createElement("span",{key:"forms"+t}," ▼ "),""+e.name),o(e.id)));break;case"table":e.tabGirdRelationCode?u.push(m.default.createElement("div",{className:"viewTemplateArea",key:"table"+t,ref:""+e.id},m.default.createElement("div",{className:"descrip"},m.default.createElement("span",{key:"tables"+t}," ▼ "),""+e.name),c(e.srcAreaCode))):u.push(m.default.createElement("div",{className:"viewTemplateArea",key:"table"+t,ref:""+e.id},m.default.createElement("div",{className:"descrip"},m.default.createElement("span",{key:"tables"+t}," ▼ "),""+e.name),i(e.id,{})));break;case"search":u.push(m.default.createElement("div",{className:"viewTemplateArea",key:"search"+t},m.default.createElement("div",{className:"descrip"},m.default.createElement("span",{key:"searchs"+t}," ▼ "),""+e.name),s(e.id,{useCache:!1})))}})),u},a.state={all_keys:[],json:{},reRender:!1},a}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,k.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t}),x.call(e,t,e.afterInitTemplate)}})}},{key:"render",value:function(){var e=this.state,t=e.json,a=e.reRender;return m.default.createElement(C.default,{maskClosable:!1,customHeader:(0,y.langCheck)("ZoneSetting-000121","pages",t),visible:this.props.previewVisibel,onOk:this.onOkDialog,onCancel:this.showModalHidden,width:"98%",className:"viewPageTem",footer:null,fieldid:"preview"},a&&this.createDom())}}]),t}(f.Component);E=(0,b.createPage)({})(E),t.default=(0,g.connect)((function(e){return{areaList:e.zoneSettingData.areaList,previewData:e.zoneSettingData.previewData}}),{updatePreviewData:h.updatePreviewData})(E)},985:function(e,t,a){var n=a(986);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(n,r);n.locals&&(e.exports=n.locals)},986:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,".viewPageTem .u-modal-content .u-modal-body{overflow:auto;padding:20px 0}.viewPageTem .u-modal-content .u-modal-body .printContent{padding:20px}.viewPageTem .u-modal-content .u-modal-body .total-table-wrapper>.u-table-content>.u-table-scroll>div:not(.u-table-footer)>.u-table-body{overflow:hidden!important}.viewPageTem .u-modal-content .viewTemplateArea{padding:0 20px}",""])}}]);
//# sourceMappingURL=ZoneSetting.js.map